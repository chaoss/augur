<<<<<<< HEAD
{"version":3,"sources":["app/Augur.js","app/AugurAPI.js","app/AugurStats.js","app/components/AugurApp.vue","app/components/AugurCards.vue","app/components/AugurHeader.vue","app/components/BaseRepoActivityCard.vue","app/components/BaseRepoEcosystemCard.vue","app/components/ComparedRepoActivityCard.vue","app/components/GrowthMaturityDeclineCard.vue","app/components/MainControls.vue","app/components/charts/BubbleChart.vue","app/components/charts/DependencyOverview.vue","app/components/charts/EmptyChart.vue","app/components/charts/LineChart.vue","app/components/charts/StackedBarChart.vue","app/components/standard.js","app/include/kube/kube.js","app/include/svgsaver.js"],"names":["Augur","queryString","require","window","jQuery","Vue","Vuex","VueVega","default","AugurAPI","AugurRepos","AugurStats","$","_","d3","SvgSaver","AUGUR_CHART_STYLE","brightColors","dullColors","AugurApp","use","config","productionTip","augur","Store","state","baseRepo","comparedRepos","trailingAverage","startDate","Date","endDate","compare","showBelowAverage","rawWeekly","byDate","mutations","setBaseRepo","payload","repo","Repo","url","toString","keepCompared","title","owner","name","history","pushState","addComparedRepo","push","location","search","setDates","setCompare","setVizOptions","parseInt","reset","store","$mount","parsed","parse","arrayFormat","$store","commit","replace","comparedTo","forEach","hostURL","version","autobatch","_version","_host","host","__cache","__timeout","__pending","openRequests","endpoints","str","join","btoa","created_at","now","Promise","resolve","reject","data","ajax","type","dataType","contentType","then","Error","repos","fields","reverseMap","processedData","Array","prototype","apply","batch","assign","__reverseEndpointMap","isArray","response","status","path","JSON","repoName","splitURL","split","length","__endpointMap","Endpoint","r","endpoint","self","fullEndpoint","params","callback","__autobatcher","get","Timeseries","jsName","func","relativeTo","baselineRepo","jsNameArray","noExecute","routes","map","e","mapped","earliest","latest","datum","convertDates","d","date","filter","key","convertKey","value","ary","reduce","a","flat","mean","averageArray","distances","Math","sqrt","stddev","standardDeviation","variance","windowSizeInDays","rolling","averageWindow","i","lastFound","after","before","setDate","getDate","iter","average","slice","shift","baseline","baseData","compareData","undefined","period","Object","keys","base","rollingAverage","result","toPush","x","console","log","stats","describe","newObj","zscore","from","arguments","props","computed","chart","full_width","height","x_accessor","format","percentage","time_series","area","__download_data","__download_file","toLowerCase","renderChart","$refs","holder","find","removeClass","chartholder","innerHTML","appendChild","target","className","MG","data_graphic","addClass","document","createElement","source","chartStatus","downloadJSON","href","encodeURIComponent","stringify","setAttribute","splice","innerKey","zscores","legend","colors","baselines","label","makeRelative","disableRollingAverage","combine","y_accessor","y_mouseover","legend_target","hover","onEnterEvent","hide","onLeaveEvent","show","catch","error","chart_type","missing_text","methods","downloadSVG","svgsaver","svg","asSvg","downloadPNG","asPng","fn","jquery","Function","inherits","parent","F","f","prop","super","Kube","element","options","$element","opts","extend","defaults","namespace","$target","getInstance","hasTarget","args","call","_fireCallback","_data","callbacks","isFunction","events","eventNamespace","len","handler","Plugin","create","classname","pluginname","method","val","each","$this","methodVal","autoload","arr","s","trim","autoloadQueue","startAutoload","MutationObserver","observer","mutation","newNodes","addedNodes","nodeType","startAutoloadOnce","observe","subtree","childList","$nodes","not","$el","indexOf","attr","watch","on","Animation","effect","completeCallback","prefixes","queue","start","isSlideEffect","setElementHeight","addToQueue","clean","animate","removeElementHeight","css","isHideableEffect","effects","inArray","isToggleEffect","storeHideClasses","hasClass","revertHideClasses","removeData","removeHideClass","makeSimpleEffects","_callback","complete","proxy","makeComplete","make","event","one","off","animation","Detect","isMobile","test","navigator","userAgent","isDesktop","isMobileScreen","width","isTabletScreen","isDesktopScreen","FormData","app","set","formdata","appendForms","appendFields","$fields","append","$forms","formsData","serializeArray","serialize","Response","obj","item","parseItem","html","stripslashes","top","notify","Utils","disableBodyScroll","$body","windowWidth","innerWidth","documentElementRect","documentElement","getBoundingClientRect","right","abs","left","isOverflowing","body","clientWidth","scrollbarWidth","measureScrollbar","scrollDiv","offsetWidth","removeChild","enableBodyScroll","Message","closeSelector","closeEvent","animationOpen","animationClose","$close","close","stop","open","preventDefault","isOpened","onOpened","onClosed","Sticky","offset","offsetTop","getOffsetTop","load","scroll","isFix","fixed","unfixed","scrollTop","Toggleme","toggleEvent","text","toggle","revertText","storeText","setTimeout","replaceText","Offcanvas","direction","clickOutside","utils","detect","buildTargetWidth","buildAnimationDirection","getCloseLink","closeAll","pushBody","$elms","isTag","tagName","closest","pullBody","handleKeyboard","which","properties","Collapse","active","toggleClass","boxClass","hashes","currentHash","currentItem","$items","getItems","loadItems","$boxes","getBoxes","setActiveItem","el","getItem","hash","getItemBy","addActive","$box","$caret","$parent","removeActive","openAll","num","eq","Dropdown","caretUp","buildClose","buildCaret","buildMobileAnimation","disableEvents","getCaret","buildCaretPosition","innerHeight","toggleCaretOpen","toggleCaretClose","setPosition","shouldNotBeClosed","enableEvents","isNavigationFixed","getPlacement","getOffset","position","getPosition","coords","placement","leftFix","outerHeight","Tabs","equals","live","buildLiveTabs","tabsCollection","hashesCollection","$tabs","getTabs","getLocationHash","setItemHeight","toArray","collectItem","$tab","$layers","$liveTabsList","buildLiveItem","tab","$li","$a","index","getLiveItemId","getLiveItemTitle","first","next","fetchElement","prev","pushStateOpen","pushStateClose","isHash","minHeight","getItemMaxHeight","max","h","modalcurrent","modalwindow","modal","Modal","header","maxHeight","overlay","buildModal","$modal","$header","buildOverlay","$overlay","prepend","buildHeader","buildContent","findActions","resize","handleEnter","getData","getTime","cache","success","buildWidth","bottom","percent","match","buildPosition","windowHeight","buildHeight","padding","margin","modalHeight","handleEscape","setHeader","setContent","content","setWidth","getModal","getBody","getHeader","defineProperty","exports","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_interopRequireDefault","__esModule","_classCallCheck","instance","TypeError","_computedStyles","_computedStyles2","_fileSaver","_fileSaver2","svgStyles","svgAttrs","inheritableAttrs","isDefined","isUndefined","isObject","isNode","Node","nodeName","cleanAttrs","attrs","styles","attributes","specified","removeAttribute","cleanStyle","tgt","parentStyles","parentNode","style","removeProperty","domWalk","src","down","up","children","childNodes","cloneSvg","clonedSvg","cloneNode","DownloadAttributeSupport","MouseEvent","saveUri","uri","dl","dispatchEvent","createCanvas","cb","canvas","context","getContext","image","Image","onload","drawImage","savePng","toBlob","blob","saveAs","toDataURL","isIE11","MSInputMethodContext","documentMode","k","getSvg","querySelector","getFilename","filename","ext","getAttribute","encodeURI","_ref","cloneSVG","getHTML","outerHTML","setAttributeNS","XMLSerializer","serializeToString","getBlob","Blob","getUri","unescape","getPngUri","module"],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1EA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7FA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9LA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1EA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjDA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjOA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"public/app.js","sourcesContent":["const queryString = require('query-string')\n\nexport default function Augur () {\n  window.jQuery = require('jquery')\n  window.Vue = require('vue')\n  window.Vuex = require('vuex')\n  window.VueVega = require('vue-vega').default\n  let AugurAPI = require('AugurAPI').default\n  window.AugurAPI = new AugurAPI()\n  window.AugurRepos = {}\n  window.AugurStats = require('AugurStats').default\n  window.$ = window.jQuery\n  window._ = require('lodash')\n  window.d3 = require('d3')\n  window.SvgSaver = require('svgsaver')\n\n  window.AUGUR_CHART_STYLE = {\n    brightColors: ['#FF3647', '#007BFF', '#DAFF4D', '#B775FF'],\n    dullColors: ['#CCCCCC', '#CCE7F2', '#D4F0B0', '#D8C3E3']\n  }\n\n  let AugurApp = require('./components/AugurApp')\n\n  window.Vue.use(window.Vuex)\n  window.Vue.use(window.VueVega)\n  window.Vue.config.productionTip = false\n\n  window.augur = new window.Vuex.Store({\n    state: {\n      baseRepo: null,\n      comparedRepos: [],\n      trailingAverage: 180,\n      startDate: new Date('1 January 2005'),\n      endDate: new Date(),\n      compare: 'each',\n      showBelowAverage: false,\n      rawWeekly: false,\n      byDate: false\n    },\n    mutations: {\n      setBaseRepo (state, payload) {\n        let repo = window.AugurAPI.Repo(payload.url)\n        if (!window.AugurRepos[repo.toString()]) {\n          window.AugurRepos[repo.toString()] = repo\n        }\n        state.baseRepo = repo.toString()\n        if (!payload.keepCompared) {\n          state.comparedRepos = []\n        }\n        let title = repo.owner + '/' + repo.name + '- Augur'\n        let queryString = '?repo=' + repo.owner + '+' + repo.name\n        window.history.pushState(null, title, queryString)\n      },\n      addComparedRepo (state, payload) {\n        let repo = window.AugurAPI.Repo(payload.url)\n        if (!window.AugurRepos[repo.toString()]) {\n          window.AugurRepos[repo.toString()] = repo\n        }\n        state.comparedRepos.push(repo.toString())\n        let title = 'Augur'\n        let queryString = window.location.search + '&comparedTo[]=' + repo.owner + '+' + repo.name\n        window.history.pushState(null, title, queryString)\n      },\n      setDates (state, payload) {\n        if (payload.startDate) {\n          state.startDate = new Date(payload.startDate)\n        }\n        if (payload.endDate) {\n          state.endDate = new Date(payload.endDate)\n        }\n      },\n      setCompare (state, payload) {\n        state.compare = payload.compare\n      },\n      setVizOptions (state, payload) {\n        if (payload.trailingAverage) {\n          state.trailingAverage = parseInt(payload.trailingAverage, 10)\n        }\n        if (typeof payload.rawWeekly !== 'undefined') {\n          state.rawWeekly = payload.rawWeekly\n        }\n        if (typeof payload.showBelowAverage !== 'undefined') {\n          state.showBelowAverage = payload.showBelowAverage\n        }\n      },\n      reset (state) {\n        state = {\n          baseRepo: null,\n          comparedRepos: [],\n          trailingAverage: 180,\n          startDate: new Date('1 January 2005'),\n          endDate: new Date(),\n          compare: 'each',\n          byDate: false\n        }\n        window.history.pushState(null, 'Augur', '/')\n      } // end reset\n    } // end mutations\n  })\n\n  AugurApp.store = window.augur\n  window.AugurApp = new window.Vue(AugurApp).$mount('#app')\n\n  // Load state from query string\n  let parsed = queryString.parse(window.location.search, { arrayFormat: 'bracket' })\n  if (parsed.repo) {\n    window.AugurApp.$store.commit('setBaseRepo', { url: parsed.repo.replace(' ', '/') })\n  }\n  if (parsed.comparedTo) {\n    parsed.comparedTo.forEach((repo) => {\n      window.AugurApp.$store.commit('addComparedRepo', { url: repo.replace(' ', '/') })\n    })\n  }\n}\n","var $ = require('jquery')\nvar _ = require('lodash')\n\nexport default class AugurAPI {\n  constructor (hostURL, version, autobatch) {\n    this._version = version || '/api/unstable'\n    this._host = hostURL || 'http://' + window.location.host\n    this.__cache = {}\n    this.__timeout = null\n    this.__pending = {}\n\n    this.autobatch = (typeof autobatch !== 'undefined') ? autobatch : true\n    this.openRequests = 0\n  }\n\n  // __autobatcher (url, params, fireTimeout) {\n  //   if (this.__timeout !== null && !fireTimeout) {\n  //     this.__timeout = setTimeout(() => {\n  //       __autobatch(undefined, undefined, true)\n  //     })\n  //   }\n  //   return new Promise((resolve, reject) => {\n  //     if (fireTimeout) {\n  //       let batchURL = this._host + this._version + '/batch'\n  //       let requestArray = []\n  //       Object.keys(this.__pending).forEach((key) => {\n  //         requestArray.push({})\n  //       })\n  //       $.post(batchURL)\n  //     }\n  //   })\n  // }\n\n  batch (endpoints) {\n    let str = '[{\"method\": \"GET\", \"path\": \"' + endpoints.join('\"},{\"method\": \"GET\", \"path\": \"') + '\"}]'\n    this.openRequests++\n    let url = '' + this._host + this._version + '/batch'\n\n    // Check cached\n    if (this.__cache[window.btoa(url + endpoints.join(','))]) {\n      if (this.__cache[window.btoa(url + endpoints.join(','))].created_at > Date.now() - 1000 * 60) {\n        return new Promise((resolve, reject) => {\n          resolve(this.__cache[window.btoa(url + endpoints.join(','))].data)\n        })\n      }\n    }\n\n    return $.ajax(url, {\n      type: 'post',\n      data: str,\n      dataType: 'json',\n      contentType: 'application/json'\n    }).then((data) => {\n      this.openRequests--\n      // Save to cache\n      this.__cache[window.btoa(url + endpoints.join(','))] = {\n        created_at: Date.now(),\n        data: data\n      }\n      return new Promise((resolve, reject) => {\n        if (typeof (data) === 'undefined') {\n          reject(new Error('data-undefined'))\n        } else {\n          resolve(data)\n        }\n      })\n    })\n  }\n\n  batchMapped (repos, fields) {\n    let endpoints = []\n    let reverseMap = {}\n    let processedData = {}\n    repos.forEach((repo) => {\n      Array.prototype.push.apply(endpoints, repo.batch(fields, true))\n      _.assign(reverseMap, repo.__reverseEndpointMap)\n      processedData[repo.toString()] = {}\n    })\n    return this.batch(endpoints).then((data) => {\n      return new Promise((resolve, reject) => {\n        if (Array.isArray(data)) {\n          data.forEach(response => {\n            if (response.status === 200) {\n              processedData[reverseMap[response.path].owner][reverseMap[response.path].name] = JSON.parse(response.response)\n            } else {\n              processedData[reverseMap[response.path].owner][reverseMap[response.path].name] = null\n            }\n          })\n          resolve(processedData)\n        } else {\n          reject(new Error('data-not-array'))\n        }\n      })\n    })\n  }\n\n  Repo (owner, repoName) {\n    var repo\n    if (repoName) {\n      repo = {owner: owner, name: repoName}\n    } else if (owner) {\n      let splitURL = owner.split('/')\n      if (splitURL.length < 3) {\n        repo = {owner: splitURL[0], name: splitURL[1]}\n      } else {\n        repo = {owner: splitURL[3], name: splitURL[4]}\n      }\n    }\n\n    repo.toString = () => { return repo.owner + '/' + repo.name }\n\n    repo.__endpointMap = {}\n    repo.__reverseEndpointMap = {}\n\n    var Endpoint = (r, name, endpoint) => {\n      this.openRequests++\n      var self = this\n      var fullEndpoint = this._version + '/' + repo.owner + '/' + repo.name + '/' + endpoint\n      var url = this._host + fullEndpoint\n      r.__endpointMap[name] = fullEndpoint\n      r.__reverseEndpointMap[fullEndpoint] = { name: name, owner: repo.toString() }\n      r[name] = function (params, callback) {\n        if (self.__cache[window.btoa(url)]) {\n          if (self.__cache[window.btoa(url)].created_at > Date.now() - 1000 * 60) {\n            return new Promise((resolve, reject) => {\n              resolve(self.__cache[window.btoa(url)].data)\n            })\n          }\n        }\n        if (this.autobatch) {\n          return this.__autobatcher(url, params)\n        }\n        return $.get(url, params).then((data) => {\n          this.openRequests--\n          self.__cache[window.btoa(url)] = {\n            created_at: Date.now(),\n            data: data\n          }\n          if (typeof callback === 'function') {\n            callback(data)\n          }\n          return new Promise((resolve, reject) => {\n            if (typeof (data) === 'undefined') {\n              reject(new Error('data-undefined'))\n            } else {\n              resolve(data)\n            }\n          })\n        })\n      }\n      return r[name]\n    }\n\n    var Timeseries = (r, jsName, endpoint) => {\n      let func = Endpoint(r, jsName, 'timeseries/' + endpoint)\n      func.relativeTo = (baselineRepo, params, callback) => {\n        var url = 'timeseries/' + endpoint + '/relative_to/' + baselineRepo.owner + '/' + baselineRepo.name\n        return Endpoint(url)()\n      }\n      return func\n    }\n\n    repo.batch = (jsNameArray, noExecute) => {\n      var routes = jsNameArray.map((e) => { return repo.__endpointMap[e] })\n      if (noExecute) {\n        return routes\n      }\n      return this.batch(routes).then((data) => {\n        return new Promise((resolve, reject) => {\n          if (Array.isArray(data)) {\n            let mapped = {}\n            data.forEach(response => {\n              if (response.status === 200) {\n                mapped[repo.__reverseEndpointMap[response.path].name] = JSON.parse(response.response)\n              } else {\n                mapped[repo.__reverseEndpointMap[response.path].name] = null\n              }\n            })\n            resolve(mapped)\n          } else {\n            reject(new Error('data-not-array'))\n          }\n        })\n      })\n    }\n\n    Timeseries(repo, 'commits', 'commits')\n    Timeseries(repo, 'forks', 'forks')\n    Timeseries(repo, 'issues', 'issues')\n    Timeseries(repo, 'pulls', 'pulls')\n    Timeseries(repo, 'stars', 'stargazers')\n    Timeseries(repo, 'tags', 'tags')\n    Timeseries(repo, 'downloads', 'downloads')\n    Timeseries(repo, 'totalCommitters', 'total_committers')\n    Timeseries(repo, 'issueComments', 'issue/comments')\n    Timeseries(repo, 'commitComments', 'commits/comments')\n    Timeseries(repo, 'pullReqComments', 'pulls/comments')\n    Timeseries(repo, 'pullsAcceptanceRate', 'pulls/acceptance_rate')\n    Timeseries(repo, 'issuesClosed', 'issues/closed')\n    Timeseries(repo, 'issuesResponseTime', 'issues/response_time')\n    Timeseries(repo, 'issueActivity', 'issues/activity')\n    Timeseries(repo, 'communityEngagement', 'community_engagement')\n    Timeseries(repo, 'linesChanged', 'lines_changed')\n\n    Endpoint(repo, 'contributors', 'contributors')\n    Endpoint(repo, 'contributions', 'contributions')\n    Endpoint(repo, 'committerLocations', 'committer_locations')\n    Endpoint(repo, 'communityAge', 'community_age')\n    Endpoint(repo, 'linkingWebsites', 'linking_websites')\n    Endpoint(repo, 'busFactor', 'bus_factor')\n    Endpoint(repo, 'dependents', 'dependents')\n    Endpoint(repo, 'dependencies', 'dependencies')\n    Endpoint(repo, 'dependencyStats', 'dependency_stats')\n    Endpoint(repo, 'watchers', 'watchers')\n\n    return repo\n  }\n}\n","export default class AugurStats {\n  static convertDates (data, earliest, latest) {\n    earliest = earliest || new Date('01-01-2005')\n    latest = latest || new Date()\n    if (Array.isArray(data[0])) {\n      data = data.map((datum) => {\n        return AugurStats.convertDates(datum)\n      })\n    } else {\n      data = data.map((d) => {\n        d.date = new Date(d.date)\n        return d\n      }).filter((d) => {\n        return earliest < d.date && d.date < latest\n      })\n    }\n    return data\n  }\n\n  static convertKey (data, key) {\n    if (Array.isArray(data[0])) {\n      data = data.map((datum) => {\n        return AugurStats.convertKey(datum, key)\n      })\n    } else {\n      return data.map((d) => {\n        return {\n          date: d.date,\n          value: d[key]\n        }\n      })\n    }\n  }\n\n  static averageArray (ary) {\n    return ary.reduce((a, e) => { return a + e }, 0) / (ary.length)\n  }\n\n  static aboveAverage (data, key) {\n    let flat = data.map((e) => { return e[key] })\n    let mean = AugurStats.averageArray(flat)\n    return data.filter((e) => {\n      return e[key] > mean\n    })\n  }\n\n  static standardDeviation (ary, key, mean) {\n    let flat = ary.map((e) => { return e[key] })\n    mean = mean || AugurStats.averageArray(flat)\n    let distances = flat.map((e) => {\n      return (e - mean) * (e - mean)\n    })\n    return Math.sqrt(AugurStats.averageArray(distances))\n  }\n\n  static describe (ary, key) {\n    let flat = ary.map((e) => { return e[key] })\n    let mean = AugurStats.averageArray(flat)\n    let stddev = AugurStats.standardDeviation(ary, key, mean)\n    let variance = stddev * stddev\n    return {\n      'mean': mean,\n      'stddev': stddev,\n      'variance': variance\n    }\n  }\n\n  static rollingAverage (data, key, windowSizeInDays) {\n    key = key || 'value'\n    windowSizeInDays = windowSizeInDays || 180\n    let rolling = []\n    let averageWindow = []\n    let i = 0\n    let lastFound = -1\n\n    let after = new Date()\n    let before = new Date()\n\n    for (let date = new Date(data[0].date); date <= data[data.length - 1].date; date.setDate(date.getDate() + 1)) {\n      after.setDate(date.getDate() - windowSizeInDays)\n\n      if (averageWindow.length < windowSizeInDays) {\n        for (; i < data.length && averageWindow.length <= windowSizeInDays; i++) {\n          if (lastFound > -1) {\n            for (let iter = new Date(data[lastFound].date); iter <= data[i].date; iter.setDate(iter.getDate() + 1)) {\n              averageWindow.push((data[i][key] + data[lastFound][key]) / 2)\n            }\n          }\n          lastFound = i\n        }\n      }\n\n      let average = {date: new Date(date)}\n      average[key] = AugurStats.averageArray(averageWindow.slice(0, windowSizeInDays))\n      averageWindow.shift()\n      rolling.push(average)\n    }\n    return rolling\n  }\n\n  static convertToPercentages (data, key, baseline) {\n    if (!data) {\n      return []\n    }\n    baseline = baseline || AugurStats.averageArray(data.map((e) => { return e[key] }))\n    data = data.map((datum) => {\n      datum['value'] = (datum[key] / baseline)\n      return datum\n    })\n    return data\n  }\n\n  static makeRelative (baseData, compareData, key, config) {\n    config.byDate = (config.byDate != undefined)\n    config.earliest = config.earliest || new Date('01-01-2005')\n    config.latest = config.latest || new Date()\n    config.period = config.period || 180\n    key = key || Object.keys(baseData[0])[1]\n\n    let iter = {\n      base: 0,\n      compare: 0\n    }\n    let data = {}\n\n    data['base'] = AugurStats.rollingAverage(\n      AugurStats.convertDates(\n        AugurStats.convertKey(\n          baseData,\n          key\n        ), config.earliest, config.latest\n      ), undefined, config.period)\n\n    data['compare'] = AugurStats.rollingAverage(\n      AugurStats.convertDates(\n        AugurStats.convertKey(\n          compareData,\n          key\n        ), config.earliest, config.latest\n      ), undefined, config.period)\n\n    let result = []\n\n    while (iter['base'] < data['base'].length && iter['compare'] < data['compare'].length) {\n      let toPush = {\n        value: data['compare'][iter.compare].value / data['base'][iter.base].value\n      }\n      if (config.byDate) {\n        toPush.date = data['base'][iter.base].date\n      } else {\n        toPush.x = iter.base\n      }\n      result.push(toPush)\n      iter['base']++\n      iter['compare']++\n    }\n\n    console.log('relative', result)\n    return result\n  }\n\n  static zscores (data, key) {\n    key = key || 'value'\n    let stats = AugurStats.describe(data, key)\n    return data.map((e) => {\n      let newObj = {}\n      if (e.date) {\n        newObj.date = new Date(e.date)\n      }\n      let zscore = ((e[key] - stats['mean']) / stats['stddev'])\n      newObj.value = zscore\n      return newObj\n    })\n  }\n\n  static combine () {\n    return Array.from(arguments)\n  }\n}\n",";(function(){\n'use strict';\n\nvar _AugurHeader = require('./AugurHeader.vue');\n\nvar _AugurHeader2 = _interopRequireDefault(_AugurHeader);\n\nvar _MainControls = require('./MainControls.vue');\n\nvar _MainControls2 = _interopRequireDefault(_MainControls);\n\nvar _AugurCards = require('./AugurCards.vue');\n\nvar _AugurCards2 = _interopRequireDefault(_AugurCards);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  components: {\n    'augur-header': _AugurHeader2.default,\n    MainControls: _MainControls2.default,\n    'augur-cards': _AugurCards2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('augur-header'),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('main-controls'),_vm._v(\" \"),_c('augur-cards')],1)],1)}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4cb2e45e\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-4cb2e45e\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nvar _BaseRepoActivityCard = require('./BaseRepoActivityCard');\n\nvar _BaseRepoActivityCard2 = _interopRequireDefault(_BaseRepoActivityCard);\n\nvar _BaseRepoEcosystemCard = require('./BaseRepoEcosystemCard');\n\nvar _BaseRepoEcosystemCard2 = _interopRequireDefault(_BaseRepoEcosystemCard);\n\nvar _ComparedRepoActivityCard = require('./ComparedRepoActivityCard');\n\nvar _ComparedRepoActivityCard2 = _interopRequireDefault(_ComparedRepoActivityCard);\n\nvar _GrowthMaturityDeclineCard = require('./GrowthMaturityDeclineCard');\n\nvar _GrowthMaturityDeclineCard2 = _interopRequireDefault(_GrowthMaturityDeclineCard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  components: {\n    BaseRepoActivityCard: _BaseRepoActivityCard2.default,\n    BaseRepoEcosystemCard: _BaseRepoEcosystemCard2.default,\n    ComparedRepoActivityCard: _ComparedRepoActivityCard2.default,\n    GrowthMaturityDeclineCard: _GrowthMaturityDeclineCard2.default\n  },\n  data: function data() {\n    return {\n      currentTab: 'gmd'\n    };\n  },\n\n  computed: {\n    baseRepo: function baseRepo() {\n      return this.$store.state.baseRepo;\n    },\n    comparedRepos: function comparedRepos() {\n      return this.$store.state.comparedRepos;\n    }\n  },\n  methods: {\n    onRepo: function onRepo(e) {\n      this.$store.commit('setBaseRepo', {\n        url: e.target.value\n      });\n    },\n    onCompare: function onCompare(e) {\n      this.$store.commit('addComparedRepo', {\n        url: e.target.value\n      });\n    },\n    changeTab: function changeTab(e) {\n      this.currentTab = e.target.dataset['value'];\n      e.preventDefault();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"tabs\"},[_c('ul',[_c('li',{class:{ active: (_vm.currentTab == 'gmd') }},[_c('a',{attrs:{\"href\":\"#\",\"data-value\":\"gmd\"},on:{\"click\":_vm.changeTab}},[_vm._v(\"Growth, Maturity, and Decline\")])]),_vm._v(\" \"),_c('li',{class:{ active: (_vm.currentTab == 'activity') }},[_c('a',{attrs:{\"href\":\"#\",\"data-value\":\"activity\"},on:{\"click\":_vm.changeTab}},[_vm._v(\"Activity\")])])])]),_vm._v(\" \"),_c('section',{class:{ hidden: _vm.baseRepo, unmaterialized: true }},[_c('h3',[_vm._v(\"Enter a GitHub URL to get started\")]),_vm._v(\" \"),_c('input',{staticClass:\"search reposearch\",attrs:{\"type\":\"text\",\"placeholder\":\"GitHub URL\"},on:{\"change\":_vm.onRepo}})]),_vm._v(\" \"),_c('div',{ref:\"cards\"},[((_vm.baseRepo && (_vm.currentTab == 'gmd')))?_c('div',[_c('growth-maturity-decline-card')],1):_vm._e(),_vm._v(\" \"),((_vm.baseRepo && (_vm.currentTab == 'activity')))?_c('div',{attrs:{\"id\":\"activity\"}},[_c('base-repo-activity-card'),_vm._v(\" \"),_c('base-repo-ecosystem-card'),_vm._v(\" \"),_vm._l((_vm.comparedRepos),function(repo){return _c('div',{class:{ hidden: !_vm.comparedRepos.length },attrs:{\"id\":\"comparisonCards\"}},[_c('compared-repo-activity-card',{attrs:{\"comparedTo\":repo}})],1)})],2):_vm._e(),_vm._v(\" \"),_c('section',{class:{ hidden: !_vm.baseRepo, unmaterialized: true }},[_c('h3',[_vm._v(\"Compare repository\")]),_vm._v(\" \"),_c('input',{staticClass:\"search reposearch\",attrs:{\"type\":\"text\",\"placeholder\":\"GitHub URL\"},on:{\"change\":_vm.onCompare}})])])])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-78eb2940\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-78eb2940\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nmodule.exports = {\n  methods: {\n    onRepo: function onRepo(e) {\n      this.$store.commit('setBaseRepo', {\n        url: e.target.value\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"hide-print\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"row\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"col col-5 push-right\"},[_c('div',{staticClass:\"form-item\"},[_c('input',{staticClass:\"search reposearch\",attrs:{\"type\":\"text\",\"name\":\"headersearch\",\"placeholder\":\"GitHub URL\"},on:{\"change\":_vm.onRepo}})])])])])])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col col-4\"},[_c('img',{attrs:{\"src\":\"static/logo.png\",\"id\":\"logo\",\"alt\":\"CHAOSS: Community Health Analytics for Open Source Software\"}})])}]\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-6becaf40\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-6becaf40\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nvar _LineChart = require('./charts/LineChart');\n\nvar _LineChart2 = _interopRequireDefault(_LineChart);\n\nvar _BubbleChart = require('./charts/BubbleChart');\n\nvar _BubbleChart2 = _interopRequireDefault(_BubbleChart);\n\nvar _StackedBarChart = require('./charts/StackedBarChart');\n\nvar _StackedBarChart2 = _interopRequireDefault(_StackedBarChart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  components: {\n    LineChart: _LineChart2.default,\n    BubbleChart: _BubbleChart2.default,\n    StackedBarChart: _StackedBarChart2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',[_vm._v(\"Activity\")]),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.$store.state.baseRepo))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"commits\",\"title\":\"Commits / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"forks\",\"title\":\"Forks / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issues\",\"title\":\"Issues / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issueComments\",\"title\":\"Issue Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"commitComments\",\"title\":\"Commit Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pullReqComments\",\"title\":\"Pull Request Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pullsAcceptanceRate\",\"title\":\"Pull Acceptance Rate\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issuesClosed\",\"title\":\"Issues Closed / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"totalCommitters\",\"title\":\"Total Committers\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"disableRollingAverage\":\"1\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"linesChanged\",\"title\":\"Lines Changed / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"disableRollingAverage\":\"1\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-12\"},[_c('bubble-chart',{attrs:{\"source\":\"contributions\",\"title\":\"Contributior Overview\",\"size\":\"total\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-12\"},[_c('stacked-bar-chart',{attrs:{\"source\":\"issueActivity\",\"title\":\"Stacked Bar Chart\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"disableRollingAverage\":\"1\"}})],1)]),_vm._v(\" \"),_vm._m(0)])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('small',[_vm._v(\"Data provided by \"),_c('a',{attrs:{\"href\":\"http://ghtorrent.org/msr14.html\"}},[_vm._v(\"GHTorrent\")]),_vm._v(\" \"),_c('span',{staticClass:\"ghtorrent-version\"}),_vm._v(\" and the \"),_c('a',{attrs:{\"href\":\"https://developer.github.com/\"}},[_vm._v(\"GitHub API\")])])}]\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7655e5a2\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-7655e5a2\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nvar _LineChart = require('./charts/LineChart');\n\nvar _LineChart2 = _interopRequireDefault(_LineChart);\n\nvar _DependencyOverview = require('./charts/DependencyOverview');\n\nvar _DependencyOverview2 = _interopRequireDefault(_DependencyOverview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  components: {\n    LineChart: _LineChart2.default,\n    DependencyOverview: _DependencyOverview2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',[_vm._v(\"Ecosystem\")]),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.$store.state.baseRepo))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"downloads\",\"title\":\"Downloads / Day\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"stars\",\"title\":\"Stars / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-12\"},[_c('dependency-overview')],1)])])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-2a4aa320\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-2a4aa320\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nvar _LineChart = require('./charts/LineChart');\n\nvar _LineChart2 = _interopRequireDefault(_LineChart);\n\nvar _BubbleChart = require('./charts/BubbleChart');\n\nvar _BubbleChart2 = _interopRequireDefault(_BubbleChart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  props: ['comparedTo'],\n  components: {\n    LineChart: _LineChart2.default,\n    BubbleChart: _BubbleChart2.default\n  },\n  computed: {\n    repo: function repo() {\n      return this.$store.state.repo;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{class:{ hidden: !this.repo },attrs:{\"id\":\"base-template\"}}),_vm._v(\" \"),_c('h1',[_vm._v(\"Activity Comparison\")]),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.comparedTo)+\" compared to \"+_vm._s(_vm.$store.state.baseRepo))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"commits\",\"title\":\"Commits / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"forks\",\"title\":\"Forks / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issues\",\"title\":\"Issues / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issueComments\",\"title\":\"Issue Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"commitComments\",\"title\":\"Commit Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pullReqComments\",\"title\":\"Pull Request Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pullsAcceptanceRate\",\"title\":\"Pull Acceptance Rate\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pulls\",\"title\":\"Pulls Requests / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issuesClosed\",\"title\":\"Issues Closed / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"totalCommitters\",\"title\":\"Total Committers\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"disableRollingAverage\":\"1\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-12\"},[_c('bubble-chart',{attrs:{\"source\":\"contributions\",\"title\":\"Contributior Overview\",\"size\":\"total\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\",\"compared-to\":_vm.comparedTo}})],1)]),_vm._v(\" \"),_vm._m(0)])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('small',[_vm._v(\"Data provided by \"),_c('a',{attrs:{\"href\":\"http://ghtorrent.org/msr14.html\"}},[_vm._v(\"GHTorrent\")]),_vm._v(\" \"),_c('span',{staticClass:\"ghtorrent-version\"}),_vm._v(\" and the \"),_c('a',{attrs:{\"href\":\"https://developer.github.com/\"}},[_vm._v(\"GitHub API\")])])}]\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7c1c00fd\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-7c1c00fd\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nvar _LineChart = require('./charts/LineChart');\n\nvar _LineChart2 = _interopRequireDefault(_LineChart);\n\nvar _BubbleChart = require('./charts/BubbleChart');\n\nvar _BubbleChart2 = _interopRequireDefault(_BubbleChart);\n\nvar _StackedBarChart = require('./charts/StackedBarChart');\n\nvar _StackedBarChart2 = _interopRequireDefault(_StackedBarChart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  components: {\n    LineChart: _LineChart2.default,\n    BubbleChart: _BubbleChart2.default,\n    StackedBarChart: _StackedBarChart2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',[_vm._v(\"Growth, Maturity, and Decline\")]),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.$store.state.baseRepo))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"commits\",\"title\":\"Commits / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"forks\",\"title\":\"Forks / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"communityEngagement:issues_open\",\"title\":\"Open Issues\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\",\"disable-rolling-average\":\"1\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"communityEngagement:issues_open+issues_closed_total\",\"title\":\"Closed Issues\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\",\"disable-rolling-average\":\"1\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"communityEngagement:issues_opened\",\"title\":\"Issues Open / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pullReqComments\",\"title\":\"Pull Request Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pullsAcceptanceRate\",\"title\":\"Pull Acceptance Rate\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issuesClosed\",\"title\":\"Issues Closed / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"totalCommitters\",\"title\":\"Total Committers\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"disableRollingAverage\":\"1\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"linesChanged\",\"title\":\"Lines Changed\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"disableRollingAverage\":\"1\"}})],1)]),_vm._v(\" \"),_vm._m(0)])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('small',[_vm._v(\"Data provided by \"),_c('a',{attrs:{\"href\":\"http://ghtorrent.org/msr14.html\"}},[_vm._v(\"GHTorrent\")]),_vm._v(\" \"),_c('span',{staticClass:\"ghtorrent-version\"}),_vm._v(\" and the \"),_c('a',{attrs:{\"href\":\"https://developer.github.com/\"}},[_vm._v(\"GitHub API\")])])}]\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-429b02f1\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-429b02f1\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nmodule.exports = {\n  methods: {\n    onStartDateChange: function onStartDateChange(e) {\n      var _this = this;\n\n      console.log(e);\n      var date = Date.parse(this.$refs.startMonth.value + \"/01/\" + this.$refs.startYear.value);\n      console.log('date', date);\n      if (this.startDateTimeout) {\n        clearTimeout(this.startDateTimeout);\n        delete this.startDateTimeout;\n      }\n      this.startDateTimeout = setTimeout(function () {\n        console.log(date);\n        _this.$store.commit('setDates', {\n          startDate: date\n        });\n      }, 500);\n    },\n    onEndDateChange: function onEndDateChange(e) {\n      var _this2 = this;\n\n      var date = Date.parse(this.$refs.endMonth.value + \"/01/\" + this.$refs.endYear.value);\n      console.log('date', date);\n      if (this.endDateTimeout) {\n        clearTimeout(this.endDateTimeout);\n        delete this.endDateTimeout;\n      }\n      this.endDateTimeout = setTimeout(function () {\n        console.log(date);\n        _this2.$store.commit('setDates', {\n          endDate: date\n        });\n      }, 500);\n    },\n    onTrailingAverageChange: function onTrailingAverageChange(e) {\n      this.$store.commit('setVizOptions', {\n        trailingAverage: e.target.value\n      });\n    },\n    onRawWeeklyChange: function onRawWeeklyChange(e) {\n      this.$store.commit('setVizOptions', {\n        rawWeekly: e.target.checked\n      });\n    },\n    onShowBelowAverageChange: function onShowBelowAverageChange(e) {\n      this.$store.commit('setVizOptions', {\n        showBelowAverage: e.target.checked\n      });\n    },\n    onCompareChange: function onCompareChange(e) {\n      this.$store.commit('setCompare', {\n        compare: e.target.value\n      });\n    }\n  },\n  computed: {\n    months: function months() {\n      return [{ name: 'January', value: 0 }, { name: 'February', value: 1 }, { name: 'March', value: 2 }, { name: 'April', value: 3 }, { name: 'May', value: 4 }, { name: 'June', value: 5 }, { name: 'July', value: 6 }, { name: 'August', value: 7 }, { name: 'September', value: 8 }, { name: 'October', value: 9 }, { name: 'November', value: 10 }, { name: 'December', value: 11 }];\n    },\n    thisMonth: function thisMonth() {\n      return new Date().getMonth();\n    },\n    thisYear: function thisYear() {\n      return new Date().getUTCFullYear();\n    },\n    years: function years() {\n      var yearArray = [];\n      for (var i = 2005; i <= new Date().getUTCFullYear(); i++) {\n        yearArray.push(i);\n      }\n      return yearArray;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\",attrs:{\"id\":\"controls\"}},[_c('div',{staticClass:\"col col-12\"},[_c('div',{staticClass:\"form\"},[_c('div',{staticClass:\"row gutters\"},[_c('div',{staticClass:\"col col-7\"},[_c('h4',[_vm._v(\"Configuration\")]),_vm._v(\" \"),_c('div',{staticClass:\"row gutters\"},[_c('div',{staticClass:\"col col-6\"},[_c('div',{staticClass:\"form-item\"},[_c('label',[_vm._v(\"Start Date\\n                    \"),_c('div',{staticClass:\"row gutters\"},[_c('div',{staticClass:\"col col-7\"},[_c('div',{staticClass:\"form-item\"},[_c('select',{ref:\"startMonth\",on:{\"change\":_vm.onStartDateChange}},_vm._l((_vm.months),function(month){return _c('option',{domProps:{\"value\":month.value,\"selected\":month.value == _vm.thisMonth}},[_vm._v(_vm._s(month.name))])})),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"Month\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"col col-5\"},[_c('div',{staticClass:\"form-item\"},[_c('select',{ref:\"startYear\",on:{\"change\":_vm.onStartDateChange}},_vm._l((_vm.years),function(year){return _c('option',{domProps:{\"value\":year,\"selected\":year == 2010}},[_vm._v(_vm._s(year))])})),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"Year\")])])])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('div',{staticClass:\"form-item\"},[_c('label',[_vm._v(\"End Date\\n                  \"),_c('div',{staticClass:\"row gutters\"},[_c('div',{staticClass:\"col col-7\"},[_c('div',{staticClass:\"form-item\"},[_c('select',{ref:\"endMonth\",on:{\"change\":_vm.onEndDateChange}},_vm._l((_vm.months),function(month){return _c('option',{domProps:{\"value\":month.value,\"selected\":month.value == _vm.thisMonth}},[_vm._v(_vm._s(month.name))])})),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"Month\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"col col-5\"},[_c('div',{staticClass:\"form-item\"},[_c('select',{ref:\"endYear\",on:{\"change\":_vm.onEndDateChange}},_vm._l((_vm.years),function(year){return _c('option',{domProps:{\"value\":year,\"selected\":year == _vm.thisYear}},[_vm._v(_vm._s(year))])})),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"Year\")])])])])])])])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('h5',[_vm._v(\"Comparison Options\")]),_vm._v(\" \"),_c('label',[_vm._v(\"Type\\n            \"),_c('div',{staticClass:\"form-item form-checkboxes\"},[_c('label',{staticClass:\"checkbox\"},[_c('input',{attrs:{\"name\":\"comparebaseline\",\"value\":\"each\",\"checked\":\"\",\"type\":\"radio\"},on:{\"change\":_vm.onCompareChange}}),_vm._v(\"Z-score\")]),_c('br'),_vm._v(\" \"),_c('label',{staticClass:\"checkbox\"},[_c('input',{attrs:{\"name\":\"comparebaseline\",\"value\":\"percentage\",\"type\":\"radio\"},on:{\"change\":_vm.onCompareChange}}),_vm._v(\"Baseline is compared\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col col-5\"},[_c('h4',[_vm._v(\"Rendering\")]),_vm._v(\" \"),_c('label',[_vm._v(\"Line Charts\\n        \"),_c('div',{staticClass:\"append\"},[_c('input',{attrs:{\"type\":\"number\",\"min\":\"2\",\"id\":\"averagetimespan\",\"value\":\"180\"},on:{\"change\":_vm.onTrailingAverageChange}}),_c('span',[_vm._v(\"day average\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-item form-checkboxes\"},[_c('label',{staticClass:\"checkbox\"},[_c('input',{attrs:{\"name\":\"comparebaseline\",\"value\":\"each\",\"type\":\"checkbox\"},on:{\"change\":_vm.onRawWeeklyChange}}),_vm._v(\"Show raw weekly values\"),_c('sup',{staticClass:\"warn\"})]),_c('br')])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('label',[_vm._v(\"Bubble Charts\\n          \"),_c('div',{staticClass:\"form-item form-checkboxes\"},[_c('label',{staticClass:\"checkbox\"},[_c('input',{attrs:{\"name\":\"comparebaseline\",\"value\":\"each\",\"type\":\"checkbox\"},on:{\"change\":_vm.onShowBelowAverageChange}}),_vm._v(\"Show users with below-average total contributions\"),_c('sup',{staticClass:\"warn\"})]),_c('br')])]),_vm._v(\" \"),_c('small',{staticClass:\"warn\"},[_vm._v(\" - These options affect performance\")])])])])])])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4eb76a08\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-4eb76a08\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vuex = require('vuex');\n\nvar _AugurStats = require('AugurStats');\n\nvar _AugurStats2 = _interopRequireDefault(_AugurStats);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar spec = {\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v2.json\",\n  \"spec\": {\n    \"hconcat\": [{\n      \"title\": \"Code Engagement\",\n      \"width\": 375,\n      \"height\": 300,\n      \"mark\": \"circle\",\n      \"selection\": {\n        \"paintbrush\": {\n          \"type\": \"single\",\n          \"on\": \"mouseover\"\n        }\n      },\n      \"encoding\": {\n        \"x\": {\n          \"field\": \"commit_comments\",\n          \"type\": \"quantitative\"\n        },\n        \"y\": {\n          \"field\": \"commits\",\n          \"type\": \"quantitative\",\n          \"scale\": {\n            \"type\": \"sqrt\"\n          }\n        },\n        \"color\": {\n          \"condition\": {\n            \"selection\": \"paintbrush\",\n            \"field\": \"repo\",\n            \"type\": \"nominal\",\n            \"scale\": { \"range\": ['#FF3647', '#4736FF'] }\n          },\n          \"value\": \"grey\"\n        },\n        \"size\": {\n          \"field\": \"total\",\n          \"type\": \"quantitative\",\n          \"legend\": {\n            \"title\": \"all contributions\"\n          },\n          \"scale\": {\n            \"type\": \"sqrt\"\n          }\n        }\n      }\n    }, {\n      \"title\": \"Community Engagement\",\n      \"width\": 375,\n      \"height\": 300,\n      \"mark\": \"circle\",\n      \"selection\": {\n        \"paintbrush\": {\n          \"type\": \"single\",\n          \"on\": \"mouseover\"\n        }\n      },\n      \"encoding\": {\n        \"x\": {\n          \"field\": \"issue_comments\",\n          \"type\": \"quantitative\",\n          \"scale\": {\n            \"type\": \"sqrt\",\n            \"bandPaddingInner\": 3\n          },\n          \"axis\": {\n            \"tickCount\": 10\n          }\n        },\n        \"y\": {\n          \"field\": \"issues\",\n          \"type\": \"quantitative\",\n          \"scale\": {\n            \"type\": \"sqrt\"\n          }\n        },\n        \"size\": {\n          \"field\": \"total\",\n          \"type\": \"quantitative\",\n          \"legend\": {\n            \"title\": \"all contributions\"\n          },\n          \"scale\": {\n            \"type\": \"sqrt\"\n          }\n        },\n        \"color\": {\n          \"condition\": {\n            \"selection\": \"paintbrush\",\n            \"field\": \"repo\",\n            \"type\": \"nominal\",\n            \"scale\": { \"range\": ['#FF3647', '#4736FF'] }\n          },\n          \"value\": \"grey\"\n        }\n      }\n    }]\n  }\n};\n\nexports.default = {\n  props: ['citeUrl', 'citeText', 'title', 'disableRollingAverage', 'alwaysByDate', 'comparedTo'],\n  data: function data() {\n    return {\n      values: []\n    };\n  },\n\n  components: {\n    'vega-interactive': window.VueVega.mapVegaLiteSpec(spec)\n  },\n  computed: {\n    repo: function repo() {\n      return this.$store.state.baseRepo;\n    },\n    showBelowAverage: function showBelowAverage() {\n      return this.$store.state.showBelowAverage;\n    },\n    chart: function chart() {\n      var _this = this;\n\n      var removeBelowAverageContributors = !this.showBelowAverage;\n      console.log(removeBelowAverageContributors);\n      $(this.$el).find('.showme').addClass('invis');\n      $(this.$el).find('.bubblechart').addClass('loader');\n      var shared = {};\n      if (this.repo) {\n        window.AugurRepos[this.repo].contributors().then(function (data) {\n          shared.baseData = data.map(function (e) {\n            e.repo = _this.repo.toString();return e;\n          });\n          if (removeBelowAverageContributors) {\n            shared.baseData = _AugurStats2.default.aboveAverage(shared.baseData, 'total');\n          }\n          if (_this.comparedTo) {\n            return window.AugurRepos[_this.comparedTo].contributors();\n          } else {\n            return new Promise(function (resolve, reject) {\n              resolve();\n            });\n          }\n        }).then(function (compareData) {\n          if (compareData) {\n            compareData = compareData.map(function (e) {\n              e.repo = _this.comparedTo;return e;\n            });\n            if (removeBelowAverageContributors) {\n              compareData = _AugurStats2.default.aboveAverage(compareData, 'total');\n            }\n            _this.values = _.concat(shared.baseData, compareData);\n          } else {\n            _this.values = shared.baseData;\n          }\n          $(_this.$el).find('.showme, .hidefirst').removeClass('invis');\n          $(_this.$el).find('.bubblechart').removeClass('loader');\n        });\n      }\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"holder\"},[_c('div',{staticClass:\"bubblechart hidefirst invis\"},[_c('vega-interactive',{ref:\"vega\",attrs:{\"data\":_vm.values}}),_vm._v(\" \"),_c('p',[_vm._v(\" \"+_vm._s(_vm.chart)+\" \")])],1)])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-273cda36\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-273cda36\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AugurStats = require('../../AugurStats');\n\nvar _AugurStats2 = _interopRequireDefault(_AugurStats);\n\nvar _d = require('d3');\n\nvar d3 = _interopRequireWildcard(_d);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  props: [],\n  computed: {\n    repo: function repo() {\n      return this.$store.state.baseRepo;\n    },\n    dependencies: function dependencies() {\n      var _this = this;\n\n      if (this.repo) {\n\n        this.$refs['dependents'].innerHTML = 'Loading...';\n        window.AugurRepos[this.repo].dependents().then(function (dependents) {\n          if (!dependents || !dependents.length) {\n            _this.$refs['dependents'].innerHTML = 'No dependents found.';\n          }\n          _this.$refs['dependents'].innerHTML = '';\n          for (var i = 0; i < dependents.length && i < 10; i++) {\n            _this.$refs['dependents'].innerHTML += dependents[i].name + '<br>';\n          }\n        }, function () {\n          _this.$refs['dependents'].innerHTML = 'No data.';\n        });\n\n        this.$refs['dependencies'].innerHTML = '';\n        window.AugurRepos[this.repo].dependencies().then(function (dependencies) {\n          if (!dependencies || !dependencies.length) {\n            _this.$refs['dependencies'].innerHTML = 'No dependencies found.';\n          }\n          _this.$refs['dependencies'].innerHTML = '';\n          for (var i = 0; i < dependencies.dependencies.length && i < 10; i++) {\n            _this.$refs['dependencies'].innerHTML += dependencies.dependencies[i].name + '<br>';\n          }\n        }, function () {\n          _this.$refs['dependencies'].innerHTML = 'No data.';\n        });\n      }\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-6\"},[_c('h3',[_vm._v(\"Top Dependents\")]),_vm._v(\" \"),_c('div',{ref:\"dependents\",staticClass:\"deps\"},[_vm._v(\"\\n        Loading...\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('h3',[_vm._v(\"Top Dependencies\")]),_vm._v(\" \"),_c('div',{ref:\"dependencies\",staticClass:\"deps\"},[_vm._v(\"\\n        Loading...\\n      \")])])])])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-210450fe\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-210450fe\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AugurStats = require('../../AugurStats');\n\nvar _AugurStats2 = _interopRequireDefault(_AugurStats);\n\nvar _d = require('d3');\n\nvar d3 = _interopRequireWildcard(_d);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  computed: {\n    chart: function chart() {\n      MG.data_graphic({\n        title: \"Missing Data\",\n        error: 'Data unavaliable',\n        chart_type: 'missing-data',\n        missing_text: 'Data could not be loaded',\n        target: this.$refs.chart,\n        full_width: true,\n        height: 200\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"chart\",staticClass:\"linechart\"})}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-ebdae2a4\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-ebdae2a4\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AugurStats = require('AugurStats');\n\nvar _AugurStats2 = _interopRequireDefault(_AugurStats);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  props: ['source', 'citeUrl', 'citeText', 'title', 'percentage', 'comparedTo', 'disableRollingAverage', 'alwaysByDate', 'innerKey'],\n  data: function data() {\n    return {\n      mgConfig: {\n        time_series: true,\n        full_width: true,\n        height: 200,\n        y_mouseover: '%d'\n      },\n      graphData: {}\n    };\n  },\n\n  computed: {\n    repo: function repo() {\n      return this.$store.state.baseRepo;\n    },\n    period: function period() {\n      return this.$store.state.trailingAverage;\n    },\n    earliest: function earliest() {\n      return this.$store.state.startDate;\n    },\n    latest: function latest() {\n      return this.$store.state.endDate;\n    },\n    compare: function compare() {\n      return this.$store.state.compare;\n    },\n    rawWeekly: function rawWeekly() {\n      return this.$store.state.rawWeekly;\n    },\n    chart: function chart() {\n      var _this = this;\n\n      this.mgConfig.title = this.title || 'Activity';\n      this.mgConfig.x_accessor = 'date';\n      this.mgConfig.format = this.percentage ? 'percentage' : undefined;\n      this.mgConfig.compare = this.compare;\n      this.mgConfig.byDate = true;\n      this.mgConfig.area = this.rawWeekly;\n      this.mgConfig.y_accessor = 'value';\n      this.mgConfig.legend_target = this.$refs.legend;\n      this.mgConfig.colors = [];\n      this.mgConfig.legend = [];\n      this.mgConfig.baselines = [];\n\n      this.__download_data = {};\n      this.__download_file = this.mgConfig.title.replace(/ /g, '-').replace('/', 'by').toLowerCase();\n\n      if (this.$refs.chart) {\n        this.$refs.chart.className = 'linechart loader';\n        window.$(this.$refs.holder).find('.hideme').addClass('invis');\n        window.$(this.$refs.holder).find('.showme').removeClass('invis');\n      }\n      this.mgConfig.target = document.createElement('div');\n\n      var endpoints = [];\n      var fields = {};\n      this.source.split(',').forEach(function (endpointAndFields) {\n        var split = endpointAndFields.split(':');\n        endpoints.push(split[0]);\n        if (split[1]) {\n          fields[split[0]] = split[1].split('+');\n        }\n      });\n\n      console.log('endp, f', endpoints, fields);\n\n      var repos = [];\n      if (this.repo) {\n        repos.push(window.AugurRepos[this.repo]);\n      }\n      if (this.comparedTo) {\n        repos.push(window.AugurRepos[this.comparedTo]);\n      }\n\n      window.AugurAPI.batchMapped(repos, endpoints).then(function (data) {\n        _this.__download_data = data;\n        _this.$refs.downloadJSON.href = 'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(_this.__download_data));\n        _this.$refs.downloadJSON.setAttribute('download', _this.__download_file + '.json');\n\n        var defaultProcess = function defaultProcess(obj, key, field, count) {\n          var d = _AugurStats2.default.convertKey(obj[key], field);\n          d = _AugurStats2.default.convertDates(d, _this.earliest, _this.latest);\n          return d;\n        };\n\n        var normalized = [];\n        var buildLines = function buildLines(obj, onCreateData) {\n          if (!obj) {\n            return;\n          }\n          if (!onCreateData) {\n            onCreateData = function onCreateData(obj, key, field, count) {\n              var d = defaultProcess(obj, key, field, count);\n              normalized.push(d);\n            };\n          }\n          var count = 0;\n          for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n              if (fields[key]) {\n                fields[key].forEach(function (field) {\n                  onCreateData(obj, key, field, count);\n                  count++;\n                });\n              } else {\n                var field = Object.keys(obj[key][0]).splice(1);\n                onCreateData(obj, key, field, count);\n                count++;\n              }\n            }\n          }\n        };\n        if (!_this.comparedTo) {\n          buildLines(data[_this.repo], function (obj, key, field, count) {\n            var d = defaultProcess(obj, key, field, count);\n            var rolling = _AugurStats2.default.rollingAverage(d, 'value', _this.period);\n            if (!_this.disableRollingAverage) {\n              normalized.push(rolling);\n              _this.mgConfig.legend.push(field);\n              _this.mgConfig.colors.push(window.AUGUR_CHART_STYLE.brightColors[count]);\n            }\n            if (_this.rawWeekly || _this.disableRollingAverage) {\n              normalized.push(d);\n              _this.mgConfig.legend.push(field);\n              _this.mgConfig.colors.push(_this.disableRollingAverage ? window.AUGUR_CHART_STYLE.brightColors[count] : window.AUGUR_CHART_STYLE.dullColors[count]);\n            }\n          });\n        } else if (_this.compare === 'each' && _this.comparedTo) {\n          buildLines(data[_this.comparedTo], function (obj, key, field, count) {\n            var d = defaultProcess(obj, key, field, count);\n            var rolling = _AugurStats2.default.rollingAverage(_AugurStats2.default.zscores(d, 'value'), 'value', _this.period);\n            normalized.push(rolling);\n            _this.mgConfig.legend.push(_this.comparedTo + ' ' + field);\n            _this.mgConfig.colors.push(window.AUGUR_CHART_STYLE.brightColors[count]);\n          });\n          buildLines(data[_this.repo], function (obj, key, field, count) {\n            var d = defaultProcess(obj, key, field, count);\n            var rolling = _AugurStats2.default.rollingAverage(_AugurStats2.default.zscores(d, 'value'), 'value', _this.period);\n            normalized.push(rolling);\n            _this.mgConfig.legend.push(_this.repo + ' ' + field);\n            _this.mgConfig.colors.push(window.AUGUR_CHART_STYLE.dullColors[count]);\n          });\n        } else if (_this.comparedTo) {\n          _this.mgConfig.baselines = [{ value: 1, label: _this.repo }];\n          buildLines(data[_this.comparedTo], function (obj, key, field, count) {\n            normalized.push(_AugurStats2.default.makeRelative(obj[key], data[_this.repo][key], field, {\n              earliest: _this.earliest,\n              latest: _this.latest,\n              byDate: true,\n              period: _this.period\n            }));\n            _this.mgConfig.legend.push(_this.comparedTo + ' ' + field);\n            _this.mgConfig.colors.push(window.AUGUR_CHART_STYLE.brightColors[count]);\n          });\n        }\n\n        _this.mgConfig.data = normalized;\n        _this.mgConfig.legend_target = _this.$refs.legend;\n        _this.renderChart();\n      });\n\n      return '<div class=\"loader deleteme\">' + this.title + '...</div>';\n    }\n  },\n  methods: {\n    downloadSVG: function downloadSVG(e) {\n      var svgsaver = new window.SvgSaver();\n      var svg = window.$(this.$refs.chartholder).find('svg')[0];\n      svgsaver.asSvg(svg, this.__download_file + '.svg');\n    },\n    downloadPNG: function downloadPNG(e) {\n      var svgsaver = new window.SvgSaver();\n      var svg = window.$(this.$refs.chartholder).find('svg')[0];\n      svgsaver.asPng(svg, this.__download_file + '.png');\n    },\n    renderChart: function renderChart() {\n      var _this2 = this;\n\n      this.$refs.chart.className = 'linechart intro';\n      window.$(this.$refs.holder).find('.hideme').removeClass('invis');\n      window.$(this.$refs.holder).find('.showme').removeClass('invis');\n      window.$(this.$refs.holder).find('.deleteme').remove();\n      window.$(this.mgConfig.target).hover(function (onEnterEvent) {\n        window.$(_this2.$refs.legend).hide();\n      }, function (onLeaveEvent) {\n        window.$(_this2.$refs.legend).show();\n      });\n      this.$refs.chartholder.innerHTML = '';\n      this.$refs.chartholder.appendChild(this.mgConfig.target);\n      this.mgConfig.target.className = 'deleteme';\n      window.MG.data_graphic(this.mgConfig);\n    }\n  } };\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"holder\"},[_c('div',{ref:\"chart\",staticClass:\"linechart\"},[_c('div',{ref:\"legend\",staticClass:\"legend hideme invis\"}),_vm._v(\" \"),_c('div',{ref:\"chartholder\"}),_vm._v(\" \"),_c('span',{ref:\"chartStatus\",staticClass:\"showme\",domProps:{\"innerHTML\":_vm._s(_vm.chart)}})]),_vm._v(\" \"),_c('div',{staticClass:\"row below-chart hideme invis\"},[_c('div',{staticClass:\"col col-6\"},[_c('cite',{staticClass:\"metric\"},[_vm._v(\"Metric: \"),_c('a',{attrs:{\"href\":_vm.citeUrl,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.citeText))])])]),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('button',{staticClass:\"button download graph-download\",on:{\"click\":_vm.downloadSVG}},[_vm._v(\"⬇ SVG\")]),_c('button',{staticClass:\"button graph-download download\",on:{\"click\":_vm.downloadPNG}},[_vm._v(\"⬇ PNG\")]),_c('a',{ref:\"downloadJSON\",staticClass:\"button graph-download download\",attrs:{\"role\":\"button\"}},[_vm._v(\"⬇ JSON\")])])])])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4035d73d\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-4035d73d\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vuex = require('vuex');\n\nvar _AugurStats = require('AugurStats');\n\nvar _AugurStats2 = _interopRequireDefault(_AugurStats);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  props: ['citeUrl', 'citeText', 'title', 'disableRollingAverage', 'alwaysByDate'],\n  data: function data() {\n    return {\n      values: []\n    };\n  },\n\n  computed: {\n    repo: function repo() {\n      return this.$store.state.baseRepo;\n    },\n    earliest: function earliest() {\n      return this.$store.state.startDate;\n    },\n    latest: function latest() {\n      return this.$store.state.endDate;\n    },\n    spec: function spec() {\n      return {\n        \"$schema\": \"https://vega.github.io/schema/vega-lite/v2.json\",\n        \"data\": { \"values\": [] },\n        \"title\": \"Issue Activity\",\n        \"width\": this.$el ? this.$el.offestWidth : 800,\n        \"height\": 400,\n        \"autosize\": \"fit\",\n        \"mark\": \"bar\",\n        \"encoding\": {\n          \"y\": { \"aggregate\": \"sum\",\n            \"field\": \"count\",\n            \"type\": \"quantitative\" },\n          \"x\": { \"field\": \"date\",\n            \"type\": \"temporal\" },\n          \"color\": { \"field\": \"action\",\n            \"type\": \"nominal\" }\n        }\n      };\n    },\n    chart: function chart() {\n      var _this = this;\n\n      $(this.$el).find('.showme').addClass('invis');\n      $(this.$el).find('.stackedbarchart').addClass('loader');\n      if (this.repo) {\n        window.AugurRepos[this.repo].issueActivity().then(function (data) {\n          $(_this.$el).find('.showme, .hidefirst').removeClass('invis');\n          $(_this.$el).find('.stackedbarchart').removeClass('loader');\n          data = _AugurStats2.default.convertDates(data, _this.earliest, _this.latest);\n          _this.values = data;\n        });\n      }\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"holder\"},[_c('div',{staticClass:\"stackedbarchart hidefirst invis\"},[_c('vega-lite',{attrs:{\"spec\":_vm.spec,\"data\":_vm.values}}),_vm._v(\" \"),_c('p',[_vm._v(\" \"+_vm._s(_vm.chart)+\" \")])],1)])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-6c07ac85\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-6c07ac85\", __vue__options__)\n  }\n})()}","import AugurStats from 'AugurStats'\n\nexport default {\n  props: ['source', 'citeUrl', 'citeText', 'title', 'percentage',\n    'comparedTo', 'disableRollingAverage', 'alwaysByDate', 'innerKey'],\n  data () {\n    return {\n      data: []\n    }\n  },\n  computed: {\n    repo () {\n      return this.$store.state.baseRepo\n    },\n    period () {\n      return this.$store.state.trailingAverage\n    },\n    earliest () {\n      return this.$store.state.startDate\n    },\n    latest () {\n      return this.$store.state.endDate\n    },\n    compare () {\n      return this.$store.state.compare\n    },\n    rawWeekly () {\n      return this.$store.state.rawWeekly\n    },\n    chart () {\n      let config = {}\n\n      config.earliest = this.earliest || new Date('01-01-2005')\n      config.latest = this.latest || new Date()\n      config.title = this.title || 'Activity'\n      config.full_width = true\n      config.height = 200\n      config.x_accessor = 'date'\n      config.format = this.percentage ? 'percentage' : undefined\n      config.compare = this.compare\n      config.byDate = true\n      config.time_series = true\n      config.area = this.rawWeekly\n\n      this.__download_data = {}\n      this.__download_file = config.title.replace(/ /g, '-').replace('/', 'by').toLowerCase()\n\n      var renderChart = () => {\n        window.$(this.$refs.holder).find('.showme').removeClass('invis')\n        this.$refs.chartholder.innerHTML = ''\n        this.$refs.chartholder.appendChild(config.target)\n        this.$refs.chart.className = 'linechart'\n        window.MG.data_graphic(config)\n      }\n\n      if (this.repo) {\n        if (this.$refs.chart) {\n          this.$refs.chart.className = 'linechart loader'\n          window.$(this.$refs.holder).find('.hideme').addClass('invis')\n          window.$(this.$refs.holder).find('.showme').removeClass('invis')\n        }\n        // Create element to hold the chart\n        config.target = document.createElement('div')\n        window.AugurRepos[this.repo][this.source]()\n          .then((baseData) => {\n            this.__download_data.base = baseData\n            this.$refs.chartStatus.innerHTML = ''\n            if (baseData && baseData.length) {\n              config.data = AugurStats.convertDates(baseData, this.earliest, this.latest)\n            } else {\n              config.data = []\n            }\n            if (this.comparedTo) {\n              return window.AugurRepos[this.comparedTo][this.source]()\n            }\n            return new Promise((resolve, reject) => { resolve() })\n          })\n          .then((compareData) => {\n            this.__download_data.compare = compareData\n            this.$refs.downloadJSON.href = 'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(this.__download_data))\n            this.$refs.downloadJSON.setAttribute('download', this.__download_file + '.json')\n            let keys = Object.keys(config.data[0]).splice(1)\n            let key = this.innerKey || keys[0]\n            if (config.data && compareData && compareData.length) {\n            // If there is comparedData, do the necesarry computations for\n            // the comparision\n              if (config.compare === 'each') {\n                compareData = AugurStats.convertDates(compareData, this.earliest, this.latest)\n\n                let compare = AugurStats.rollingAverage(AugurStats.zscores(compareData, key), 'value', this.period)\n                let base = AugurStats.rollingAverage(AugurStats.zscores(config.data, key), 'value', this.period)\n                config.data = [base, compare]\n                config.legend = [window.AugurRepos[this.repo].toString(), window.AugurRepos[this.comparedTo].toString()]\n                config.colors = config.colors || ['#FF3647', '#999']\n              } else {\n                config.format = 'percentage'\n                config.baselines = [{value: 1, label: config.baseline}]\n                config.data = AugurStats.makeRelative(config.data, compareData, {\n                  earliest: config.earliest,\n                  latest: config.latest,\n                  byDate: config.byDate,\n                  period: this.period\n                })\n                config.x_accessor = (config.byDate) ? 'date' : 'x'\n              }\n            } else {\n            // Otherwise, render a normal timeseries chart\n              if (!this.disableRollingAverage) {\n                config.legend = config.legend || [config.title.toLowerCase(), this.period + ' day average']\n                let rolling = AugurStats.rollingAverage(config.data, key, this.period)\n                if (this.rawWeekly) {\n                  config.data = AugurStats.combine(rolling, config.data)\n                } else {\n                  config.data = rolling\n                }\n                config.colors = config.colors || ['#FF3647', '#CCC']\n                config.y_accessor = 'value'\n              } else {\n                config.legend = config.legend || [config.title.toLowerCase()]\n                config.colors = config.colors || ['#FF3647', '#CCC']\n                config.y_accessor = 'value'\n              }\n              config.data = AugurStats.convertKey(config.data, key)\n            }\n\n            config.y_mouseover = '%d'\n\n            config.legend_target = this.$refs.legend\n\n            this.$refs.chart.className = 'linechart intro'\n            window.$(this.$refs.holder).find('.hideme').removeClass('invis')\n\n            window.$(config.target).hover((onEnterEvent) => {\n              window.$(this.$refs.legend).hide()\n            }, (onLeaveEvent) => {\n              window.$(this.$refs.legend).show()\n            })\n            renderChart()\n          }) // end then()\n          .catch((reject) => {\n            config = {\n              error: config.title + 'is missing data',\n              chart_type: 'missing-data',\n              missing_text: config.title + ' is missing data',\n              target: config.target,\n              full_width: true,\n              height: 200\n            }\n            renderChart()\n          })\n        return '<div class=\"loader\">' + this.title + '...</div>'\n      } // end if (this.$store.repo)\n    } // end chart()\n  }, // end computed\n  methods: {\n    downloadSVG (e) {\n      var svgsaver = new window.SvgSaver()\n      var svg = window.$(this.$refs.chartholder).find('svg')[0]\n      svgsaver.asSvg(svg, this.__download_file + '.svg')\n    },\n    downloadPNG (e) {\n      var svgsaver = new window.SvgSaver()\n      var svg = window.$(this.$refs.chartholder).find('svg')[0]\n      svgsaver.asPng(svg, this.__download_file + '.png')\n    }\n  }// end methods\n} // end export default {}\n","/*\n\tKube. CSS & JS Framework\n\tVersion 6.5.2\n\tUpdated: February 2, 2017\n\n\thttp://imperavi.com/kube/\n\n\tCopyright (c) 2009-2017, Imperavi LLC.\n\tLicense: MIT\n*/\nif (typeof jQuery === 'undefined') {throw new Error('Kube\\'s requires jQuery')};\n;(function($) { var version = $.fn.jquery.split('.'); if (version[0] == 1 && version[1] < 8) {throw new Error('Kube\\'s requires at least jQuery v1.8'); }})(jQuery);\n\n;(function()\n{\n    // Inherits\n    Function.prototype.inherits = function(parent)\n    {\n        var F = function () {};\n        F.prototype = parent.prototype;\n        var f = new F();\n\n        for (var prop in this.prototype) f[prop] = this.prototype[prop];\n        this.prototype = f;\n        this.prototype.super = parent.prototype;\n    };\n\n    // Core Class\n    var Kube = function(element, options)\n    {\n        options = (typeof options === 'object') ? options : {};\n\n        this.$element = $(element);\n        this.opts     = $.extend(true, this.defaults, $.fn[this.namespace].options, this.$element.data(), options);\n        this.$target  = (typeof this.opts.target === 'string') ? $(this.opts.target) : null;\n    };\n\n    // Core Functionality\n    Kube.prototype = {\n        getInstance: function()\n        {\n            return this.$element.data('fn.' + this.namespace);\n        },\n        hasTarget: function()\n        {\n           return !(this.$target === null);\n        },\n        callback: function(type)\n        {\n\t\tvar args = [].slice.call(arguments).splice(1);\n\n            // on element callback\n            if (this.$element)\n            {\n                args = this._fireCallback($._data(this.$element[0], 'events'), type, this.namespace, args);\n            }\n\n            // on target callback\n            if (this.$target)\n            {\n                args = this._fireCallback($._data(this.$target[0], 'events'), type, this.namespace, args);\n\t\t}\n\n\t\t// opts callback\n\t\tif (this.opts && this.opts.callbacks && $.isFunction(this.opts.callbacks[type]))\n\t\t{\n                return this.opts.callbacks[type].apply(this, args);\n\t\t}\n\n\t\treturn args;\n        },\n        _fireCallback: function(events, type, eventNamespace, args)\n        {\n            if (events && typeof events[type] !== 'undefined')\n            {\n\t\t\tvar len = events[type].length;\n\t\t\tfor (var i = 0; i < len; i++)\n\t\t\t{\n\t\t\t\tvar namespace = events[type][i].namespace;\n\t\t\t\tif (namespace === eventNamespace)\n\t\t\t\t{\n\t\t\t\t\tvar value = events[type][i].handler.apply(this, args);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n            return (typeof value === 'undefined') ? args : value;\n        }\n    };\n\n    // Scope\n    window.Kube = Kube;\n\n})();\n/**\n * @library Kube Plugin\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Plugin = {\n        create: function(classname, pluginname)\n        {\n            pluginname = (typeof pluginname === 'undefined') ? classname.toLowerCase() : pluginname;\n\n            $.fn[pluginname] = function(method, options)\n            {\n                var args = Array.prototype.slice.call(arguments, 1);\n                var name = 'fn.' + pluginname;\n                var val = [];\n\n                this.each(function()\n                {\n                    var $this = $(this), data = $this.data(name);\n                    options = (typeof method === 'object') ? method : options;\n\n                    if (!data)\n                    {\n                        // Initialization\n                        $this.data(name, {});\n                        $this.data(name, (data = new Kube[classname](this, options)));\n                    }\n\n                    // Call methods\n                    if (typeof method === 'string')\n                    {\n                        if ($.isFunction(data[method]))\n                        {\n                            var methodVal = data[method].apply(data, args);\n                            if (methodVal !== undefined)\n                            {\n                                val.push(methodVal);\n                            }\n                        }\n                        else\n                        {\n                            $.error('No such method \"' + method + '\" for ' + classname);\n                        }\n                    }\n\n                });\n\n                return (val.length === 0 || val.length === 1) ? ((val.length === 0) ? this : val[0]) : val;\n            };\n\n            $.fn[pluginname].options = {};\n\n            return this;\n        },\n        autoload: function(pluginname)\n        {\n            var arr = pluginname.split(',');\n            var len = arr.length;\n\n            for (var i = 0; i < len; i++)\n            {\n                var name = arr[i].toLowerCase().split(',').map(function(s) { return s.trim() }).join(',');\n                this.autoloadQueue.push(name);\n            }\n\n            return this;\n        },\n        autoloadQueue: [],\n        startAutoload: function()\n        {\n            if (!window.MutationObserver || this.autoloadQueue.length === 0)\n            {\n                return;\n            }\n\n            var self = this;\n\t\tvar observer = new MutationObserver(function(mutations)\n\t\t{\n\t\t\tmutations.forEach(function(mutation)\n\t\t\t{\n\t\t\t\tvar newNodes = mutation.addedNodes;\n\t\t\t    if (newNodes.length === 0 || (newNodes.length === 1 && newNodes.nodeType === 3))\n\t\t\t    {\n\t\t\t\t    return;\n\t\t\t\t}\n\n                    self.startAutoloadOnce();\n\t\t\t});\n\t\t});\n\n\t\t// pass in the target node, as well as the observer options\n\t\tobserver.observe(document, {\n\t\t\t subtree: true,\n\t\t\t childList: true\n\t\t});\n        },\n        startAutoloadOnce: function()\n        {\n            var self = this;\n            var $nodes = $('[data-component]').not('[data-loaded]');\n\t\t$nodes.each(function()\n\t\t{\n\t\t\tvar $el = $(this);\n\t\t\tvar pluginname = $el.data('component');\n\n                if (self.autoloadQueue.indexOf(pluginname) !== -1)\n                {\n\t\t\t$el.attr('data-loaded', true);\n                    $el[pluginname]();\n                }\n            });\n\n        },\n        watch: function()\n        {\n            Kube.Plugin.startAutoloadOnce();\n            Kube.Plugin.startAutoload();\n        }\n    };\n\n    $(window).on('load', function()\n    {\n        Kube.Plugin.watch();\n    });\n\n}(Kube));\n/**\n * @library Kube Animation\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Animation = function(element, effect, callback)\n    {\n        this.namespace = 'animation';\n        this.defaults = {};\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Initialization\n        this.effect = effect;\n        this.completeCallback = (typeof callback === 'undefined') ? false : callback;\n        this.prefixes = ['', '-moz-', '-o-animation-', '-webkit-'];\n        this.queue = [];\n\n        this.start();\n    };\n\n    Kube.Animation.prototype = {\n        start: function()\n        {\n\t\tif (this.isSlideEffect()) this.setElementHeight();\n\n\t\t\tthis.addToQueue();\n\t\t\tthis.clean();\n\t\t\tthis.animate();\n        },\n        addToQueue: function()\n        {\n            this.queue.push(this.effect);\n        },\n        setElementHeight: function()\n        {\n            this.$element.height(this.$element.height());\n        },\n        removeElementHeight: function()\n        {\n            this.$element.css('height', '');\n        },\n        isSlideEffect: function()\n        {\n            return (this.effect === 'slideDown' || this.effect === 'slideUp');\n        },\n        isHideableEffect: function()\n        {\n            var effects = ['fadeOut', 'slideUp', 'flipOut', 'zoomOut', 'slideOutUp', 'slideOutRight', 'slideOutLeft'];\n\n\t\t\treturn ($.inArray(this.effect, effects) !== -1);\n        },\n        isToggleEffect: function()\n        {\n            return (this.effect === 'show' || this.effect === 'hide');\n        },\n        storeHideClasses: function()\n        {\n            if (this.$element.hasClass('hide-sm'))      this.$element.data('hide-sm-class', true);\n            else if (this.$element.hasClass('hide-md')) this.$element.data('hide-md-class', true);\n        },\n        revertHideClasses: function()\n        {\n            if (this.$element.data('hide-sm-class'))      this.$element.addClass('hide-sm').removeData('hide-sm-class');\n            else if (this.$element.data('hide-md-class')) this.$element.addClass('hide-md').removeData('hide-md-class');\n            else                                          this.$element.addClass('hide');\n        },\n        removeHideClass: function()\n        {\n            if (this.$element.data('hide-sm-class'))      this.$element.removeClass('hide-sm');\n            else if (this.$element.data('hide-md-class')) this.$element.removeClass('hide-md');\n            else                                          this.$element.removeClass('hide');\n        },\n        animate: function()\n        {\n            this.storeHideClasses();\n            if (this.isToggleEffect())\n\t\t\t{\n\t\t\t\treturn this.makeSimpleEffects();\n            }\n\n            this.$element.addClass('kubeanimated');\n\t\t\tthis.$element.addClass(this.queue[0]);\n            this.removeHideClass();\n\n\t\t\tvar _callback = (this.queue.length > 1) ? null : this.completeCallback;\n\t\t\tthis.complete('AnimationEnd', $.proxy(this.makeComplete, this), _callback);\n        },\n        makeSimpleEffects: function()\n        {\n\t\tif      (this.effect === 'show') this.removeHideClass();\n            else if (this.effect === 'hide') this.revertHideClasses();\n\n            if (typeof this.completeCallback === 'function') this.completeCallback(this);\n        },\n\t\tmakeComplete: function()\n\t\t{\n            if (this.$element.hasClass(this.queue[0]))\n            {\n\t\t\t\tthis.clean();\n\t\t\t\tthis.queue.shift();\n\n\t\t\t\tif (this.queue.length) this.animate();\n\t\t\t}\n\t\t},\n        complete: function(type, make, callback)\n\t\t{\n\t\tvar event = type.toLowerCase() + ' webkit' + type + ' o' + type + ' MS' + type;\n\n\t\t\tthis.$element.one(event, $.proxy(function()\n\t\t\t{\n\t\t\t\tif (typeof make === 'function')     make();\n\t\t\t\tif (this.isHideableEffect())        this.revertHideClasses();\n\t\t\t\tif (this.isSlideEffect())           this.removeElementHeight();\n\t\t\t\tif (typeof callback === 'function') callback(this);\n\n\t\t\t\tthis.$element.off(event);\n\n\t\t\t}, this));\n\t\t},\n\t\tclean: function()\n\t\t{\n\t\t\tthis.$element.removeClass('kubeanimated').removeClass(this.queue[0]);\n\t\t}\n    };\n\n    // Inheritance\n    Kube.Animation.inherits(Kube);\n\n}(Kube));\n\n// Plugin\n(function($)\n{\n    $.fn.animation = function(effect, callback)\n    {\n        var name = 'fn.animation';\n\n        return this.each(function()\n        {\n            var $this = $(this), data = $this.data(name);\n\n            $this.data(name, {});\n            $this.data(name, (data = new Kube.Animation(this, effect, callback)));\n        });\n    };\n\n    $.fn.animation.options = {};\n\n})(jQuery);\n/**\n * @library Kube Detect\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Detect = function() {};\n\n    Kube.Detect.prototype = {\n\tisMobile: function()\n\t{\n\t\treturn /(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent);\n\t},\n\tisDesktop: function()\n\t{\n\t\treturn !/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent);\n\t},\n\tisMobileScreen: function()\n\t{\n\t\treturn ($(window).width() <= 768);\n\t},\n\tisTabletScreen: function()\n\t{\n\t\treturn ($(window).width() >= 768 && $(window).width() <= 1024);\n\t},\n\tisDesktopScreen: function()\n\t{\n\t\treturn ($(window).width() > 1024);\n\t}\n    };\n\n\n}(Kube));\n/**\n * @library Kube FormData\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.FormData = function(app)\n    {\n        this.opts = app.opts;\n    };\n\n    Kube.FormData.prototype = {\n        set: function(data)\n        {\n            this.data = data;\n        },\n        get: function(formdata)\n\t{\n\t\tthis.formdata = formdata;\n\n            if (this.opts.appendForms) this.appendForms();\n            if (this.opts.appendFields) this.appendFields();\n\n            return this.data;\n\t},\n\tappendFields: function()\n\t{\n\t\tvar $fields = $(this.opts.appendFields);\n\t\tif ($fields.length === 0)\n\t\t{\n\t\t\treturn;\n            }\n\n\t\tvar self = this;\n            var str = '';\n\n            if (this.formdata)\n            {\n                $fields.each(function()\n\t\t\t{\n\t\t\t\tself.data.append($(this).attr('name'), $(this).val());\n\t\t\t});\n            }\n            else\n            {\n\t\t\t$fields.each(function()\n\t\t\t{\n\t\t\t\tstr += '&' + $(this).attr('name') + '=' + $(this).val();\n\t\t\t});\n\n\t\t\tthis.data = (this.data === '') ? str.replace(/^&/, '') : this.data + str;\n            }\n\t},\n\tappendForms: function()\n\t{\n\t\tvar $forms = $(this.opts.appendForms);\n\t\tif ($forms.length === 0)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n            if (this.formdata)\n            {\n                var self = this;\n                var formsData = $(this.opts.appendForms).serializeArray();\n                $.each(formsData, function(i,s)\n                {\n\t\t\tself.data.append(s.name, s.value);\n                });\n            }\n            else\n            {\n                var str = $forms.serialize();\n\n                this.data = (this.data === '') ? str : this.data + '&' + str;\n            }\n\t}\n    };\n\n\n}(Kube));\n/**\n * @library Kube Response\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Response = function(app) {};\n\n    Kube.Response.prototype = {\n        parse: function(str)\n\t{\n\t\tif (str === '') return false;\n\n\t\tvar obj = {};\n\n\t\ttry {\n\t\t\tobj = JSON.parse(str);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (obj[0] !== undefined)\n\t\t{\n\t\t\tfor (var item in obj)\n\t\t\t{\n\t\t\t\tthis.parseItem(obj[item]);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.parseItem(obj);\n\t\t}\n\n\t\treturn obj;\n\t},\n\tparseItem: function(item)\n\t{\n\t\tif (item.type === 'value')\n\t\t{\n\t\t\t$.each(item.data, $.proxy(function(key, val)\n\t\t\t{\n\t\t\t\tval = (val === null || val === false) ? 0 : val;\n\t\t\t\tval = (val === true) ? 1 : val;\n\n\t\t\t\t$(key).val(val);\n\n\t\t\t}, this));\n\t\t}\n\t\telse if (item.type === 'html')\n\t\t{\n\t\t\t$.each(item.data, $.proxy(function(key, val)\n\t\t\t{\n\t\t\t\tval = (val === null || val === false) ? '' : val;\n\n\t\t\t\t$(key).html(this.stripslashes(val));\n\n\t\t\t}, this));\n\t\t}\n\t\telse if (item.type === 'addClass')\n\t\t{\n\t\t\t$.each(item.data, function(key, val)\n\t\t\t{\n\t\t\t\t$(key).addClass(val);\n\t\t\t});\n            }\n\t\telse if (item.type === 'removeClass')\n\t\t{\n\t\t\t$.each(item.data, function(key, val)\n\t\t\t{\n\t\t\t\t$(key).removeClass(val);\n\t\t\t});\n            }\n\t\telse if (item.type === 'command')\n\t\t{\n\t\t\t$.each(item.data, function(key, val)\n\t\t\t{\n\t\t\t\t$(val)[key]();\n\t\t\t});\n\t\t}\n\t\telse if (item.type === 'animation')\n\t\t{\n\t\t\t$.each(item.data, function(key, data)\n\t\t\t{\n\t\t\t\tdata.opts = (typeof data.opts === 'undefined') ? {} : data.opts;\n\n\t\t\t\t$(key).animation(data.name, data.opts);\n\t\t\t});\n\t\t}\n\t\telse if (item.type === 'location')\n\t\t{\n\t\t\ttop.location.href = item.data;\n\t\t}\n\t\telse if (item.type === 'notify')\n\t\t{\n\t\t\t$.notify(item.data);\n\t\t}\n\n\t\treturn item;\n\t},\n        stripslashes: function(str)\n\t{\n\t\treturn (str+'').replace(/\\0/g, '0').replace(/\\\\([\\\\'\"])/g, '$1');\n        }\n    };\n\n\n}(Kube));\n/**\n * @library Kube Utils\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Utils = function() {};\n\n    Kube.Utils.prototype = {\n        disableBodyScroll: function()\n\t{\n\t\tvar $body = $('html');\n\t\tvar windowWidth = window.innerWidth;\n\n\t\tif (!windowWidth)\n\t\t{\n\t\t\tvar documentElementRect = document.documentElement.getBoundingClientRect();\n\t\t\twindowWidth = documentElementRect.right - Math.abs(documentElementRect.left);\n\t\t}\n\n\t\tvar isOverflowing = document.body.clientWidth < windowWidth;\n\t\tvar scrollbarWidth = this.measureScrollbar();\n\n\t\t$body.css('overflow', 'hidden');\n\t\tif (isOverflowing) $body.css('padding-right', scrollbarWidth);\n\t},\n\tmeasureScrollbar: function()\n\t{\n\t\tvar $body = $('body');\n\t\tvar scrollDiv = document.createElement('div');\n\t\tscrollDiv.className = 'scrollbar-measure';\n\n\t\t$body.append(scrollDiv);\n\t\tvar scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t$body[0].removeChild(scrollDiv);\n\t\treturn scrollbarWidth;\n\t},\n\tenableBodyScroll: function()\n\t{\n\t\t$('html').css({ 'overflow': '', 'padding-right': '' });\n\t}\n    };\n\n\n}(Kube));\n/**\n * @library Kube Message\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Message = function(element, options)\n    {\n        this.namespace = 'message';\n        this.defaults = {\n            closeSelector: '.close',\n            closeEvent: 'click',\n            animationOpen: 'fadeIn',\n            animationClose: 'fadeOut',\n            callbacks: ['open', 'opened', 'close', 'closed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Message.prototype = {\n        start: function()\n        {\n            this.$close = this.$element.find(this.opts.closeSelector);\n            this.$close.on(this.opts.closeEvent + '.' + this.namespace, $.proxy(this.close, this));\n            this.$element.addClass('open');\n        },\n        stop: function()\n        {\n            this.$close.off('.' + this.namespace);\n            this.$element.removeClass('open');\n        },\n        open: function(e)\n        {\n            if (e) e.preventDefault();\n\n            if (!this.isOpened())\n            {\n                this.callback('open');\n                this.$element.animation(this.opts.animationOpen, $.proxy(this.onOpened, this));\n            }\n        },\n        isOpened: function()\n        {\n            return this.$element.hasClass('open');\n        },\n        onOpened: function()\n        {\n            this.callback('opened');\n            this.$element.addClass('open');\n        },\n        close: function(e)\n        {\n            if (e) e.preventDefault();\n\n            if (this.isOpened())\n            {\n                this.callback('close');\n                this.$element.animation(this.opts.animationClose, $.proxy(this.onClosed, this));\n            }\n        },\n        onClosed: function()\n        {\n            this.callback('closed');\n            this.$element.removeClass('open');\n        }\n    };\n\n    // Inheritance\n    Kube.Message.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Message');\n    Kube.Plugin.autoload('Message');\n\n}(Kube));\n/**\n * @library Kube Sticky\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Sticky = function(element, options)\n    {\n        this.namespace = 'sticky';\n        this.defaults = {\n            classname: 'fixed',\n            offset: 0, // pixels\n            callbacks: ['fixed', 'unfixed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Sticky.prototype = {\n        start: function()\n        {\n\t    this.offsetTop = this.getOffsetTop();\n\n\t    this.load();\n\t    $(window).scroll($.proxy(this.load, this));\n\t},\n\tgetOffsetTop: function()\n\t{\n\t\treturn this.$element.offset().top;\n\t},\n\tload: function()\n\t{\n\t\treturn (this.isFix()) ? this.fixed() : this.unfixed();\n\t},\n\tisFix: function()\n\t{\n            return ($(window).scrollTop() > (this.offsetTop + this.opts.offset));\n\t},\n\tfixed: function()\n\t{\n\t\tthis.$element.addClass(this.opts.classname).css('top', this.opts.offset + 'px');\n\t\tthis.callback('fixed');\n\t},\n\tunfixed: function()\n\t{\n\t\tthis.$element.removeClass(this.opts.classname).css('top', '');\n\t\tthis.callback('unfixed');\n        }\n    };\n\n    // Inheritance\n    Kube.Sticky.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Sticky');\n    Kube.Plugin.autoload('Sticky');\n\n}(Kube));\n/**\n * @library Kube Toggleme\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Toggleme = function(element, options)\n    {\n        this.namespace = 'toggleme';\n        this.defaults = {\n            toggleEvent: 'click',\n            target: null,\n            text: '',\n            animationOpen: 'slideDown',\n            animationClose: 'slideUp',\n            callbacks: ['open', 'opened', 'close', 'closed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Toggleme.prototype = {\n        start: function()\n        {\n            if (!this.hasTarget()) return;\n\n            this.$element.on(this.opts.toggleEvent + '.' + this.namespace, $.proxy(this.toggle, this));\n        },\n        stop: function()\n        {\n            this.$element.off('.' + this.namespace);\n            this.revertText();\n        },\n        toggle: function(e)\n        {\n            if (this.isOpened()) this.close(e);\n            else                 this.open(e);\n        },\n        open: function(e)\n        {\n            if (e) e.preventDefault();\n\n            if (!this.isOpened())\n            {\n                this.storeText();\n                this.callback('open');\n                this.$target.animation('slideDown', $.proxy(this.onOpened, this));\n\n                // changes the text of $element with a less delay to smooth\n                setTimeout($.proxy(this.replaceText, this), 100);\n\t\t}\n        },\n        close: function(e)\n        {\n            if (e) e.preventDefault();\n\n            if (this.isOpened())\n            {\n                this.callback('close');\n                this.$target.animation('slideUp', $.proxy(this.onClosed, this));\n\t\t}\n        },\n\tisOpened: function()\n        {\n            return (this.$target.hasClass('open'));\n        },\n        onOpened: function()\n        {\n            this.$target.addClass('open');\n\t\tthis.callback('opened');\n        },\n        onClosed: function()\n        {\n            this.$target.removeClass('open');\n            this.revertText();\n\t\tthis.callback('closed');\n        },\n        storeText: function()\n        {\n            this.$element.data('replacement-text', this.$element.html());\n        },\n        revertText: function()\n        {\n            var text = this.$element.data('replacement-text');\n            if (text) this.$element.html(text);\n\n            this.$element.removeData('replacement-text');\n        },\n        replaceText: function()\n        {\n            if (this.opts.text !== '')\n            {\n                this.$element.html(this.opts.text);\n            }\n        }\n    };\n\n    // Inheritance\n    Kube.Toggleme.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Toggleme');\n    Kube.Plugin.autoload('Toggleme');\n\n}(Kube));\n/**\n * @library Kube Offcanvas\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Offcanvas = function(element, options)\n    {\n        this.namespace = 'offcanvas';\n        this.defaults = {\n\t\ttarget: null, // selector\n\t\tpush: true, // boolean\n\t\twidth: '250px', // string\n\t\tdirection: 'left', // string: left or right\n\t\ttoggleEvent: 'click',\n\t\tclickOutside: true, // boolean\n\t\tanimationOpen: 'slideInLeft',\n\t\tanimationClose: 'slideOutLeft',\n\t\tcallbacks: ['open', 'opened', 'close', 'closed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Services\n        this.utils = new Kube.Utils();\n        this.detect = new Kube.Detect();\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Offcanvas.prototype = {\n        start: function()\n        {\n            if (!this.hasTarget()) return;\n\n            this.buildTargetWidth();\n            this.buildAnimationDirection();\n\n            this.$close = this.getCloseLink();\n            this.$element.on(this.opts.toggleEvent + '.' + this.namespace, $.proxy(this.toggle, this));\n            this.$target.addClass('offcanvas');\n\t},\n\tstop: function()\n\t{\n\t\tthis.closeAll();\n\n            this.$element.off('.' + this.namespace);\n            this.$close.off('.' + this.namespace);\n            $(document).off('.' + this.namespace);\n\t},\n\ttoggle: function(e)\n\t{\n\t\tif (this.isOpened()) this.close(e);\n\t\telse                 this.open(e);\n        },\n\tbuildTargetWidth: function()\n\t{\n            this.opts.width = ($(window).width() < parseInt(this.opts.width)) ? '100%' : this.opts.width;\n\t},\n\tbuildAnimationDirection: function()\n\t{\n            if (this.opts.direction === 'right')\n            {\n                this.opts.animationOpen = 'slideInRight';\n\t\t\tthis.opts.animationClose = 'slideOutRight';\n            }\n\t},\n\tgetCloseLink: function()\n\t{\n            return this.$target.find('.close');\n\t},\n\topen: function(e)\n\t{\n\t\tif (e) e.preventDefault();\n\n            if (!this.isOpened())\n            {\n                this.closeAll();\n\t\t\tthis.callback('open');\n\n                this.$target.addClass('offcanvas-' + this.opts.direction);\n                this.$target.css('width', this.opts.width);\n\n                this.pushBody();\n\n\t\t\tthis.$target.animation(this.opts.animationOpen, $.proxy(this.onOpened, this));\n\t\t}\n\t},\n\tcloseAll: function()\n\t{\n\t\tvar $elms = $(document).find('.offcanvas');\n\t\tif ($elms.length !== 0)\n\t\t{\n                $elms.each(function()\n                {\n                    var $el = $(this);\n\n                    if ($el.hasClass('open'))\n                    {\n                        $el.css('width', '').animation('hide');\n                        $el.removeClass('open offcanvas-left offcanvas-right');\n                    }\n\n                });\n\n                $(document).off('.' + this.namespace);\n                $('body').css('left', '');\n\t\t}\n\t},\n\tclose: function(e)\n\t{\n\t\tif (e)\n\t\t{\n\t\tvar $el = $(e.target);\n\t\tvar isTag = ($el[0].tagName === 'A' || $el[0].tagName === 'BUTTON');\n\t\tif (isTag && $el.closest('.offcanvas').length !== 0 && !$el.hasClass('close'))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\te.preventDefault();\n            }\n\n            if (this.isOpened())\n\t\t{\n\t\t\tthis.utils.enableBodyScroll();\n\t\t\tthis.callback('close');\n                this.pullBody();\n\t\t\tthis.$target.animation(this.opts.animationClose, $.proxy(this.onClosed, this));\n\t\t}\n\t},\n\tisOpened: function()\n        {\n            return (this.$target.hasClass('open'));\n        },\n\tonOpened: function()\n\t{\n\t\tif (this.opts.clickOutside) $(document).on('click.' + this.namespace, $.proxy(this.close, this));\n\t\tif (this.detect.isMobileScreen()) $('html').addClass('no-scroll');\n\n            $(document).on('keyup.' + this.namespace, $.proxy(this.handleKeyboard, this));\n            this.$close.on('click.' + this.namespace, $.proxy(this.close, this));\n\n\t\tthis.utils.disableBodyScroll();\n            this.$target.addClass('open');\n            this.callback('opened');\n\t},\n\tonClosed: function()\n\t{\n\t\tif (this.detect.isMobileScreen()) $('html').removeClass('no-scroll');\n\n            this.$target.css('width', '').removeClass('offcanvas-' + this.opts.direction);\n\n            this.$close.off('.' + this.namespace);\n\t\t$(document).off('.' + this.namespace);\n\n            this.$target.removeClass('open');\n\t\tthis.callback('closed');\n\t},\n\thandleKeyboard: function(e)\n\t{\n\t\tif (e.which === 27) this.close();\n\t},\n\tpullBody: function()\n\t{\n            if (this.opts.push)\n            {\n                $('body').animate({ left: 0 }, 350, function() { $(this).removeClass('offcanvas-push-body'); });\n            }\n\t},\n\tpushBody: function()\n\t{\n            if (this.opts.push)\n            {\n                var properties = (this.opts.direction === 'left') ? { 'left': this.opts.width } : { 'left': '-' + this.opts.width };\n                $('body').addClass('offcanvas-push-body').animate(properties, 200);\n            }\n\t}\n    };\n\n    // Inheritance\n    Kube.Offcanvas.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Offcanvas');\n    Kube.Plugin.autoload('Offcanvas');\n\n}(Kube));\n/**\n * @library Kube Collapse\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Collapse = function(element, options)\n    {\n        this.namespace = 'collapse';\n        this.defaults = {\n            target: null,\n            toggle: true,\n            active: false, // string (hash = tab id selector)\n            toggleClass: 'collapse-toggle',\n            boxClass: 'collapse-box',\n            callbacks: ['open', 'opened', 'close', 'closed'],\n\n            // private\n            hashes: [],\n\t\tcurrentHash: false,\n\t\tcurrentItem: false\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Collapse.prototype = {\n        start: function()\n        {\n            // items\n            this.$items = this.getItems();\n            this.$items.each($.proxy(this.loadItems, this));\n\n            // boxes\n            this.$boxes = this.getBoxes();\n\n            // active\n            this.setActiveItem();\n        },\n        getItems: function()\n        {\n            return this.$element.find('.' + this.opts.toggleClass);\n        },\n        getBoxes: function()\n        {\n            return this.$element.find('.' + this.opts.boxClass);\n        },\n\tloadItems: function(i, el)\n\t{\n\t\tvar item = this.getItem(el);\n\n\t\t// set item identificator\n\t\titem.$el.attr('rel', item.hash);\n\n            // active\n\t\tif (!$(item.hash).hasClass('hide'))\n\t\t{\n\t\t\tthis.opts.currentItem = item;\n\t\t\tthis.opts.active = item.hash;\n\n                item.$el.addClass('active');\n            }\n\n\t\t// event\n\t\titem.$el.on('click.collapse', $.proxy(this.toggle, this));\n\n\t},\n\tsetActiveItem: function()\n\t{\n\t\tif (this.opts.active !== false)\n\t\t{\n\t\t\tthis.opts.currentItem = this.getItemBy(this.opts.active);\n\t\t\tthis.opts.active = this.opts.currentItem.hash;\n\t\t}\n\n            if (this.opts.currentItem !== false)\n            {\n\t\t    this.addActive(this.opts.currentItem);\n\t\t    this.opts.currentItem.$box.removeClass('hide');\n\t\t}\n\t},\n\taddActive: function(item)\n\t{\n\t\titem.$box.removeClass('hide').addClass('open');\n\t\titem.$el.addClass('active');\n\n\t\tif (item.$caret !== false) item.$caret.removeClass('down').addClass('up');\n\t\tif (item.$parent !== false) item.$parent.addClass('active');\n\n\t\tthis.opts.currentItem = item;\n\t},\n\tremoveActive: function(item)\n\t{\n\t\titem.$box.removeClass('open');\n\t\titem.$el.removeClass('active');\n\n\t\tif (item.$caret !== false) item.$caret.addClass('down').removeClass('up');\n\t\tif (item.$parent !== false) item.$parent.removeClass('active');\n\n\t\tthis.opts.currentItem = false;\n\t},\n        toggle: function(e)\n        {\n            if (e) e.preventDefault();\n\n            var target = $(e.target).closest('.' + this.opts.toggleClass).get(0) || e.target;\n            var item = this.getItem(target);\n\n            if (this.isOpened(item.hash)) this.close(item.hash);\n            else                          this.open(e)\n        },\n        openAll: function()\n        {\n            this.$items.addClass('active');\n            this.$boxes.addClass('open').removeClass('hide');\n        },\n        open: function(e, push)\n        {\n\t\tif (typeof e === 'undefined') return;\n\t\tif (typeof e === 'object') e.preventDefault();\n\n            var target = $(e.target).closest('.' + this.opts.toggleClass).get(0) || e.target;\n\t\tvar item = (typeof e === 'object') ? this.getItem(target) : this.getItemBy(e);\n\n\t\tif (item.$box.hasClass('open'))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.opts.toggle) this.closeAll();\n\n\t\tthis.callback('open', item);\n\t\tthis.addActive(item);\n\n            item.$box.animation('slideDown', $.proxy(this.onOpened, this));\n        },\n        onOpened: function()\n        {\n\t\tthis.callback('opened', this.opts.currentItem);\n        },\n        closeAll: function()\n        {\n            this.$items.removeClass('active').closest('li').removeClass('active');\n            this.$boxes.removeClass('open').addClass('hide');\n        },\n        close: function(num)\n        {\n\t\tvar item = this.getItemBy(num);\n\n\t\tthis.callback('close', item);\n\n\t\tthis.opts.currentItem = item;\n\n\t\titem.$box.animation('slideUp', $.proxy(this.onClosed, this));\n        },\n        onClosed: function()\n        {\n            var item = this.opts.currentItem;\n\n\t\tthis.removeActive(item);\n\t\tthis.callback('closed', item);\n        },\n        isOpened: function(hash)\n        {\n            return $(hash).hasClass('open');\n        },\n\tgetItem: function(element)\n\t{\n\t\tvar item = {};\n\n\t\titem.$el = $(element);\n\t\titem.hash = item.$el.attr('href');\n\t\titem.$box = $(item.hash);\n\n\t\tvar $parent = item.$el.parent();\n\t\titem.$parent = ($parent[0].tagName === 'LI') ? $parent : false;\n\n\t\tvar $caret = item.$el.find('.caret');\n\t\titem.$caret = ($caret.length !== 0) ? $caret : false;\n\n\t\treturn item;\n\t},\n\tgetItemBy: function(num)\n\t{\n\t\tvar element = (typeof num === 'number') ? this.$items.eq(num-1) : this.$element.find('[rel=\"' + num + '\"]');\n\n\t\treturn this.getItem(element);\n        }\n    };\n\n    // Inheritance\n    Kube.Collapse.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Collapse');\n    Kube.Plugin.autoload('Collapse');\n\n}(Kube));\n/**\n * @library Kube Dropdown\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Dropdown = function(element, options)\n    {\n        this.namespace = 'dropdown';\n        this.defaults = {\n\t\ttarget: null,\n\t\ttoggleEvent: 'click',\n\t\theight: false, // integer\n\t\twidth: false, // integer\n\t\tanimationOpen: 'slideDown',\n\t\tanimationClose: 'slideUp',\n\t\tcaretUp: false,\n            callbacks: ['open', 'opened', 'close', 'closed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Services\n        this.utils = new Kube.Utils();\n        this.detect = new Kube.Detect();\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Dropdown.prototype = {\n        start: function()\n        {\n            this.buildClose();\n            this.buildCaret();\n\n            if (this.detect.isMobile()) this.buildMobileAnimation();\n\n            this.$target.addClass('hide');\n            this.$element.on(this.opts.toggleEvent + '.' + this.namespace, $.proxy(this.toggle, this));\n\n\t},\n\tstop: function()\n\t{\n\t\tthis.$element.off('.' + this.namespace);\n            this.$target.removeClass('open').addClass('hide');\n\t\tthis.disableEvents();\n\t},\n\tbuildMobileAnimation: function()\n\t{\n            this.opts.animationOpen = 'fadeIn';\n            this.opts.animationClose = 'fadeOut';\n\t},\n\tbuildClose: function()\n\t{\n            this.$close = this.$target.find('.close');\n\t},\n\tbuildCaret: function()\n\t{\n            this.$caret = this.getCaret();\n\t\tthis.buildCaretPosition();\n\t},\n\tbuildCaretPosition: function()\n\t{\n\t\tvar height = this.$element.offset().top + this.$element.innerHeight() + this.$target.innerHeight();\n\n\t\tif ($(document).height() > height)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n            this.opts.caretUp = true;\n\t\tthis.$caret.addClass('up');\n\t},\n\tgetCaret: function()\n\t{\n\t\treturn this.$element.find('.caret');\n\t},\n\ttoggleCaretOpen: function()\n\t{\n\t\tif (this.opts.caretUp) this.$caret.removeClass('up').addClass('down');\n\t\telse                   this.$caret.removeClass('down').addClass('up');\n\t},\n\ttoggleCaretClose: function()\n\t{\n\t\tif (this.opts.caretUp) this.$caret.removeClass('down').addClass('up');\n\t\telse                   this.$caret.removeClass('up').addClass('down');\n\t},\n\ttoggle: function(e)\n\t{\n\t\tif (this.isOpened()) this.close(e);\n\t\telse                 this.open(e);\n\t},\n\topen: function(e)\n\t{\n\t\tif (e) e.preventDefault();\n\n            this.callback('open');\n\t\t$('.dropdown').removeClass('open').addClass('hide');\n\n\t\tif (this.opts.height) this.$target.css('min-height', this.opts.height + 'px');\n\t\tif (this.opts.width)  this.$target.width(this.opts.width);\n\n\t\tthis.setPosition();\n\t\tthis.toggleCaretOpen();\n\n\t\tthis.$target.animation(this.opts.animationOpen, $.proxy(this.onOpened, this));\n\t},\n\tclose: function(e)\n\t{\n            if (!this.isOpened())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (e)\n\t\t{\n\t\t\tif (this.shouldNotBeClosed(e.target))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tthis.utils.enableBodyScroll();\n\t\tthis.callback('close');\n\t\tthis.toggleCaretClose();\n\n\t\tthis.$target.animation(this.opts.animationClose, $.proxy(this.onClosed, this));\n\t},\n\tonClosed: function()\n\t{\n            this.$target.removeClass('open');\n\t\tthis.disableEvents();\n\t\tthis.callback('closed');\n\t},\n\tonOpened: function()\n\t{\n\t\tthis.$target.addClass('open');\n\t\tthis.enableEvents();\n\t\tthis.callback('opened');\n\t},\n\tisOpened: function()\n\t{\n\t\treturn (this.$target.hasClass('open'));\n\t},\n\tenableEvents: function()\n\t{\n\t\tif (this.detect.isDesktop())\n\t\t{\n\t\t\tthis.$target.on('mouseover.' + this.namespace, $.proxy(this.utils.disableBodyScroll, this.utils))\n\t\t\t            .on('mouseout.' + this.namespace,  $.proxy(this.utils.enableBodyScroll, this.utils));\n\t\t}\n\n\t\t$(document).on('scroll.' + this.namespace, $.proxy(this.setPosition, this));\n\t\t$(window).on('resize.' + this.namespace, $.proxy(this.setPosition, this));\n\t\t$(document).on('click.' + this.namespace + ' touchstart.' + this.namespace, $.proxy(this.close, this));\n\t\t$(document).on('keydown.' + this.namespace, $.proxy(this.handleKeyboard, this));\n\t\tthis.$target.find('[data-action=\"dropdown-close\"]').on('click.' + this.namespace, $.proxy(this.close, this));\n\t},\n\tdisableEvents: function()\n\t{\n\t\tthis.$target.off('.' + this.namespace);\n\t\t$(document).off('.' + this.namespace);\n\t\t$(window).off('.' + this.namespace);\n\t},\n\thandleKeyboard: function(e)\n\t{\n\t\tif (e.which === 27) this.close(e);\n\t},\n\tshouldNotBeClosed: function(el)\n\t{\n            if ($(el).attr('data-action') === 'dropdown-close' || el === this.$close[0])\n            {\n                return false;\n\t\t}\n\t\telse if ($(el).closest('.dropdown').length === 0)\n\t\t{\n\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n        isNavigationFixed: function()\n\t{\n\t\treturn (this.$element.closest('.fixed').length !== 0);\n\t},\n\tgetPlacement: function(height)\n\t{\n\t\treturn ($(document).height() < height) ? 'top' : 'bottom';\n\t},\n\tgetOffset: function(position)\n\t{\n\t\treturn (this.isNavigationFixed()) ? this.$element.position() : this.$element.offset();\n\t},\n\tgetPosition: function()\n\t{\n\t\treturn (this.isNavigationFixed()) ? 'fixed' : 'absolute';\n\t},\n\tsetPosition: function()\n\t{\n\t\tif (this.detect.isMobile())\n\t\t{\n                this.$target.addClass('dropdown-mobile');\n                return;\n\t\t}\n\n\t\tvar position = this.getPosition();\n\t\t\tvar coords = this.getOffset(position);\n\t\t\tvar height = this.$target.innerHeight();\n\t\t\tvar width = this.$target.innerWidth();\n\t\t\tvar placement = this.getPlacement(coords.top + height + this.$element.innerHeight());\n\t\t\tvar leftFix = ($(window).width() < (coords.left + width)) ? (width - this.$element.innerWidth()) : 0;\n\t\t\tvar top, left = coords.left - leftFix;\n\n\t\t\tif (placement === 'bottom')\n\t\t\t{\n\t\t\tif (!this.isOpened()) this.$caret.removeClass('up').addClass('down');\n\n\t\t\t\tthis.opts.caretUp = false;\n\t\t\t\ttop = coords.top + this.$element.outerHeight() + 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.opts.animationOpen = 'show';\n\t\t\t\tthis.opts.animationClose = 'hide';\n\n                if (!this.isOpened()) this.$caret.addClass('up').removeClass('down');\n\n\t\t\t\tthis.opts.caretUp = true;\n\t\t\t\ttop = coords.top - height - 1;\n\t\t\t}\n\n\t\t\tthis.$target.css({ position: position, top: top + 'px', left: left + 'px' });\n\t}\n    };\n\n    // Inheritance\n    Kube.Dropdown.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Dropdown');\n    Kube.Plugin.autoload('Dropdown');\n\n}(Kube));\n/**\n * @library Kube Tabs\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Tabs = function(element, options)\n    {\n        this.namespace = 'tabs';\n        this.defaults = {\n\t\tequals: false,\n\t\tactive: false, // string (hash = tab id selector)\n\t\tlive: false, // class selector\n\t\thash: true, //boolean\n\t\tcallbacks: ['init', 'next', 'prev', 'open', 'opened', 'close', 'closed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Tabs.prototype = {\n        start: function()\n        {\n            if (this.opts.live !== false) this.buildLiveTabs();\n\n            this.tabsCollection = [];\n            this.hashesCollection = [];\n            this.currentHash = [];\n            this.currentItem = false;\n\n            // items\n            this.$items = this.getItems();\n            this.$items.each($.proxy(this.loadItems, this));\n\n            // tabs\n\t\tthis.$tabs = this.getTabs();\n\n            // location hash\n\t\tthis.currentHash = this.getLocationHash();\n\n\t\t// close all\n\t\tthis.closeAll();\n\n            // active & height\n\t\tthis.setActiveItem();\n\t\tthis.setItemHeight();\n\n            // callback\n\t\tthis.callback('init');\n\n\t},\n\tgetTabs: function()\n\t{\n\t\treturn $(this.tabsCollection).map(function()\n\t\t{\n\t\treturn this.toArray();\n            });\n\t},\n\tgetItems: function()\n\t{\n\t\treturn this.$element.find('a');\n\t},\n\tloadItems: function(i, el)\n\t{\n\t\tvar item = this.getItem(el);\n\n\t\t// set item identificator\n\t\titem.$el.attr('rel', item.hash);\n\n\t\t// collect item\n            this.collectItem(item);\n\n            // active\n\t\tif (item.$parent.hasClass('active'))\n\t\t{\n\t\t\tthis.currentItem = item;\n\t\t\tthis.opts.active = item.hash;\n\t\t}\n\n\t\t// event\n\t\titem.$el.on('click.tabs', $.proxy(this.open, this));\n\n\t},\n\tcollectItem: function(item)\n\t{\n\t\tthis.tabsCollection.push(item.$tab);\n\t\tthis.hashesCollection.push(item.hash);\n\t},\n\tbuildLiveTabs: function()\n\t{\n\t\tvar $layers = $(this.opts.live);\n\n\t\tif ($layers.length === 0)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$liveTabsList = $('<ul />');\n\t\t$layers.each($.proxy(this.buildLiveItem, this));\n\n\t\tthis.$element.html('').append(this.$liveTabsList);\n\n\t},\n\tbuildLiveItem: function(i, tab)\n\t{\n\t\tvar $tab = $(tab);\n\t\tvar $li = $('<li />');\n\t\tvar $a = $('<a />');\n\t\tvar index = i + 1;\n\n\t\t$tab.attr('id', this.getLiveItemId($tab, index));\n\n\t\tvar hash = '#' + $tab.attr('id');\n\t\tvar title = this.getLiveItemTitle($tab);\n\n\t\t$a.attr('href', hash).attr('rel', hash).text(title);\n\t\t$li.append($a);\n\n\t\tthis.$liveTabsList.append($li);\n\t},\n\tgetLiveItemId: function($tab, index)\n\t{\n\t\treturn (typeof $tab.attr('id') === 'undefined') ? this.opts.live.replace('.', '') + index : $tab.attr('id');\n\t},\n\tgetLiveItemTitle: function($tab)\n\t{\n\t\treturn (typeof $tab.attr('data-title') === 'undefined') ? $tab.attr('id') : $tab.attr('data-title');\n\t},\n\tsetActiveItem: function()\n\t{\n\t\tif (this.currentHash)\n\t\t{\n\t\t\tthis.currentItem = this.getItemBy(this.currentHash);\n\t\t\tthis.opts.active = this.currentHash;\n\t\t}\n\t\telse if (this.opts.active === false)\n\t\t{\n\t\t\tthis.currentItem = this.getItem(this.$items.first());\n\t\t\tthis.opts.active = this.currentItem.hash;\n\t\t}\n\n\t\tthis.addActive(this.currentItem);\n\t},\n\taddActive: function(item)\n\t{\n\t\titem.$parent.addClass('active');\n\t\titem.$tab.removeClass('hide').addClass('open');\n\n\t\tthis.currentItem = item;\n\t},\n\tremoveActive: function(item)\n\t{\n\t\titem.$parent.removeClass('active');\n\t\titem.$tab.addClass('hide').removeClass('open');\n\n\t\tthis.currentItem = false;\n\t},\n\tnext: function(e)\n\t{\n\t\tif (e) e.preventDefault();\n\n\t\tvar item = this.getItem(this.fetchElement('next'));\n\n\t\tthis.open(item.hash);\n\t\tthis.callback('next', item);\n\n\t},\n\tprev: function(e)\n\t{\n\t\tif (e) e.preventDefault();\n\n\t\tvar item = this.getItem(this.fetchElement('prev'));\n\n\t\tthis.open(item.hash);\n\t\tthis.callback('prev', item);\n\t},\n\tfetchElement: function(type)\n\t{\n            var element;\n\t\tif (this.currentItem !== false)\n\t\t{\n\t\t\t// prev or next\n\t\t\telement = this.currentItem.$parent[type]().find('a');\n\n\t\t\tif (element.length === 0)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// first\n\t\t\telement = this.$items[0];\n\t\t}\n\n\t\treturn element;\n\t},\n\topen: function(e, push)\n\t{\n\t\tif (typeof e === 'undefined') return;\n\t\tif (typeof e === 'object') e.preventDefault();\n\n\t\tvar item = (typeof e === 'object') ? this.getItem(e.target) : this.getItemBy(e);\n\t\tthis.closeAll();\n\n\t\tthis.callback('open', item);\n\t\tthis.addActive(item);\n\n\t\t// push state (doesn't need to push at the start)\n            this.pushStateOpen(push, item);\n\t\tthis.callback('opened', item);\n\t},\n\tpushStateOpen: function(push, item)\n\t{\n\t\tif (push !== false && this.opts.hash !== false)\n\t\t{\n\t\t\thistory.pushState(false, false, item.hash);\n\t\t}\n\t},\n\tclose: function(num)\n\t{\n\t\tvar item = this.getItemBy(num);\n\n\t\tif (!item.$parent.hasClass('active'))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.callback('close', item);\n\t\tthis.removeActive(item);\n\t\tthis.pushStateClose();\n\t\tthis.callback('closed', item);\n\n\t},\n\tpushStateClose: function()\n\t{\n            if (this.opts.hash !== false)\n            {\n\t\t\thistory.pushState(false, false, ' ');\n\t\t}\n\t},\n\tcloseAll: function()\n\t{\n\t\tthis.$tabs.removeClass('open').addClass('hide');\n\t\tthis.$items.parent().removeClass('active');\n\t},\n\tgetItem: function(element)\n\t{\n\t\tvar item = {};\n\n\t\titem.$el = $(element);\n\t\titem.hash = item.$el.attr('href');\n\t\titem.$parent = item.$el.parent();\n\t\titem.$tab = $(item.hash);\n\n\t\treturn item;\n\t},\n\tgetItemBy: function(num)\n\t{\n\t\tvar element = (typeof num === 'number') ? this.$items.eq(num-1) : this.$element.find('[rel=\"' + num + '\"]');\n\n\t\treturn this.getItem(element);\n\t},\n\tgetLocationHash: function()\n\t{\n\t\tif (this.opts.hash === false)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\treturn (this.isHash()) ? top.location.hash : false;\n\t},\n\tisHash: function()\n\t{\n\t\treturn !(top.location.hash === '' || $.inArray(top.location.hash, this.hashesCollection) === -1);\n\t},\n\tsetItemHeight: function()\n\t{\n\t\tif (this.opts.equals)\n\t\t{\n\t\tvar minHeight = this.getItemMaxHeight() + 'px';\n\t\t\tthis.$tabs.css('min-height', minHeight);\n\t\t}\n\t},\n\tgetItemMaxHeight: function()\n\t{\n\t\tvar max = 0;\n\t\tthis.$tabs.each(function()\n\t\t{\n\t\t\tvar h = $(this).height();\n\t\t\tmax = h > max ? h : max;\n\t\t});\n\n\t\treturn max;\n\t}\n    };\n\n    // Inheritance\n    Kube.Tabs.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Tabs');\n    Kube.Plugin.autoload('Tabs');\n\n}(Kube));\n/**\n * @library Kube Modal\n * @author Imperavi LLC\n * @license MIT\n */\n(function($)\n{\n    $.modalcurrent = null;\n\t$.modalwindow = function(options)\n\t{\n\tvar opts = $.extend({}, options, { show: true });\n\tvar $element = $('<span />');\n\n\t$element.modal(opts);\n\t};\n\n})(jQuery);\n\n(function(Kube)\n{\n    Kube.Modal = function(element, options)\n    {\n        this.namespace = 'modal';\n        this.defaults = {\n            target: null,\n            show: false,\n\t\turl: false,\n\t\theader: false,\n\t\twidth: '600px', // string\n\t\theight: false, // or string\n\t\tmaxHeight: false,\n\t\tposition: 'center', // top or center\n\t\toverlay: true,\n\t\tappendForms: false,\n\t\tappendFields: false,\n\t\tanimationOpen: 'show',\n\t\tanimationClose: 'hide',\n\t\tcallbacks: ['open', 'opened', 'close', 'closed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Services\n        this.utils = new Kube.Utils();\n        this.detect = new Kube.Detect();\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Modal.prototype = {\n        start: function()\n        {\n            if (!this.hasTarget())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n            if (this.opts.show) this.load();\n\t\telse this.$element.on('click.' + this.namespace, $.proxy(this.load, this));\n\t},\n\tbuildModal: function()\n\t{\n\t\tthis.$modal = this.$target.find('.modal');\n\t\tthis.$header = this.$target.find('.modal-header');\n\t\tthis.$close = this.$target.find('.close');\n\t\tthis.$body = this.$target.find('.modal-body');\n\t},\n\tbuildOverlay: function()\n\t{\n\t\tif (this.opts.overlay === false)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif ($('#modal-overlay').length !== 0)\n\t\t{\n\t\t\tthis.$overlay = $('#modal-overlay');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.$overlay = $('<div id=\"modal-overlay\">').addClass('hide');\n\t\t\t$('body').prepend(this.$overlay);\n\t\t}\n\n\t\tthis.$overlay.addClass('overlay');\n\t},\n\tbuildHeader: function()\n\t{\n\t\tif (this.opts.header) this.$header.html(this.opts.header);\n\t},\n\tload: function(e)\n\t{\n\t\tthis.buildModal();\n\t\tthis.buildOverlay();\n\t\tthis.buildHeader();\n\n            if (this.opts.url) this.buildContent();\n            else               this.open(e);\n\t},\n\topen: function(e)\n\t{\n\t\tif (e) e.preventDefault();\n\n            if (this.isOpened())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.detect.isMobile()) this.opts.width = '96%';\n\t\tif (this.opts.overlay)      this.$overlay.removeClass('hide');\n\n\t\tthis.$target.removeClass('hide');\n\t\tthis.$modal.removeClass('hide');\n\n            this.enableEvents();\n\t\tthis.findActions();\n\n\t\tthis.resize();\n\t\t$(window).on('resize.' + this.namespace, $.proxy(this.resize, this));\n\n\t\tif (this.detect.isDesktop()) this.utils.disableBodyScroll();\n\n\t\t// enter\n\t\tthis.$modal.find('input[type=text],input[type=url],input[type=email]').on('keydown.' + this.namespace, $.proxy(this.handleEnter, this));\n\n\t\tthis.callback('open');\n\t\tthis.$modal.animation(this.opts.animationOpen, $.proxy(this.onOpened, this));\n        },\n        close: function(e)\n        {\n            if (!this.$modal || !this.isOpened())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (e)\n\t\t{\n\t\t\tif (this.shouldNotBeClosed(e.target))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tthis.callback('close');\n\t\tthis.disableEvents();\n\n\t\tthis.$modal.animation(this.opts.animationClose, $.proxy(this.onClosed, this));\n\n            if (this.opts.overlay) this.$overlay.animation(this.opts.animationClose);\n        },\n\tonOpened: function()\n\t{\n\t\tthis.$modal.addClass('open');\n            this.callback('opened');\n\n            $.modalcurrent = this;\n\t},\n\tonClosed: function()\n\t{\n\t\tthis.callback('closed');\n\n            this.$target.addClass('hide');\n            this.$modal.removeClass('open');\n\n\t\tif (this.detect.isDesktop()) this.utils.enableBodyScroll();\n\n\t\tthis.$body.css('height', '');\n            $.modalcurrent = null;\n\t},\n\tisOpened: function()\n\t{\n\t\treturn (this.$modal.hasClass('open'));\n\t},\n\tgetData: function()\n\t{\n            var formdata = new Kube.FormData(this);\n            formdata.set('');\n\n            return formdata.get();\n\t},\n\tbuildContent: function()\n\t{\n\t\t$.ajax({\n\t\t\turl: this.opts.url + '?' + new Date().getTime(),\n\t\t\tcache: false,\n\t\t\ttype: 'post',\n\t\t\tdata: this.getData(),\n\t\t\tsuccess: $.proxy(function(data)\n\t\t\t{\n\t\t\t\tthis.$body.html(data);\n\t\t\t\tthis.open();\n\n\t\t\t}, this)\n\t\t});\n\t},\n\tbuildWidth: function()\n\t{\n\t\tvar width = this.opts.width;\n\t\tvar top = '2%';\n\t\tvar bottom = '2%';\n\t\tvar percent = width.match(/%$/);\n\n\t\tif ((parseInt(this.opts.width) > $(window).width()) && !percent)\n\t\t{\n                width = '96%';\n\t\t}\n\t\telse if (!percent)\n\t\t{\n                top = '16px';\n                bottom = '16px';\n\t\t}\n\n\t\tthis.$modal.css({ 'width': width, 'margin-top': top, 'margin-bottom': bottom });\n\n\t},\n\tbuildPosition: function()\n\t{\n\t\tif (this.opts.position !== 'center')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tvar windowHeight = $(window).height();\n\t\tvar height = this.$modal.outerHeight();\n\t\tvar top = (windowHeight/2 - height/2) + 'px';\n\n\t\tif (this.detect.isMobile())     top = '2%';\n\t\telse if (height > windowHeight) top = '16px';\n\n\t\tthis.$modal.css('margin-top', top);\n\t},\n\tbuildHeight: function()\n\t{\n\t\tvar windowHeight = $(window).height();\n\n\t\tif (this.opts.maxHeight)\n\t\t{\n\t\t\tvar padding = parseInt(this.$body.css('padding-top')) + parseInt(this.$body.css('padding-bottom'));\n\t\t\tvar margin = parseInt(this.$modal.css('margin-top')) + parseInt(this.$modal.css('margin-bottom'));\n\t\t\tvar height = windowHeight - this.$header.innerHeight() - padding - margin;\n\n\t\t\tthis.$body.height(height);\n\t\t}\n\t\telse if (this.opts.height !== false)\n\t\t{\n\t\t\tthis.$body.css('height', this.opts.height);\n\t\t}\n\n\t\tvar modalHeight = this.$modal.outerHeight();\n\t\tif (modalHeight > windowHeight)\n\t\t{\n\t\t\tthis.opts.animationOpen = 'show';\n\t\t\tthis.opts.animationClose = 'hide';\n\t\t}\n\t},\n\tresize: function()\n\t{\n\t\tthis.buildWidth();\n\t\tthis.buildPosition();\n\t\tthis.buildHeight();\n\t},\n\tenableEvents: function()\n\t{\n\t\tthis.$close.on('click.' + this.namespace, $.proxy(this.close, this));\n\t\t$(document).on('keyup.' + this.namespace, $.proxy(this.handleEscape, this));\n\t\tthis.$target.on('click.' + this.namespace, $.proxy(this.close, this));\n\t},\n\tdisableEvents: function()\n\t{\n\t\tthis.$close.off('.' + this.namespace);\n\t\t$(document).off('.' + this.namespace);\n\t\tthis.$target.off('.' + this.namespace);\n\t\t$(window).off('.' + this.namespace);\n\t},\n\tfindActions: function()\n\t{\n\t\tthis.$body.find('[data-action=\"modal-close\"]').on('mousedown.' + this.namespace, $.proxy(this.close, this));\n\t},\n\tsetHeader: function(header)\n\t{\n\t\tthis.$header.html(header);\n\t},\n\tsetContent: function(content)\n\t{\n\t\tthis.$body.html(content);\n\t},\n\tsetWidth: function(width)\n\t{\n\t\tthis.opts.width = width;\n\t\tthis.resize();\n\t},\n\tgetModal: function()\n\t{\n            return this.$modal;\n\t},\n\tgetBody: function()\n\t{\n            return this.$body;\n\t},\n\tgetHeader: function()\n\t{\n            return this.$header;\n\t},\n\thandleEnter: function(e)\n\t{\n\t\tif (e.which === 13)\n\t\t{\n\t\te.preventDefault();\n\t\tthis.close(false);\n            }\n\t},\n\thandleEscape: function(e)\n\t{\n\t\treturn (e.which === 27) ? this.close(false) : true;\n\t},\n\tshouldNotBeClosed: function(el)\n\t{\n            if ($(el).attr('data-action') === 'modal-close' || el === this.$close[0])\n            {\n                return false;\n\t\t}\n\t\telse if ($(el).closest('.modal').length === 0)\n\t\t{\n\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n    };\n\n    // Inheritance\n    Kube.Modal.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Modal');\n    Kube.Plugin.autoload('Modal');\n\n}(Kube));","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _computedStyles = require('computed-styles');\n\nvar _computedStyles2 = _interopRequireDefault(_computedStyles);\n\nvar _fileSaver = require('file-saver');\n\nvar _fileSaver2 = _interopRequireDefault(_fileSaver);\n\nvar svgStyles = { // Whitelist of CSS styles and default values\n  'alignment-baseline': 'auto',\n  'baseline-shift': 'baseline',\n  'clip': 'auto',\n  'clip-path': 'none',\n  'clip-rule': 'nonzero',\n  'color': 'rgb(51, 51, 51)',\n  'color-interpolation': 'srgb',\n  'color-interpolation-filters': 'linearrgb',\n  'color-profile': 'auto',\n  'color-rendering': 'auto',\n  'cursor': 'auto',\n  'direction': 'ltr',\n  'display': 'inline',\n  'dominant-baseline': 'auto',\n  'enable-background': '',\n  'fill': 'rgb(0, 0, 0)',\n  'fill-opacity': '1',\n  'fill-rule': 'nonzero',\n  'filter': 'none',\n  'flood-color': 'rgb(0, 0, 0)',\n  'flood-opacity': '1',\n  'font': '',\n  'font-family': 'normal',\n  'font-size': 'medium',\n  'font-size-adjust': 'auto',\n  'font-stretch': 'normal',\n  'font-style': 'normal',\n  'font-variant': 'normal',\n  'font-weight': '400',\n  'glyph-orientation-horizontal': '0deg',\n  'glyph-orientation-vertical': 'auto',\n  'image-rendering': 'auto',\n  'kerning': 'auto',\n  'letter-spacing': '0',\n  'lighting-color': 'rgb(255, 255, 255)',\n  'marker': '',\n  'marker-end': 'none',\n  'marker-mid': 'none',\n  'marker-start': 'none',\n  'mask': 'none',\n  'opacity': '1',\n  'overflow': 'visible',\n  'paint-order': 'fill',\n  'pointer-events': 'auto',\n  'shape-rendering': 'auto',\n  'stop-color': 'rgb(0, 0, 0)',\n  'stop-opacity': '1',\n  'stroke': 'none',\n  'stroke-dasharray': 'none',\n  'stroke-dashoffset': '0',\n  'stroke-linecap': 'butt',\n  'stroke-linejoin': 'miter',\n  'stroke-miterlimit': '4',\n  'stroke-opacity': '1',\n  'stroke-width': '1',\n  'text-anchor': 'start',\n  'text-decoration': 'none',\n  'text-rendering': 'auto',\n  'unicode-bidi': 'normal',\n  'visibility': 'visible',\n  'word-spacing': '0px',\n  'writing-mode': 'lr-tb'\n};\n\nvar svgAttrs = [// white list of attributes\n'id', 'xml: base', 'xml: lang', 'xml: space', // Core\n'height', 'result', 'width', 'x', 'y', // Primitive\n'xlink: href', // Xlink attribute\n'href', 'style', 'class', 'd', 'pathLength', // Path\n'x', 'y', 'dx', 'dy', 'glyphRef', 'format', 'x1', 'y1', 'x2', 'y2', 'rotate', 'textLength', 'cx', 'cy', 'r', 'rx', 'ry', 'fx', 'fy', 'width', 'height', 'refX', 'refY', 'orient', 'markerUnits', 'markerWidth', 'markerHeight', 'maskUnits', 'transform', 'viewBox', 'version', // Container\n'preserveAspectRatio', 'xmlns', 'points', // Polygons\n'offset', 'xlink:href'];\n\n// http://www.w3.org/TR/SVG/propidx.html\n// via https://github.com/svg/svgo/blob/master/plugins/_collections.js\nvar inheritableAttrs = ['clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cursor', 'direction', 'fill', 'fill-opacity', 'fill-rule', 'font', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'glyph-orientation-horizontal', 'glyph-orientation-vertical', 'image-rendering', 'kerning', 'letter-spacing', 'marker', 'marker-end', 'marker-mid', 'marker-start', 'pointer-events', 'shape-rendering', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'text-anchor', 'text-rendering', 'transform', 'visibility', 'white-space', 'word-spacing', 'writing-mode'];\n\n/* Some simple utilities */\n\nvar isFunction = function isFunction(a) {\n  return typeof a === 'function';\n};\nvar isDefined = function isDefined(a) {\n  return typeof a !== 'undefined';\n};\nvar isUndefined = function isUndefined(a) {\n  return typeof a === 'undefined';\n};\nvar isObject = function isObject(a) {\n  return a !== null && typeof a === 'object';\n};\n\n// from https://github.com/npm-dom/is-dom/blob/master/index.js\nfunction isNode(val) {\n  if (!isObject(val)) {\n    return false;\n  }\n  if (isDefined(window) && isObject(window.Node)) {\n    return val instanceof window.Node;\n  }\n  return typeof val.nodeType === 'number' && typeof val.nodeName === 'string';\n}\n\n/* Some utilities for cloning SVGs with inline styles */\n// Removes attributes that are not valid for SVGs\nfunction cleanAttrs(el, attrs, styles) {\n  // attrs === false - remove all, attrs === true - allow all\n  if (attrs === true) {\n    return;\n  }\n\n  Array.prototype.slice.call(el.attributes).forEach(function (attr) {\n    // remove if it is not style nor on attrs  whitelist\n    // keeping attributes that are also styles because attributes override\n    if (attr.specified) {\n      if (attrs === '' || attrs === false || isUndefined(styles[attr.name]) && attrs.indexOf(attr.name) < 0) {\n        el.removeAttribute(attr.name);\n      }\n    }\n  });\n}\n\nfunction cleanStyle(tgt, parentStyles) {\n  parentStyles = parentStyles || tgt.parentNode.style;\n  inheritableAttrs.forEach(function (key) {\n    if (tgt.style[key] === parentStyles[key]) {\n      tgt.style.removeProperty(key);\n    }\n  });\n}\n\nfunction domWalk(src, tgt, down, up) {\n  down(src, tgt);\n  var children = src.childNodes;\n  for (var i = 0; i < children.length; i++) {\n    domWalk(children[i], tgt.childNodes[i], down, up);\n  }\n  up(src, tgt);\n}\n\n// Clones an SVGElement, copies approprate atttributes and styles.\nfunction cloneSvg(src, attrs, styles) {\n  var clonedSvg = src.cloneNode(true);\n\n  domWalk(src, clonedSvg, function (src, tgt) {\n    if (tgt.style) {\n      (0, _computedStyles2['default'])(src, tgt.style, styles);\n    }\n  }, function (src, tgt) {\n    if (tgt.style && tgt.parentNode) {\n      cleanStyle(tgt);\n    }\n    if (tgt.attributes) {\n      cleanAttrs(tgt, attrs, styles);\n    }\n  });\n\n  return clonedSvg;\n}\n\n/* global Image, MouseEvent */\n\n/* Some simple utilities for saving SVGs, including an alternative to saveAs */\n\n// detection\nvar DownloadAttributeSupport = typeof document !== 'undefined' && 'download' in document.createElement('a') && typeof MouseEvent === 'function';\n\nfunction saveUri(uri, name) {\n  if (DownloadAttributeSupport) {\n    var dl = document.createElement('a');\n    dl.setAttribute('href', uri);\n    dl.setAttribute('download', name);\n    // firefox doesn't support `.click()`...\n    // from https://github.com/sindresorhus/multi-download/blob/gh-pages/index.js\n    dl.dispatchEvent(new MouseEvent('click'));\n    return true;\n  } else if (typeof window !== 'undefined') {\n    window.open(uri, '_blank', '');\n    return true;\n  }\n\n  return false;\n}\n\nfunction createCanvas(uri, name, cb) {\n  var canvas = document.createElement('canvas');\n  var context = canvas.getContext('2d');\n\n  var image = new Image();\n  image.onload = function () {\n    canvas.width = image.width;\n    canvas.height = image.height;\n    context.drawImage(image, 0, 0);\n\n    cb(canvas);\n  };\n  image.src = uri;\n  return true;\n}\n\nfunction savePng(uri, name) {\n  return createCanvas(uri, name, function (canvas) {\n    if (isDefined(canvas.toBlob)) {\n      canvas.toBlob(function (blob) {\n        _fileSaver2['default'].saveAs(blob, name);\n      });\n    } else {\n      saveUri(canvas.toDataURL('image/png'), name);\n    }\n  });\n}\n\n/* global Blob */\n\nvar isIE11 = !!window.MSInputMethodContext && !!document.documentMode;\n\n// inheritable styles may be overridden by parent, always copy for now\ninheritableAttrs.forEach(function (k) {\n  if (k in svgStyles) {\n    svgStyles[k] = true;\n  }\n});\n\nvar SvgSaver = (function () {\n  _createClass(SvgSaver, null, [{\n    key: 'getSvg',\n    value: function getSvg(el) {\n      if (isUndefined(el) || el === '') {\n        el = document.body.querySelector('svg');\n      } else if (typeof el === 'string') {\n        el = document.body.querySelector(el);\n      }\n      if (el && el.tagName !== 'svg') {\n        el = el.querySelector('svg');\n      }\n      if (!isNode(el)) {\n        throw new Error('svgsaver: Can\\'t find an svg element');\n      }\n      return el;\n    }\n  }, {\n    key: 'getFilename',\n    value: function getFilename(el, filename, ext) {\n      if (!filename || filename === '') {\n        filename = (el.getAttribute('title') || 'untitled') + '.' + ext;\n      }\n      return encodeURI(filename);\n    }\n\n    /**\n    * SvgSaver constructor.\n    * @constructs SvgSaver\n    * @api public\n    *\n    * @example\n    * var svgsaver = new SvgSaver();                      // creates a new instance\n    * var svg = document.querySelector('#mysvg');         // find the SVG element\n    * svgsaver.asSvg(svg);                                // save as SVG\n    */\n  }]);\n\n  function SvgSaver() {\n    var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var attrs = _ref.attrs;\n    var styles = _ref.styles;\n\n    _classCallCheck(this, SvgSaver);\n\n    this.attrs = attrs === undefined ? svgAttrs : attrs;\n    this.styles = styles === undefined ? svgStyles : styles;\n  }\n\n  /**\n  * Return the cloned SVG after cleaning\n  *\n  * @param {SVGElement} el The element to copy.\n  * @returns {SVGElement} SVG text after cleaning\n  * @api public\n  */\n\n  _createClass(SvgSaver, [{\n    key: 'cloneSVG',\n    value: function cloneSVG(el) {\n      el = SvgSaver.getSvg(el);\n      var svg = cloneSvg(el, this.attrs, this.styles);\n\n      svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n      svg.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n      svg.setAttribute('version', 1.1);\n\n      // height and width needed to download in FireFox\n      svg.setAttribute('width', svg.getAttribute('width') || '500');\n      svg.setAttribute('height', svg.getAttribute('height') || '900');\n\n      return svg;\n    }\n\n    /**\n    * Return the SVG HTML text after cleaning\n    *\n    * @param {SVGElement} el The element to copy.\n    * @returns {String} SVG text after cleaning\n    * @api public\n    */\n  }, {\n    key: 'getHTML',\n    value: function getHTML(el) {\n      var svg = this.cloneSVG(el);\n\n      var html = svg.outerHTML;\n      if (html) {\n        return html;\n      }\n\n      // see http://stackoverflow.com/questions/19610089/unwanted-namespaces-on-svg-markup-when-using-xmlserializer-in-javascript-with-ie\n      svg.removeAttribute('xmlns');\n      svg.removeAttribute('xmlns:xlink');\n\n      svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns', 'http://www.w3.org/2000/svg');\n      svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n      return new window.XMLSerializer().serializeToString(svg);\n    }\n\n    /**\n    * Return the SVG, after cleaning, as a text/xml Blob\n    *\n    * @param {SVGElement} el The element to copy.\n    * @returns {Blog} SVG as a text/xml Blob\n    * @api public\n    */\n  }, {\n    key: 'getBlob',\n    value: function getBlob(el) {\n      var html = this.getHTML(el);\n      return new Blob([html], { type: 'text/xml' });\n    }\n\n    /**\n    * Return the SVG, after cleaning, as a image/svg+xml;base64 URI encoded string\n    *\n    * @param {SVGElement} el The element to copy.\n    * @returns {String} SVG as image/svg+xml;base64 URI encoded string\n    * @api public\n    */\n  }, {\n    key: 'getUri',\n    value: function getUri(el) {\n      var html = encodeURIComponent(this.getHTML(el));\n      if (isDefined(window.btoa)) {\n        // see http://stackoverflow.com/questions/23223718/failed-to-execute-btoa-on-window-the-string-to-be-encoded-contains-characte\n        return 'data:image/svg+xml;base64,' + window.btoa(unescape(html));\n      }\n      return 'data:image/svg+xml,' + html;\n    }\n\n    /**\n    * Saves the SVG as a SVG file using method compatible with the browser\n    *\n    * @param {SVGElement} el The element to copy.\n    * @param {string} [filename] The filename to save, defaults to the SVG title or 'untitled.svg'\n    * @returns {SvgSaver} The SvgSaver instance\n    * @api public\n    */\n  }, {\n    key: 'asSvg',\n    value: function asSvg(el, filename) {\n      el = SvgSaver.getSvg(el);\n      filename = SvgSaver.getFilename(el, filename, 'svg');\n      if (isFunction(Blob)) {\n        return _fileSaver2['default'].saveAs(this.getBlob(el), filename);\n      }\n      return saveUri(this.getUri(el), filename);\n    }\n\n    /**\n    * Gets the SVG as a PNG data URI.\n    *\n    * @param {SVGElement} el The element to copy.\n    * @param {Function} cb Call back called with the PNG data uri.\n    * @api public\n    */\n  }, {\n    key: 'getPngUri',\n    value: function getPngUri(el, cb) {\n      if (isIE11) {\n        console.error('svgsaver: getPngUri not supported on IE11');\n      }\n      el = SvgSaver.getSvg(el);\n      var filename = SvgSaver.getFilename(el, null, 'png');\n      return createCanvas(this.getUri(el), filename, function (canvas) {\n        cb(canvas.toDataURL('image/png'));\n      });\n    }\n\n    /**\n    * Saves the SVG as a PNG file using method compatible with the browser\n    *\n    * @param {SVGElement} el The element to copy.\n    * @param {string} [filename] The filename to save, defaults to the SVG title or 'untitled.png'\n    * @returns {SvgSaver} The SvgSaver instance\n    * @api public\n    */\n  }, {\n    key: 'asPng',\n    value: function asPng(el, filename) {\n      if (isIE11) {\n        console.error('svgsaver: asPng not supported on IE11');\n      }\n      el = SvgSaver.getSvg(el);\n      filename = SvgSaver.getFilename(el, filename, 'png');\n      return savePng(this.getUri(el), filename);\n    }\n  }]);\n\n  return SvgSaver;\n})();\n\nexports['default'] = SvgSaver;\nmodule.exports = exports['default'];\n"]}
=======
{"version":3,"sources":["app/Augur.js","app/AugurAPI.js","app/AugurStats.js","app/components/AugurApp.vue","app/components/AugurCards.vue","app/components/AugurHeader.vue","app/components/BaseRepoActivityCard.vue","app/components/BaseRepoEcosystemCard.vue","app/components/ComparedRepoActivityCard.vue","app/components/GrowthMaturityDeclineCard.vue","app/components/MainControls.vue","app/components/charts/BubbleChart.vue","app/components/charts/DependencyOverview.vue","app/components/charts/EmptyChart.vue","app/components/charts/LineChart.vue","app/components/charts/StackedBarChart.vue","app/components/standard.js","app/include/kube/kube.js","app/include/svgsaver.js"],"names":["Augur","queryString","require","window","jQuery","Vue","Vuex","VueVega","default","AugurAPI","AugurRepos","AugurStats","$","_","d3","SvgSaver","AUGUR_CHART_STYLE","brightColors","dullColors","AugurApp","use","config","productionTip","augur","Store","state","baseRepo","comparedRepos","trailingAverage","startDate","Date","endDate","compare","showBelowAverage","rawWeekly","byDate","mutations","setBaseRepo","payload","repo","Repo","url","toString","keepCompared","title","owner","name","history","pushState","addComparedRepo","push","location","search","setDates","setCompare","setVizOptions","parseInt","reset","store","$mount","parsed","parse","arrayFormat","$store","commit","replace","comparedTo","forEach","hostURL","version","autobatch","_version","_host","host","__cache","__timeout","__pending","openRequests","endpoints","str","join","btoa","created_at","now","Promise","resolve","reject","data","ajax","type","dataType","contentType","then","Error","repos","fields","reverseMap","processedData","Array","prototype","apply","batch","assign","__reverseEndpointMap","isArray","response","status","path","JSON","repoName","splitURL","split","length","__endpointMap","Endpoint","r","endpoint","self","fullEndpoint","params","callback","__autobatcher","get","Timeseries","jsName","func","relativeTo","baselineRepo","jsNameArray","noExecute","routes","map","e","mapped","earliest","latest","datum","convertDates","d","date","filter","key","convertKey","value","ary","reduce","a","flat","mean","averageArray","distances","Math","sqrt","stddev","standardDeviation","variance","windowSizeInDays","rolling","averageWindow","i","lastFound","after","before","setDate","getDate","iter","average","slice","shift","baseline","baseData","compareData","undefined","period","Object","keys","base","rollingAverage","result","toPush","x","console","log","stats","describe","newObj","zscore","from","arguments","props","computed","chart","full_width","height","x_accessor","format","percentage","time_series","area","__download_data","__download_file","toLowerCase","renderChart","$refs","holder","find","removeClass","chartholder","innerHTML","appendChild","target","className","MG","data_graphic","addClass","document","createElement","source","chartStatus","downloadJSON","href","encodeURIComponent","stringify","setAttribute","splice","innerKey","zscores","legend","colors","baselines","label","makeRelative","disableRollingAverage","combine","y_accessor","y_mouseover","legend_target","hover","onEnterEvent","hide","onLeaveEvent","show","catch","error","chart_type","missing_text","methods","downloadSVG","svgsaver","svg","asSvg","downloadPNG","asPng","fn","jquery","Function","inherits","parent","F","f","prop","super","Kube","element","options","$element","opts","extend","defaults","namespace","$target","getInstance","hasTarget","args","call","_fireCallback","_data","callbacks","isFunction","events","eventNamespace","len","handler","Plugin","create","classname","pluginname","method","val","each","$this","methodVal","autoload","arr","s","trim","autoloadQueue","startAutoload","MutationObserver","observer","mutation","newNodes","addedNodes","nodeType","startAutoloadOnce","observe","subtree","childList","$nodes","not","$el","indexOf","attr","watch","on","Animation","effect","completeCallback","prefixes","queue","start","isSlideEffect","setElementHeight","addToQueue","clean","animate","removeElementHeight","css","isHideableEffect","effects","inArray","isToggleEffect","storeHideClasses","hasClass","revertHideClasses","removeData","removeHideClass","makeSimpleEffects","_callback","complete","proxy","makeComplete","make","event","one","off","animation","Detect","isMobile","test","navigator","userAgent","isDesktop","isMobileScreen","width","isTabletScreen","isDesktopScreen","FormData","app","set","formdata","appendForms","appendFields","$fields","append","$forms","formsData","serializeArray","serialize","Response","obj","item","parseItem","html","stripslashes","top","notify","Utils","disableBodyScroll","$body","windowWidth","innerWidth","documentElementRect","documentElement","getBoundingClientRect","right","abs","left","isOverflowing","body","clientWidth","scrollbarWidth","measureScrollbar","scrollDiv","offsetWidth","removeChild","enableBodyScroll","Message","closeSelector","closeEvent","animationOpen","animationClose","$close","close","stop","open","preventDefault","isOpened","onOpened","onClosed","Sticky","offset","offsetTop","getOffsetTop","load","scroll","isFix","fixed","unfixed","scrollTop","Toggleme","toggleEvent","text","toggle","revertText","storeText","setTimeout","replaceText","Offcanvas","direction","clickOutside","utils","detect","buildTargetWidth","buildAnimationDirection","getCloseLink","closeAll","pushBody","$elms","isTag","tagName","closest","pullBody","handleKeyboard","which","properties","Collapse","active","toggleClass","boxClass","hashes","currentHash","currentItem","$items","getItems","loadItems","$boxes","getBoxes","setActiveItem","el","getItem","hash","getItemBy","addActive","$box","$caret","$parent","removeActive","openAll","num","eq","Dropdown","caretUp","buildClose","buildCaret","buildMobileAnimation","disableEvents","getCaret","buildCaretPosition","innerHeight","toggleCaretOpen","toggleCaretClose","setPosition","shouldNotBeClosed","enableEvents","isNavigationFixed","getPlacement","getOffset","position","getPosition","coords","placement","leftFix","outerHeight","Tabs","equals","live","buildLiveTabs","tabsCollection","hashesCollection","$tabs","getTabs","getLocationHash","setItemHeight","toArray","collectItem","$tab","$layers","$liveTabsList","buildLiveItem","tab","$li","$a","index","getLiveItemId","getLiveItemTitle","first","next","fetchElement","prev","pushStateOpen","pushStateClose","isHash","minHeight","getItemMaxHeight","max","h","modalcurrent","modalwindow","modal","Modal","header","maxHeight","overlay","buildModal","$modal","$header","buildOverlay","$overlay","prepend","buildHeader","buildContent","findActions","resize","handleEnter","getData","getTime","cache","success","buildWidth","bottom","percent","match","buildPosition","windowHeight","buildHeight","padding","margin","modalHeight","handleEscape","setHeader","setContent","content","setWidth","getModal","getBody","getHeader","defineProperty","exports","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_interopRequireDefault","__esModule","_classCallCheck","instance","TypeError","_computedStyles","_computedStyles2","_fileSaver","_fileSaver2","svgStyles","svgAttrs","inheritableAttrs","isDefined","isUndefined","isObject","isNode","Node","nodeName","cleanAttrs","attrs","styles","attributes","specified","removeAttribute","cleanStyle","tgt","parentStyles","parentNode","style","removeProperty","domWalk","src","down","up","children","childNodes","cloneSvg","clonedSvg","cloneNode","DownloadAttributeSupport","MouseEvent","saveUri","uri","dl","dispatchEvent","createCanvas","cb","canvas","context","getContext","image","Image","onload","drawImage","savePng","toBlob","blob","saveAs","toDataURL","isIE11","MSInputMethodContext","documentMode","k","getSvg","querySelector","getFilename","filename","ext","getAttribute","encodeURI","_ref","cloneSVG","getHTML","outerHTML","setAttributeNS","XMLSerializer","serializeToString","getBlob","Blob","getUri","unescape","getPngUri","module"],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1EA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvCA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7FA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9LA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1EA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjDA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjOA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"public/app.js","sourcesContent":["const queryString = require('query-string')\n\nexport default function Augur () {\n  window.jQuery = require('jquery')\n  window.Vue = require('vue')\n  window.Vuex = require('vuex')\n  window.VueVega = require('vue-vega').default\n  let AugurAPI = require('AugurAPI').default\n  window.AugurAPI = new AugurAPI()\n  window.AugurRepos = {}\n  window.AugurStats = require('AugurStats').default\n  window.$ = window.jQuery\n  window._ = require('lodash')\n  window.d3 = require('d3')\n  window.SvgSaver = require('svgsaver')\n\n  window.AUGUR_CHART_STYLE = {\n    brightColors: ['#FF3647', '#007BFF', '#DAFF4D', '#B775FF'],\n    dullColors: ['#CCCCCC', '#CCE7F2', '#D4F0B0', '#D8C3E3']\n  }\n\n  let AugurApp = require('./components/AugurApp')\n\n  window.Vue.use(window.Vuex)\n  window.Vue.use(window.VueVega)\n  window.Vue.config.productionTip = false\n\n  window.augur = new window.Vuex.Store({\n    state: {\n      baseRepo: null,\n      comparedRepos: [],\n      trailingAverage: 180,\n      startDate: new Date('1 January 2005'),\n      endDate: new Date(),\n      compare: 'each',\n      showBelowAverage: false,\n      rawWeekly: false,\n      byDate: false\n    },\n    mutations: {\n      setBaseRepo (state, payload) {\n        let repo = window.AugurAPI.Repo(payload.url)\n        if (!window.AugurRepos[repo.toString()]) {\n          window.AugurRepos[repo.toString()] = repo\n        }\n        state.baseRepo = repo.toString()\n        if (!payload.keepCompared) {\n          state.comparedRepos = []\n        }\n        let title = repo.owner + '/' + repo.name + '- Augur'\n        let queryString = '?repo=' + repo.owner + '+' + repo.name\n        window.history.pushState(null, title, queryString)\n      },\n      addComparedRepo (state, payload) {\n        let repo = window.AugurAPI.Repo(payload.url)\n        if (!window.AugurRepos[repo.toString()]) {\n          window.AugurRepos[repo.toString()] = repo\n        }\n        state.comparedRepos.push(repo.toString())\n        let title = 'Augur'\n        let queryString = window.location.search + '&comparedTo[]=' + repo.owner + '+' + repo.name\n        window.history.pushState(null, title, queryString)\n      },\n      setDates (state, payload) {\n        if (payload.startDate) {\n          state.startDate = new Date(payload.startDate)\n        }\n        if (payload.endDate) {\n          state.endDate = new Date(payload.endDate)\n        }\n      },\n      setCompare (state, payload) {\n        state.compare = payload.compare\n      },\n      setVizOptions (state, payload) {\n        if (payload.trailingAverage) {\n          state.trailingAverage = parseInt(payload.trailingAverage, 10)\n        }\n        if (typeof payload.rawWeekly !== 'undefined') {\n          state.rawWeekly = payload.rawWeekly\n        }\n        if (typeof payload.showBelowAverage !== 'undefined') {\n          state.showBelowAverage = payload.showBelowAverage\n        }\n      },\n      reset (state) {\n        state = {\n          baseRepo: null,\n          comparedRepos: [],\n          trailingAverage: 180,\n          startDate: new Date('1 January 2005'),\n          endDate: new Date(),\n          compare: 'each',\n          byDate: false\n        }\n        window.history.pushState(null, 'Augur', '/')\n      } // end reset\n    } // end mutations\n  })\n\n  AugurApp.store = window.augur\n  window.AugurApp = new window.Vue(AugurApp).$mount('#app')\n\n  // Load state from query string\n  let parsed = queryString.parse(window.location.search, { arrayFormat: 'bracket' })\n  if (parsed.repo) {\n    window.AugurApp.$store.commit('setBaseRepo', { url: parsed.repo.replace(' ', '/') })\n  }\n  if (parsed.comparedTo) {\n    parsed.comparedTo.forEach((repo) => {\n      window.AugurApp.$store.commit('addComparedRepo', { url: repo.replace(' ', '/') })\n    })\n  }\n}\n","var $ = require('jquery')\nvar _ = require('lodash')\n\nexport default class AugurAPI {\n  constructor (hostURL, version, autobatch) {\n    this._version = version || '/api/unstable'\n    this._host = hostURL || 'http://' + window.location.host\n    this.__cache = {}\n    this.__timeout = null\n    this.__pending = {}\n\n    this.autobatch = (typeof autobatch !== 'undefined') ? autobatch : true\n    this.openRequests = 0\n  }\n\n  // __autobatcher (url, params, fireTimeout) {\n  //   if (this.__timeout !== null && !fireTimeout) {\n  //     this.__timeout = setTimeout(() => {\n  //       __autobatch(undefined, undefined, true)\n  //     })\n  //   }\n  //   return new Promise((resolve, reject) => {\n  //     if (fireTimeout) {\n  //       let batchURL = this._host + this._version + '/batch'\n  //       let requestArray = []\n  //       Object.keys(this.__pending).forEach((key) => {\n  //         requestArray.push({})\n  //       })\n  //       $.post(batchURL)\n  //     }\n  //   })\n  // }\n\n  batch (endpoints) {\n    let str = '[{\"method\": \"GET\", \"path\": \"' + endpoints.join('\"},{\"method\": \"GET\", \"path\": \"') + '\"}]'\n    this.openRequests++\n    let url = '' + this._host + this._version + '/batch'\n\n    // Check cached\n    if (this.__cache[window.btoa(url + endpoints.join(','))]) {\n      if (this.__cache[window.btoa(url + endpoints.join(','))].created_at > Date.now() - 1000 * 60) {\n        return new Promise((resolve, reject) => {\n          resolve(this.__cache[window.btoa(url + endpoints.join(','))].data)\n        })\n      }\n    }\n\n    return $.ajax(url, {\n      type: 'post',\n      data: str,\n      dataType: 'json',\n      contentType: 'application/json'\n    }).then((data) => {\n      this.openRequests--\n      // Save to cache\n      this.__cache[window.btoa(url + endpoints.join(','))] = {\n        created_at: Date.now(),\n        data: data\n      }\n      return new Promise((resolve, reject) => {\n        if (typeof (data) === 'undefined') {\n          reject(new Error('data-undefined'))\n        } else {\n          resolve(data)\n        }\n      })\n    })\n  }\n\n  batchMapped (repos, fields) {\n    let endpoints = []\n    let reverseMap = {}\n    let processedData = {}\n    repos.forEach((repo) => {\n      Array.prototype.push.apply(endpoints, repo.batch(fields, true))\n      _.assign(reverseMap, repo.__reverseEndpointMap)\n      processedData[repo.toString()] = {}\n    })\n    return this.batch(endpoints).then((data) => {\n      return new Promise((resolve, reject) => {\n        if (Array.isArray(data)) {\n          data.forEach(response => {\n            if (response.status === 200) {\n              processedData[reverseMap[response.path].owner][reverseMap[response.path].name] = JSON.parse(response.response)\n            } else {\n              processedData[reverseMap[response.path].owner][reverseMap[response.path].name] = null\n            }\n          })\n          resolve(processedData)\n        } else {\n          reject(new Error('data-not-array'))\n        }\n      })\n    })\n  }\n\n  Repo (owner, repoName) {\n    var repo\n    if (repoName) {\n      repo = {owner: owner, name: repoName}\n    } else if (owner) {\n      let splitURL = owner.split('/')\n      if (splitURL.length < 3) {\n        repo = {owner: splitURL[0], name: splitURL[1]}\n      } else {\n        repo = {owner: splitURL[3], name: splitURL[4]}\n      }\n    }\n\n    repo.toString = () => { return repo.owner + '/' + repo.name }\n\n    repo.__endpointMap = {}\n    repo.__reverseEndpointMap = {}\n\n    var Endpoint = (r, name, endpoint) => {\n      this.openRequests++\n      var self = this\n      var fullEndpoint = this._version + '/' + repo.owner + '/' + repo.name + '/' + endpoint\n      var url = this._host + fullEndpoint\n      r.__endpointMap[name] = fullEndpoint\n      r.__reverseEndpointMap[fullEndpoint] = { name: name, owner: repo.toString() }\n      r[name] = function (params, callback) {\n        if (self.__cache[window.btoa(url)]) {\n          if (self.__cache[window.btoa(url)].created_at > Date.now() - 1000 * 60) {\n            return new Promise((resolve, reject) => {\n              resolve(self.__cache[window.btoa(url)].data)\n            })\n          }\n        }\n        if (this.autobatch) {\n          return this.__autobatcher(url, params)\n        }\n        return $.get(url, params).then((data) => {\n          this.openRequests--\n          self.__cache[window.btoa(url)] = {\n            created_at: Date.now(),\n            data: data\n          }\n          if (typeof callback === 'function') {\n            callback(data)\n          }\n          return new Promise((resolve, reject) => {\n            if (typeof (data) === 'undefined') {\n              reject(new Error('data-undefined'))\n            } else {\n              resolve(data)\n            }\n          })\n        })\n      }\n      return r[name]\n    }\n\n    var Timeseries = (r, jsName, endpoint) => {\n      let func = Endpoint(r, jsName, 'timeseries/' + endpoint)\n      func.relativeTo = (baselineRepo, params, callback) => {\n        var url = 'timeseries/' + endpoint + '/relative_to/' + baselineRepo.owner + '/' + baselineRepo.name\n        return Endpoint(url)()\n      }\n      return func\n    }\n\n    repo.batch = (jsNameArray, noExecute) => {\n      var routes = jsNameArray.map((e) => { return repo.__endpointMap[e] })\n      if (noExecute) {\n        return routes\n      }\n      return this.batch(routes).then((data) => {\n        return new Promise((resolve, reject) => {\n          if (Array.isArray(data)) {\n            let mapped = {}\n            data.forEach(response => {\n              if (response.status === 200) {\n                mapped[repo.__reverseEndpointMap[response.path].name] = JSON.parse(response.response)\n              } else {\n                mapped[repo.__reverseEndpointMap[response.path].name] = null\n              }\n            })\n            resolve(mapped)\n          } else {\n            reject(new Error('data-not-array'))\n          }\n        })\n      })\n    }\n\n    Timeseries(repo, 'commits', 'commits')\n    Timeseries(repo, 'forks', 'forks')\n    Timeseries(repo, 'issues', 'issues')\n    Timeseries(repo, 'pulls', 'pulls')\n    Timeseries(repo, 'stars', 'stargazers')\n    Timeseries(repo, 'tags', 'tags')\n    Timeseries(repo, 'downloads', 'downloads')\n    Timeseries(repo, 'totalCommitters', 'total_committers')\n    Timeseries(repo, 'issueComments', 'issue/comments')\n    Timeseries(repo, 'commitComments', 'commits/comments')\n    Timeseries(repo, 'pullReqComments', 'pulls/comments')\n    Timeseries(repo, 'pullsAcceptanceRate', 'pulls/acceptance_rate')\n    Timeseries(repo, 'issuesClosed', 'issues/closed')\n    Timeseries(repo, 'issuesResponseTime', 'issues/response_time')\n    Timeseries(repo, 'issueActivity', 'issues/activity')\n    Timeseries(repo, 'communityEngagement', 'community_engagement')\n    Timeseries(repo, 'linesChanged', 'lines_changed')\n\n    Endpoint(repo, 'contributors', 'contributors')\n    Endpoint(repo, 'contributions', 'contributions')\n    Endpoint(repo, 'committerLocations', 'committer_locations')\n    Endpoint(repo, 'communityAge', 'community_age')\n    Endpoint(repo, 'linkingWebsites', 'linking_websites')\n    Endpoint(repo, 'busFactor', 'bus_factor')\n    Endpoint(repo, 'dependents', 'dependents')\n    Endpoint(repo, 'dependencies', 'dependencies')\n    Endpoint(repo, 'dependencyStats', 'dependency_stats')\n    Endpoint(repo, 'watchers', 'watchers')\n\n    return repo\n  }\n}\n","export default class AugurStats {\n  static convertDates (data, earliest, latest) {\n    earliest = earliest || new Date('01-01-2005')\n    latest = latest || new Date()\n    if (Array.isArray(data[0])) {\n      data = data.map((datum) => {\n        return AugurStats.convertDates(datum)\n      })\n    } else {\n      data = data.map((d) => {\n        d.date = new Date(d.date)\n        return d\n      }).filter((d) => {\n        return earliest < d.date && d.date < latest\n      })\n    }\n    return data\n  }\n\n  static convertKey (data, key) {\n    if (Array.isArray(data[0])) {\n      data = data.map((datum) => {\n        return AugurStats.convertKey(datum, key)\n      })\n    } else {\n      return data.map((d) => {\n        return {\n          date: d.date,\n          value: d[key]\n        }\n      })\n    }\n  }\n\n  static averageArray (ary) {\n    return ary.reduce((a, e) => { return a + e }, 0) / (ary.length)\n  }\n\n  static aboveAverage (data, key) {\n    let flat = data.map((e) => { return e[key] })\n    let mean = AugurStats.averageArray(flat)\n    return data.filter((e) => {\n      return e[key] > mean\n    })\n  }\n\n  static standardDeviation (ary, key, mean) {\n    let flat = ary.map((e) => { return e[key] })\n    mean = mean || AugurStats.averageArray(flat)\n    let distances = flat.map((e) => {\n      return (e - mean) * (e - mean)\n    })\n    return Math.sqrt(AugurStats.averageArray(distances))\n  }\n\n  static describe (ary, key) {\n    let flat = ary.map((e) => { return e[key] })\n    let mean = AugurStats.averageArray(flat)\n    let stddev = AugurStats.standardDeviation(ary, key, mean)\n    let variance = stddev * stddev\n    return {\n      'mean': mean,\n      'stddev': stddev,\n      'variance': variance\n    }\n  }\n\n  static rollingAverage (data, key, windowSizeInDays) {\n    key = key || 'value'\n    windowSizeInDays = windowSizeInDays || 180\n    let rolling = []\n    let averageWindow = []\n    let i = 0\n    let lastFound = -1\n\n    let after = new Date()\n    let before = new Date()\n\n    for (let date = new Date(data[0].date); date <= data[data.length - 1].date; date.setDate(date.getDate() + 1)) {\n      after.setDate(date.getDate() - windowSizeInDays)\n\n      if (averageWindow.length < windowSizeInDays) {\n        for (; i < data.length && averageWindow.length <= windowSizeInDays; i++) {\n          if (lastFound > -1) {\n            for (let iter = new Date(data[lastFound].date); iter <= data[i].date; iter.setDate(iter.getDate() + 1)) {\n              averageWindow.push((data[i][key] + data[lastFound][key]) / 2)\n            }\n          }\n          lastFound = i\n        }\n      }\n\n      let average = {date: new Date(date)}\n      average[key] = AugurStats.averageArray(averageWindow.slice(0, windowSizeInDays))\n      averageWindow.shift()\n      rolling.push(average)\n    }\n    return rolling\n  }\n\n  static convertToPercentages (data, key, baseline) {\n    if (!data) {\n      return []\n    }\n    baseline = baseline || AugurStats.averageArray(data.map((e) => { return e[key] }))\n    data = data.map((datum) => {\n      datum['value'] = (datum[key] / baseline)\n      return datum\n    })\n    return data\n  }\n\n  static makeRelative (baseData, compareData, key, config) {\n    config.byDate = (config.byDate != undefined)\n    config.earliest = config.earliest || new Date('01-01-2005')\n    config.latest = config.latest || new Date()\n    config.period = config.period || 180\n    key = key || Object.keys(baseData[0])[1]\n\n    let iter = {\n      base: 0,\n      compare: 0\n    }\n    let data = {}\n\n    data['base'] = AugurStats.rollingAverage(\n      AugurStats.convertDates(\n        AugurStats.convertKey(\n          baseData,\n          key\n        ), config.earliest, config.latest\n      ), undefined, config.period)\n\n    data['compare'] = AugurStats.rollingAverage(\n      AugurStats.convertDates(\n        AugurStats.convertKey(\n          compareData,\n          key\n        ), config.earliest, config.latest\n      ), undefined, config.period)\n\n    let result = []\n\n    while (iter['base'] < data['base'].length && iter['compare'] < data['compare'].length) {\n      let toPush = {\n        value: data['compare'][iter.compare].value / data['base'][iter.base].value\n      }\n      if (config.byDate) {\n        toPush.date = data['base'][iter.base].date\n      } else {\n        toPush.x = iter.base\n      }\n      result.push(toPush)\n      iter['base']++\n      iter['compare']++\n    }\n\n    console.log('relative', result)\n    return result\n  }\n\n  static zscores (data, key) {\n    key = key || 'value'\n    let stats = AugurStats.describe(data, key)\n    return data.map((e) => {\n      let newObj = {}\n      if (e.date) {\n        newObj.date = new Date(e.date)\n      }\n      let zscore = ((e[key] - stats['mean']) / stats['stddev'])\n      newObj.value = zscore\n      return newObj\n    })\n  }\n\n  static combine () {\n    return Array.from(arguments)\n  }\n}\n",";(function(){\n'use strict';\n\nvar _AugurHeader = require('./AugurHeader.vue');\n\nvar _AugurHeader2 = _interopRequireDefault(_AugurHeader);\n\nvar _MainControls = require('./MainControls.vue');\n\nvar _MainControls2 = _interopRequireDefault(_MainControls);\n\nvar _AugurCards = require('./AugurCards.vue');\n\nvar _AugurCards2 = _interopRequireDefault(_AugurCards);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  components: {\n    'augur-header': _AugurHeader2.default,\n    MainControls: _MainControls2.default,\n    'augur-cards': _AugurCards2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('augur-header'),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('main-controls'),_vm._v(\" \"),_c('augur-cards')],1)],1)}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4cb2e45e\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-4cb2e45e\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nvar _BaseRepoActivityCard = require('./BaseRepoActivityCard');\n\nvar _BaseRepoActivityCard2 = _interopRequireDefault(_BaseRepoActivityCard);\n\nvar _BaseRepoEcosystemCard = require('./BaseRepoEcosystemCard');\n\nvar _BaseRepoEcosystemCard2 = _interopRequireDefault(_BaseRepoEcosystemCard);\n\nvar _ComparedRepoActivityCard = require('./ComparedRepoActivityCard');\n\nvar _ComparedRepoActivityCard2 = _interopRequireDefault(_ComparedRepoActivityCard);\n\nvar _GrowthMaturityDeclineCard = require('./GrowthMaturityDeclineCard');\n\nvar _GrowthMaturityDeclineCard2 = _interopRequireDefault(_GrowthMaturityDeclineCard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  components: {\n    BaseRepoActivityCard: _BaseRepoActivityCard2.default,\n    BaseRepoEcosystemCard: _BaseRepoEcosystemCard2.default,\n    ComparedRepoActivityCard: _ComparedRepoActivityCard2.default,\n    GrowthMaturityDeclineCard: _GrowthMaturityDeclineCard2.default\n  },\n  data: function data() {\n    return {\n      currentTab: 'gmd'\n    };\n  },\n\n  computed: {\n    baseRepo: function baseRepo() {\n      return this.$store.state.baseRepo;\n    },\n    comparedRepos: function comparedRepos() {\n      return this.$store.state.comparedRepos;\n    }\n  },\n  methods: {\n    onRepo: function onRepo(e) {\n      this.$store.commit('setBaseRepo', {\n        url: e.target.value\n      });\n    },\n    onCompare: function onCompare(e) {\n      this.$store.commit('addComparedRepo', {\n        url: e.target.value\n      });\n    },\n    changeTab: function changeTab(e) {\n      this.currentTab = e.target.dataset['value'];\n      e.preventDefault();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"tabs\"},[_c('ul',[_c('li',{class:{ active: (_vm.currentTab == 'gmd') }},[_c('a',{attrs:{\"href\":\"#\",\"data-value\":\"gmd\"},on:{\"click\":_vm.changeTab}},[_vm._v(\"Growth, Maturity, and Decline\")])]),_vm._v(\" \"),_c('li',{class:{ active: (_vm.currentTab == 'activity') }},[_c('a',{attrs:{\"href\":\"#\",\"data-value\":\"activity\"},on:{\"click\":_vm.changeTab}},[_vm._v(\"Activity\")])])])]),_vm._v(\" \"),_c('section',{class:{ hidden: _vm.baseRepo, unmaterialized: true }},[_c('h3',[_vm._v(\"Enter a GitHub URL to get started\")]),_vm._v(\" \"),_c('input',{staticClass:\"search reposearch\",attrs:{\"type\":\"text\",\"placeholder\":\"GitHub URL\"},on:{\"change\":_vm.onRepo}})]),_vm._v(\" \"),_c('div',{ref:\"cards\"},[((_vm.baseRepo && (_vm.currentTab == 'gmd')))?_c('div',[_c('growth-maturity-decline-card')],1):_vm._e(),_vm._v(\" \"),((_vm.baseRepo && (_vm.currentTab == 'activity')))?_c('div',{attrs:{\"id\":\"activity\"}},[_c('base-repo-activity-card'),_vm._v(\" \"),_c('base-repo-ecosystem-card'),_vm._v(\" \"),_vm._l((_vm.comparedRepos),function(repo){return _c('div',{class:{ hidden: !_vm.comparedRepos.length },attrs:{\"id\":\"comparisonCards\"}},[_c('compared-repo-activity-card',{attrs:{\"comparedTo\":repo}})],1)})],2):_vm._e(),_vm._v(\" \"),_c('section',{class:{ hidden: !_vm.baseRepo, unmaterialized: true }},[_c('h3',[_vm._v(\"Compare repository\")]),_vm._v(\" \"),_c('input',{staticClass:\"search reposearch\",attrs:{\"type\":\"text\",\"placeholder\":\"GitHub URL\"},on:{\"change\":_vm.onCompare}})])])])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-78eb2940\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-78eb2940\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nmodule.exports = {\n  methods: {\n    onRepo: function onRepo(e) {\n      this.$store.commit('setBaseRepo', {\n        url: e.target.value\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{staticClass:\"hide-print\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"row\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"col col-5 push-right\"},[_c('div',{staticClass:\"form-item\"},[_c('input',{staticClass:\"search reposearch\",attrs:{\"type\":\"text\",\"name\":\"headersearch\",\"placeholder\":\"GitHub URL\"},on:{\"change\":_vm.onRepo}})])])])])])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col col-4\"},[_c('img',{attrs:{\"src\":\"static/logo.png\",\"id\":\"logo\",\"alt\":\"CHAOSS: Community Health Analytics for Open Source Software\"}})])}]\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-6becaf40\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-6becaf40\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nvar _LineChart = require('./charts/LineChart');\n\nvar _LineChart2 = _interopRequireDefault(_LineChart);\n\nvar _BubbleChart = require('./charts/BubbleChart');\n\nvar _BubbleChart2 = _interopRequireDefault(_BubbleChart);\n\nvar _StackedBarChart = require('./charts/StackedBarChart');\n\nvar _StackedBarChart2 = _interopRequireDefault(_StackedBarChart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  components: {\n    LineChart: _LineChart2.default,\n    BubbleChart: _BubbleChart2.default,\n    StackedBarChart: _StackedBarChart2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',[_vm._v(\"Activity\")]),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.$store.state.baseRepo))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"commits\",\"title\":\"Commits / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"forks\",\"title\":\"Forks / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issues\",\"title\":\"Issues / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issueComments\",\"title\":\"Issue Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"commitComments\",\"title\":\"Commit Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pullReqComments\",\"title\":\"Pull Request Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pullsAcceptanceRate\",\"title\":\"Pull Acceptance Rate\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issuesClosed\",\"title\":\"Issues Closed / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"totalCommitters\",\"title\":\"Total Committers\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"disableRollingAverage\":\"1\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"linesChanged\",\"title\":\"Lines Changed / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"disableRollingAverage\":\"1\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-12\"},[_c('bubble-chart',{attrs:{\"source\":\"contributions\",\"title\":\"Contributior Overview\",\"size\":\"total\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-12\"},[_c('stacked-bar-chart',{attrs:{\"source\":\"issueActivity\",\"title\":\"Stacked Bar Chart\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"disableRollingAverage\":\"1\"}})],1)]),_vm._v(\" \"),_vm._m(0)])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('small',[_vm._v(\"Data provided by \"),_c('a',{attrs:{\"href\":\"http://ghtorrent.org/msr14.html\"}},[_vm._v(\"GHTorrent\")]),_vm._v(\" \"),_c('span',{staticClass:\"ghtorrent-version\"}),_vm._v(\" and the \"),_c('a',{attrs:{\"href\":\"https://developer.github.com/\"}},[_vm._v(\"GitHub API\")])])}]\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7655e5a2\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-7655e5a2\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nvar _LineChart = require('./charts/LineChart');\n\nvar _LineChart2 = _interopRequireDefault(_LineChart);\n\nvar _DependencyOverview = require('./charts/DependencyOverview');\n\nvar _DependencyOverview2 = _interopRequireDefault(_DependencyOverview);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  components: {\n    LineChart: _LineChart2.default,\n    DependencyOverview: _DependencyOverview2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',[_vm._v(\"Ecosystem\")]),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.$store.state.baseRepo))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"downloads\",\"title\":\"Downloads / Day\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"stars\",\"title\":\"Stars / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-12\"},[_c('dependency-overview')],1)])])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-2a4aa320\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-2a4aa320\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nvar _LineChart = require('./charts/LineChart');\n\nvar _LineChart2 = _interopRequireDefault(_LineChart);\n\nvar _BubbleChart = require('./charts/BubbleChart');\n\nvar _BubbleChart2 = _interopRequireDefault(_BubbleChart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  props: ['comparedTo'],\n  components: {\n    LineChart: _LineChart2.default,\n    BubbleChart: _BubbleChart2.default\n  },\n  computed: {\n    repo: function repo() {\n      return this.$store.state.repo;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{class:{ hidden: !this.repo },attrs:{\"id\":\"base-template\"}}),_vm._v(\" \"),_c('h1',[_vm._v(\"Activity Comparison\")]),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.comparedTo)+\" compared to \"+_vm._s(_vm.$store.state.baseRepo))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"commits\",\"title\":\"Commits / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"forks\",\"title\":\"Forks / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issues\",\"title\":\"Issues / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issueComments\",\"title\":\"Issue Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"commitComments\",\"title\":\"Commit Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pullReqComments\",\"title\":\"Pull Request Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pullsAcceptanceRate\",\"title\":\"Pull Acceptance Rate\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pulls\",\"title\":\"Pulls Requests / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issuesClosed\",\"title\":\"Issues Closed / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"totalCommitters\",\"title\":\"Total Committers\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"disableRollingAverage\":\"1\",\"compared-to\":_vm.comparedTo}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-12\"},[_c('bubble-chart',{attrs:{\"source\":\"contributions\",\"title\":\"Contributior Overview\",\"size\":\"total\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\",\"compared-to\":_vm.comparedTo}})],1)]),_vm._v(\" \"),_vm._m(0)])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('small',[_vm._v(\"Data provided by \"),_c('a',{attrs:{\"href\":\"http://ghtorrent.org/msr14.html\"}},[_vm._v(\"GHTorrent\")]),_vm._v(\" \"),_c('span',{staticClass:\"ghtorrent-version\"}),_vm._v(\" and the \"),_c('a',{attrs:{\"href\":\"https://developer.github.com/\"}},[_vm._v(\"GitHub API\")])])}]\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7c1c00fd\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-7c1c00fd\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nvar _LineChart = require('./charts/LineChart');\n\nvar _LineChart2 = _interopRequireDefault(_LineChart);\n\nvar _BubbleChart = require('./charts/BubbleChart');\n\nvar _BubbleChart2 = _interopRequireDefault(_BubbleChart);\n\nvar _StackedBarChart = require('./charts/StackedBarChart');\n\nvar _StackedBarChart2 = _interopRequireDefault(_StackedBarChart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  components: {\n    LineChart: _LineChart2.default,\n    BubbleChart: _BubbleChart2.default,\n    StackedBarChart: _StackedBarChart2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h1',[_vm._v(\"Growth, Maturity, and Decline\")]),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.$store.state.baseRepo))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"commits\",\"title\":\"Commits / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"forks\",\"title\":\"Forks / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"communityEngagement:issues_open\",\"title\":\"Open Issues\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\",\"disable-rolling-average\":\"1\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"communityEngagement:issues_open+issues_closed_total\",\"title\":\"Closed Issues\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\",\"disable-rolling-average\":\"1\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"communityEngagement:issues_opened\",\"title\":\"Issues Open / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Community Activty\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pullReqComments\",\"title\":\"Pull Request Comments / Week \",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"pullsAcceptanceRate\",\"title\":\"Pull Acceptance Rate\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"issuesClosed\",\"title\":\"Issues Closed / Week\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"totalCommitters\",\"title\":\"Total Committers\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"disableRollingAverage\":\"1\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('line-chart',{attrs:{\"source\":\"linesChanged\",\"title\":\"Lines Changed\",\"cite-url\":\"https://github.com/chaoss/metrics/blob/master/activity-metrics/community-activity.md\",\"cite-text\":\"Contributors\",\"disableRollingAverage\":\"1\"}})],1)]),_vm._v(\" \"),_vm._m(0)])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('small',[_vm._v(\"Data provided by \"),_c('a',{attrs:{\"href\":\"http://ghtorrent.org/msr14.html\"}},[_vm._v(\"GHTorrent\")]),_vm._v(\" \"),_c('span',{staticClass:\"ghtorrent-version\"}),_vm._v(\" and the \"),_c('a',{attrs:{\"href\":\"https://developer.github.com/\"}},[_vm._v(\"GitHub API\")])])}]\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-429b02f1\", __vue__options__)\n  } else {\n    hotAPI.rerender(\"data-v-429b02f1\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nmodule.exports = {\n  methods: {\n    onStartDateChange: function onStartDateChange(e) {\n      var _this = this;\n\n      console.log(e);\n      var date = Date.parse(this.$refs.startMonth.value + \"/01/\" + this.$refs.startYear.value);\n      console.log('date', date);\n      if (this.startDateTimeout) {\n        clearTimeout(this.startDateTimeout);\n        delete this.startDateTimeout;\n      }\n      this.startDateTimeout = setTimeout(function () {\n        console.log(date);\n        _this.$store.commit('setDates', {\n          startDate: date\n        });\n      }, 500);\n    },\n    onEndDateChange: function onEndDateChange(e) {\n      var _this2 = this;\n\n      var date = Date.parse(this.$refs.endMonth.value + \"/01/\" + this.$refs.endYear.value);\n      console.log('date', date);\n      if (this.endDateTimeout) {\n        clearTimeout(this.endDateTimeout);\n        delete this.endDateTimeout;\n      }\n      this.endDateTimeout = setTimeout(function () {\n        console.log(date);\n        _this2.$store.commit('setDates', {\n          endDate: date\n        });\n      }, 500);\n    },\n    onTrailingAverageChange: function onTrailingAverageChange(e) {\n      this.$store.commit('setVizOptions', {\n        trailingAverage: e.target.value\n      });\n    },\n    onRawWeeklyChange: function onRawWeeklyChange(e) {\n      this.$store.commit('setVizOptions', {\n        rawWeekly: e.target.checked\n      });\n    },\n    onShowBelowAverageChange: function onShowBelowAverageChange(e) {\n      this.$store.commit('setVizOptions', {\n        showBelowAverage: e.target.checked\n      });\n    },\n    onCompareChange: function onCompareChange(e) {\n      this.$store.commit('setCompare', {\n        compare: e.target.value\n      });\n    }\n  },\n  computed: {\n    months: function months() {\n      return [{ name: 'January', value: 0 }, { name: 'February', value: 1 }, { name: 'March', value: 2 }, { name: 'April', value: 3 }, { name: 'May', value: 4 }, { name: 'June', value: 5 }, { name: 'July', value: 6 }, { name: 'August', value: 7 }, { name: 'September', value: 8 }, { name: 'October', value: 9 }, { name: 'November', value: 10 }, { name: 'December', value: 11 }];\n    },\n    thisMonth: function thisMonth() {\n      return new Date().getMonth();\n    },\n    thisYear: function thisYear() {\n      return new Date().getUTCFullYear();\n    },\n    years: function years() {\n      var yearArray = [];\n      for (var i = 2005; i <= new Date().getUTCFullYear(); i++) {\n        yearArray.push(i);\n      }\n      return yearArray;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\",attrs:{\"id\":\"controls\"}},[_c('div',{staticClass:\"col col-12\"},[_c('div',{staticClass:\"form\"},[_c('div',{staticClass:\"row gutters\"},[_c('div',{staticClass:\"col col-7\"},[_c('h4',[_vm._v(\"Configuration\")]),_vm._v(\" \"),_c('div',{staticClass:\"row gutters\"},[_c('div',{staticClass:\"col col-6\"},[_c('div',{staticClass:\"form-item\"},[_c('label',[_vm._v(\"Start Date\\n                    \"),_c('div',{staticClass:\"row gutters\"},[_c('div',{staticClass:\"col col-7\"},[_c('div',{staticClass:\"form-item\"},[_c('select',{ref:\"startMonth\",on:{\"change\":_vm.onStartDateChange}},_vm._l((_vm.months),function(month){return _c('option',{domProps:{\"value\":month.value,\"selected\":month.value == _vm.thisMonth}},[_vm._v(_vm._s(month.name))])})),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"Month\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"col col-5\"},[_c('div',{staticClass:\"form-item\"},[_c('select',{ref:\"startYear\",on:{\"change\":_vm.onStartDateChange}},_vm._l((_vm.years),function(year){return _c('option',{domProps:{\"value\":year,\"selected\":year == 2010}},[_vm._v(_vm._s(year))])})),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"Year\")])])])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('div',{staticClass:\"form-item\"},[_c('label',[_vm._v(\"End Date\\n                  \"),_c('div',{staticClass:\"row gutters\"},[_c('div',{staticClass:\"col col-7\"},[_c('div',{staticClass:\"form-item\"},[_c('select',{ref:\"endMonth\",on:{\"change\":_vm.onEndDateChange}},_vm._l((_vm.months),function(month){return _c('option',{domProps:{\"value\":month.value,\"selected\":month.value == _vm.thisMonth}},[_vm._v(_vm._s(month.name))])})),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"Month\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"col col-5\"},[_c('div',{staticClass:\"form-item\"},[_c('select',{ref:\"endYear\",on:{\"change\":_vm.onEndDateChange}},_vm._l((_vm.years),function(year){return _c('option',{domProps:{\"value\":year,\"selected\":year == _vm.thisYear}},[_vm._v(_vm._s(year))])})),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(\"Year\")])])])])])])])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('h5',[_vm._v(\"Comparison Options\")]),_vm._v(\" \"),_c('label',[_vm._v(\"Type\\n            \"),_c('div',{staticClass:\"form-item form-checkboxes\"},[_c('label',{staticClass:\"checkbox\"},[_c('input',{attrs:{\"name\":\"comparebaseline\",\"value\":\"each\",\"checked\":\"\",\"type\":\"radio\"},on:{\"change\":_vm.onCompareChange}}),_vm._v(\"Z-score\")]),_c('br'),_vm._v(\" \"),_c('label',{staticClass:\"checkbox\"},[_c('input',{attrs:{\"name\":\"comparebaseline\",\"value\":\"percentage\",\"type\":\"radio\"},on:{\"change\":_vm.onCompareChange}}),_vm._v(\"Baseline is compared\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col col-5\"},[_c('h4',[_vm._v(\"Rendering\")]),_vm._v(\" \"),_c('label',[_vm._v(\"Line Charts\\n        \"),_c('div',{staticClass:\"append\"},[_c('input',{attrs:{\"type\":\"number\",\"min\":\"2\",\"id\":\"averagetimespan\",\"value\":\"180\"},on:{\"change\":_vm.onTrailingAverageChange}}),_c('span',[_vm._v(\"day average\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-item form-checkboxes\"},[_c('label',{staticClass:\"checkbox\"},[_c('input',{attrs:{\"name\":\"comparebaseline\",\"value\":\"each\",\"type\":\"checkbox\"},on:{\"change\":_vm.onRawWeeklyChange}}),_vm._v(\"Show raw weekly values\"),_c('sup',{staticClass:\"warn\"})]),_c('br')])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('label',[_vm._v(\"Bubble Charts\\n          \"),_c('div',{staticClass:\"form-item form-checkboxes\"},[_c('label',{staticClass:\"checkbox\"},[_c('input',{attrs:{\"name\":\"comparebaseline\",\"value\":\"each\",\"type\":\"checkbox\"},on:{\"change\":_vm.onShowBelowAverageChange}}),_vm._v(\"Show users with below-average total contributions\"),_c('sup',{staticClass:\"warn\"})]),_c('br')])]),_vm._v(\" \"),_c('small',{staticClass:\"warn\"},[_vm._v(\" - These options affect performance\")])])])])])])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4eb76a08\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-4eb76a08\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vuex = require('vuex');\n\nvar _AugurStats = require('AugurStats');\n\nvar _AugurStats2 = _interopRequireDefault(_AugurStats);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar spec = {\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v2.json\",\n  \"spec\": {\n    \"hconcat\": [{\n      \"title\": \"Code Engagement\",\n      \"width\": 375,\n      \"height\": 300,\n      \"mark\": \"circle\",\n      \"selection\": {\n        \"paintbrush\": {\n          \"type\": \"single\",\n          \"on\": \"mouseover\"\n        }\n      },\n      \"encoding\": {\n        \"x\": {\n          \"field\": \"commit_comments\",\n          \"type\": \"quantitative\"\n        },\n        \"y\": {\n          \"field\": \"commits\",\n          \"type\": \"quantitative\",\n          \"scale\": {\n            \"type\": \"sqrt\"\n          }\n        },\n        \"color\": {\n          \"condition\": {\n            \"selection\": \"paintbrush\",\n            \"field\": \"repo\",\n            \"type\": \"nominal\",\n            \"scale\": { \"range\": ['#FF3647', '#4736FF'] }\n          },\n          \"value\": \"grey\"\n        },\n        \"size\": {\n          \"field\": \"total\",\n          \"type\": \"quantitative\",\n          \"legend\": {\n            \"title\": \"all contributions\"\n          },\n          \"scale\": {\n            \"type\": \"sqrt\"\n          }\n        }\n      }\n    }, {\n      \"title\": \"Community Engagement\",\n      \"width\": 375,\n      \"height\": 300,\n      \"mark\": \"circle\",\n      \"selection\": {\n        \"paintbrush\": {\n          \"type\": \"single\",\n          \"on\": \"mouseover\"\n        }\n      },\n      \"encoding\": {\n        \"x\": {\n          \"field\": \"issue_comments\",\n          \"type\": \"quantitative\",\n          \"scale\": {\n            \"type\": \"sqrt\",\n            \"bandPaddingInner\": 3\n          },\n          \"axis\": {\n            \"tickCount\": 10\n          }\n        },\n        \"y\": {\n          \"field\": \"issues\",\n          \"type\": \"quantitative\",\n          \"scale\": {\n            \"type\": \"sqrt\"\n          }\n        },\n        \"size\": {\n          \"field\": \"total\",\n          \"type\": \"quantitative\",\n          \"legend\": {\n            \"title\": \"all contributions\"\n          },\n          \"scale\": {\n            \"type\": \"sqrt\"\n          }\n        },\n        \"color\": {\n          \"condition\": {\n            \"selection\": \"paintbrush\",\n            \"field\": \"repo\",\n            \"type\": \"nominal\",\n            \"scale\": { \"range\": ['#FF3647', '#4736FF'] }\n          },\n          \"value\": \"grey\"\n        }\n      }\n    }]\n  }\n};\n\nexports.default = {\n  props: ['citeUrl', 'citeText', 'title', 'disableRollingAverage', 'alwaysByDate', 'comparedTo'],\n  data: function data() {\n    return {\n      values: []\n    };\n  },\n\n  components: {\n    'vega-interactive': window.VueVega.mapVegaLiteSpec(spec)\n  },\n  computed: {\n    repo: function repo() {\n      return this.$store.state.baseRepo;\n    },\n    showBelowAverage: function showBelowAverage() {\n      return this.$store.state.showBelowAverage;\n    },\n    chart: function chart() {\n      var _this = this;\n\n      var removeBelowAverageContributors = !this.showBelowAverage;\n      console.log(removeBelowAverageContributors);\n      $(this.$el).find('.showme').addClass('invis');\n      $(this.$el).find('.bubblechart').addClass('loader');\n      var shared = {};\n      if (this.repo) {\n        window.AugurRepos[this.repo].contributors().then(function (data) {\n          shared.baseData = data.map(function (e) {\n            e.repo = _this.repo.toString();return e;\n          });\n          if (removeBelowAverageContributors) {\n            shared.baseData = _AugurStats2.default.aboveAverage(shared.baseData, 'total');\n          }\n          if (_this.comparedTo) {\n            return window.AugurRepos[_this.comparedTo].contributors();\n          } else {\n            return new Promise(function (resolve, reject) {\n              resolve();\n            });\n          }\n        }).then(function (compareData) {\n          if (compareData) {\n            compareData = compareData.map(function (e) {\n              e.repo = _this.comparedTo;return e;\n            });\n            if (removeBelowAverageContributors) {\n              compareData = _AugurStats2.default.aboveAverage(compareData, 'total');\n            }\n            _this.values = _.concat(shared.baseData, compareData);\n          } else {\n            _this.values = shared.baseData;\n          }\n          $(_this.$el).find('.showme, .hidefirst').removeClass('invis');\n          $(_this.$el).find('.bubblechart').removeClass('loader');\n        });\n      }\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"holder\"},[_c('div',{staticClass:\"bubblechart hidefirst invis\"},[_c('vega-interactive',{ref:\"vega\",attrs:{\"data\":_vm.values}}),_vm._v(\" \"),_c('p',[_vm._v(\" \"+_vm._s(_vm.chart)+\" \")])],1)])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-273cda36\", __vue__options__)\n  } else {\n    hotAPI.rerender(\"data-v-273cda36\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AugurStats = require('../../AugurStats');\n\nvar _AugurStats2 = _interopRequireDefault(_AugurStats);\n\nvar _d = require('d3');\n\nvar d3 = _interopRequireWildcard(_d);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  props: [],\n  computed: {\n    repo: function repo() {\n      return this.$store.state.baseRepo;\n    },\n    dependencies: function dependencies() {\n      var _this = this;\n\n      if (this.repo) {\n\n        this.$refs['dependents'].innerHTML = 'Loading...';\n        window.AugurRepos[this.repo].dependents().then(function (dependents) {\n          if (!dependents || !dependents.length) {\n            _this.$refs['dependents'].innerHTML = 'No dependents found.';\n          }\n          _this.$refs['dependents'].innerHTML = '';\n          for (var i = 0; i < dependents.length && i < 10; i++) {\n            _this.$refs['dependents'].innerHTML += dependents[i].name + '<br>';\n          }\n        }, function () {\n          _this.$refs['dependents'].innerHTML = 'No data.';\n        });\n\n        this.$refs['dependencies'].innerHTML = '';\n        window.AugurRepos[this.repo].dependencies().then(function (dependencies) {\n          if (!dependencies || !dependencies.length) {\n            _this.$refs['dependencies'].innerHTML = 'No dependencies found.';\n          }\n          _this.$refs['dependencies'].innerHTML = '';\n          for (var i = 0; i < dependencies.dependencies.length && i < 10; i++) {\n            _this.$refs['dependencies'].innerHTML += dependencies.dependencies[i].name + '<br>';\n          }\n        }, function () {\n          _this.$refs['dependencies'].innerHTML = 'No data.';\n        });\n      }\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col col-6\"},[_c('h3',[_vm._v(\"Top Dependents\")]),_vm._v(\" \"),_c('div',{ref:\"dependents\",staticClass:\"deps\"},[_vm._v(\"\\n        Loading...\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('h3',[_vm._v(\"Top Dependencies\")]),_vm._v(\" \"),_c('div',{ref:\"dependencies\",staticClass:\"deps\"},[_vm._v(\"\\n        Loading...\\n      \")])])])])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-210450fe\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-210450fe\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AugurStats = require('../../AugurStats');\n\nvar _AugurStats2 = _interopRequireDefault(_AugurStats);\n\nvar _d = require('d3');\n\nvar d3 = _interopRequireWildcard(_d);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  computed: {\n    chart: function chart() {\n      MG.data_graphic({\n        title: \"Missing Data\",\n        error: 'Data unavaliable',\n        chart_type: 'missing-data',\n        missing_text: 'Data could not be loaded',\n        target: this.$refs.chart,\n        full_width: true,\n        height: 200\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"chart\",staticClass:\"linechart\"})}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-ebdae2a4\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-ebdae2a4\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _AugurStats = require('AugurStats');\n\nvar _AugurStats2 = _interopRequireDefault(_AugurStats);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  props: ['source', 'citeUrl', 'citeText', 'title', 'percentage', 'comparedTo', 'disableRollingAverage', 'alwaysByDate', 'innerKey'],\n  data: function data() {\n    return {\n      mgConfig: {\n        time_series: true,\n        full_width: true,\n        height: 200,\n        y_mouseover: '%d'\n      },\n      graphData: {}\n    };\n  },\n\n  computed: {\n    repo: function repo() {\n      return this.$store.state.baseRepo;\n    },\n    period: function period() {\n      return this.$store.state.trailingAverage;\n    },\n    earliest: function earliest() {\n      return this.$store.state.startDate;\n    },\n    latest: function latest() {\n      return this.$store.state.endDate;\n    },\n    compare: function compare() {\n      return this.$store.state.compare;\n    },\n    rawWeekly: function rawWeekly() {\n      return this.$store.state.rawWeekly;\n    },\n    chart: function chart() {\n      var _this = this;\n\n      this.mgConfig.title = this.title || 'Activity';\n      this.mgConfig.x_accessor = 'date';\n      this.mgConfig.format = this.percentage ? 'percentage' : undefined;\n      this.mgConfig.compare = this.compare;\n      this.mgConfig.byDate = true;\n      this.mgConfig.area = this.rawWeekly;\n      this.mgConfig.y_accessor = 'value';\n      this.mgConfig.legend_target = this.$refs.legend;\n      this.mgConfig.colors = [];\n      this.mgConfig.legend = [];\n      this.mgConfig.baselines = [];\n\n      this.__download_data = {};\n      this.__download_file = this.mgConfig.title.replace(/ /g, '-').replace('/', 'by').toLowerCase();\n\n      if (this.$refs.chart) {\n        this.$refs.chart.className = 'linechart loader';\n        window.$(this.$refs.holder).find('.hideme').addClass('invis');\n        window.$(this.$refs.holder).find('.showme').removeClass('invis');\n      }\n      this.mgConfig.target = document.createElement('div');\n\n      var endpoints = [];\n      var fields = {};\n      this.source.split(',').forEach(function (endpointAndFields) {\n        var split = endpointAndFields.split(':');\n        endpoints.push(split[0]);\n        if (split[1]) {\n          fields[split[0]] = split[1].split('+');\n        }\n      });\n\n      console.log('endp, f', endpoints, fields);\n\n      var repos = [];\n      if (this.repo) {\n        repos.push(window.AugurRepos[this.repo]);\n      }\n      if (this.comparedTo) {\n        repos.push(window.AugurRepos[this.comparedTo]);\n      }\n\n      window.AugurAPI.batchMapped(repos, endpoints).then(function (data) {\n        _this.__download_data = data;\n        _this.$refs.downloadJSON.href = 'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(_this.__download_data));\n        _this.$refs.downloadJSON.setAttribute('download', _this.__download_file + '.json');\n\n        var defaultProcess = function defaultProcess(obj, key, field, count) {\n          var d = _AugurStats2.default.convertKey(obj[key], field);\n          d = _AugurStats2.default.convertDates(d, _this.earliest, _this.latest);\n          return d;\n        };\n\n        var normalized = [];\n        var buildLines = function buildLines(obj, onCreateData) {\n          if (!obj) {\n            return;\n          }\n          if (!onCreateData) {\n            onCreateData = function onCreateData(obj, key, field, count) {\n              var d = defaultProcess(obj, key, field, count);\n              normalized.push(d);\n            };\n          }\n          var count = 0;\n          for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n              if (fields[key]) {\n                fields[key].forEach(function (field) {\n                  onCreateData(obj, key, field, count);\n                  count++;\n                });\n              } else {\n                var field = Object.keys(obj[key][0]).splice(1);\n                onCreateData(obj, key, field, count);\n                count++;\n              }\n            }\n          }\n        };\n        if (!_this.comparedTo) {\n          buildLines(data[_this.repo], function (obj, key, field, count) {\n            var d = defaultProcess(obj, key, field, count);\n            var rolling = _AugurStats2.default.rollingAverage(d, 'value', _this.period);\n            if (!_this.disableRollingAverage) {\n              normalized.push(rolling);\n              _this.mgConfig.legend.push(field);\n              _this.mgConfig.colors.push(window.AUGUR_CHART_STYLE.brightColors[count]);\n            }\n            if (_this.rawWeekly || _this.disableRollingAverage) {\n              normalized.push(d);\n              _this.mgConfig.legend.push(field);\n              _this.mgConfig.colors.push(_this.disableRollingAverage ? window.AUGUR_CHART_STYLE.brightColors[count] : window.AUGUR_CHART_STYLE.dullColors[count]);\n            }\n          });\n        } else if (_this.compare === 'each' && _this.comparedTo) {\n          buildLines(data[_this.comparedTo], function (obj, key, field, count) {\n            var d = defaultProcess(obj, key, field, count);\n            var rolling = _AugurStats2.default.rollingAverage(_AugurStats2.default.zscores(d, 'value'), 'value', _this.period);\n            normalized.push(rolling);\n            _this.mgConfig.legend.push(_this.comparedTo + ' ' + field);\n            _this.mgConfig.colors.push(window.AUGUR_CHART_STYLE.brightColors[count]);\n          });\n          buildLines(data[_this.repo], function (obj, key, field, count) {\n            var d = defaultProcess(obj, key, field, count);\n            var rolling = _AugurStats2.default.rollingAverage(_AugurStats2.default.zscores(d, 'value'), 'value', _this.period);\n            normalized.push(rolling);\n            _this.mgConfig.legend.push(_this.repo + ' ' + field);\n            _this.mgConfig.colors.push(window.AUGUR_CHART_STYLE.dullColors[count]);\n          });\n        } else if (_this.comparedTo) {\n          _this.mgConfig.baselines = [{ value: 1, label: _this.repo }];\n          buildLines(data[_this.comparedTo], function (obj, key, field, count) {\n            normalized.push(_AugurStats2.default.makeRelative(obj[key], data[_this.repo][key], field, {\n              earliest: _this.earliest,\n              latest: _this.latest,\n              byDate: true,\n              period: _this.period\n            }));\n            _this.mgConfig.legend.push(_this.comparedTo + ' ' + field);\n            _this.mgConfig.colors.push(window.AUGUR_CHART_STYLE.brightColors[count]);\n          });\n        }\n\n        _this.mgConfig.data = normalized;\n        _this.mgConfig.legend_target = _this.$refs.legend;\n        _this.renderChart();\n      });\n\n      return '<div class=\"loader deleteme\">' + this.title + '...</div>';\n    }\n  },\n  methods: {\n    downloadSVG: function downloadSVG(e) {\n      var svgsaver = new window.SvgSaver();\n      var svg = window.$(this.$refs.chartholder).find('svg')[0];\n      svgsaver.asSvg(svg, this.__download_file + '.svg');\n    },\n    downloadPNG: function downloadPNG(e) {\n      var svgsaver = new window.SvgSaver();\n      var svg = window.$(this.$refs.chartholder).find('svg')[0];\n      svgsaver.asPng(svg, this.__download_file + '.png');\n    },\n    renderChart: function renderChart() {\n      var _this2 = this;\n\n      this.$refs.chart.className = 'linechart intro';\n      window.$(this.$refs.holder).find('.hideme').removeClass('invis');\n      window.$(this.$refs.holder).find('.showme').removeClass('invis');\n      window.$(this.$refs.holder).find('.deleteme').remove();\n      window.$(this.mgConfig.target).hover(function (onEnterEvent) {\n        window.$(_this2.$refs.legend).hide();\n      }, function (onLeaveEvent) {\n        window.$(_this2.$refs.legend).show();\n      });\n      this.$refs.chartholder.innerHTML = '';\n      this.$refs.chartholder.appendChild(this.mgConfig.target);\n      this.mgConfig.target.className = 'deleteme';\n      window.MG.data_graphic(this.mgConfig);\n    }\n  } };\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"holder\"},[_c('div',{ref:\"chart\",staticClass:\"linechart\"},[_c('div',{ref:\"legend\",staticClass:\"legend hideme invis\"}),_vm._v(\" \"),_c('div',{ref:\"chartholder\"}),_vm._v(\" \"),_c('span',{ref:\"chartStatus\",staticClass:\"showme\",domProps:{\"innerHTML\":_vm._s(_vm.chart)}})]),_vm._v(\" \"),_c('div',{staticClass:\"row below-chart hideme invis\"},[_c('div',{staticClass:\"col col-6\"},[_c('cite',{staticClass:\"metric\"},[_vm._v(\"Metric: \"),_c('a',{attrs:{\"href\":_vm.citeUrl,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.citeText))])])]),_vm._v(\" \"),_c('div',{staticClass:\"col col-6\"},[_c('button',{staticClass:\"button download graph-download\",on:{\"click\":_vm.downloadSVG}},[_vm._v(\"⬇ SVG\")]),_c('button',{staticClass:\"button graph-download download\",on:{\"click\":_vm.downloadPNG}},[_vm._v(\"⬇ PNG\")]),_c('a',{ref:\"downloadJSON\",staticClass:\"button graph-download download\",attrs:{\"role\":\"button\"}},[_vm._v(\"⬇ JSON\")])])])])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4035d73d\", __vue__options__)\n  } else {\n    hotAPI.rerender(\"data-v-4035d73d\", __vue__options__)\n  }\n})()}",";(function(){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vuex = require('vuex');\n\nvar _AugurStats = require('AugurStats');\n\nvar _AugurStats2 = _interopRequireDefault(_AugurStats);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  props: ['citeUrl', 'citeText', 'title', 'disableRollingAverage', 'alwaysByDate'],\n  data: function data() {\n    return {\n      values: []\n    };\n  },\n\n  computed: {\n    repo: function repo() {\n      return this.$store.state.baseRepo;\n    },\n    earliest: function earliest() {\n      return this.$store.state.startDate;\n    },\n    latest: function latest() {\n      return this.$store.state.endDate;\n    },\n    spec: function spec() {\n      return {\n        \"$schema\": \"https://vega.github.io/schema/vega-lite/v2.json\",\n        \"data\": { \"values\": [] },\n        \"title\": \"Issue Activity\",\n        \"width\": this.$el ? this.$el.offestWidth : 800,\n        \"height\": 400,\n        \"autosize\": \"fit\",\n        \"mark\": \"bar\",\n        \"encoding\": {\n          \"y\": { \"aggregate\": \"sum\",\n            \"field\": \"count\",\n            \"type\": \"quantitative\" },\n          \"x\": { \"field\": \"date\",\n            \"type\": \"temporal\" },\n          \"color\": { \"field\": \"action\",\n            \"type\": \"nominal\" }\n        }\n      };\n    },\n    chart: function chart() {\n      var _this = this;\n\n      $(this.$el).find('.showme').addClass('invis');\n      $(this.$el).find('.stackedbarchart').addClass('loader');\n      if (this.repo) {\n        window.AugurRepos[this.repo].issueActivity().then(function (data) {\n          $(_this.$el).find('.showme, .hidefirst').removeClass('invis');\n          $(_this.$el).find('.stackedbarchart').removeClass('loader');\n          data = _AugurStats2.default.convertDates(data, _this.earliest, _this.latest);\n          _this.values = data;\n        });\n      }\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\nif (__vue__options__.functional) {console.error(\"[vueify] functional components are not supported and should be defined in plain js files using render functions.\")}\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"holder\"},[_c('div',{staticClass:\"stackedbarchart hidefirst invis\"},[_c('vega-lite',{attrs:{\"spec\":_vm.spec,\"data\":_vm.values}}),_vm._v(\" \"),_c('p',[_vm._v(\" \"+_vm._s(_vm.chart)+\" \")])],1)])}\n__vue__options__.staticRenderFns = []\nif (module.hot) {(function () {  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-6c07ac85\", __vue__options__)\n  } else {\n    hotAPI.reload(\"data-v-6c07ac85\", __vue__options__)\n  }\n})()}","import AugurStats from 'AugurStats'\n\nexport default {\n  props: ['source', 'citeUrl', 'citeText', 'title', 'percentage',\n    'comparedTo', 'disableRollingAverage', 'alwaysByDate', 'innerKey'],\n  data () {\n    return {\n      data: []\n    }\n  },\n  computed: {\n    repo () {\n      return this.$store.state.baseRepo\n    },\n    period () {\n      return this.$store.state.trailingAverage\n    },\n    earliest () {\n      return this.$store.state.startDate\n    },\n    latest () {\n      return this.$store.state.endDate\n    },\n    compare () {\n      return this.$store.state.compare\n    },\n    rawWeekly () {\n      return this.$store.state.rawWeekly\n    },\n    chart () {\n      let config = {}\n\n      config.earliest = this.earliest || new Date('01-01-2005')\n      config.latest = this.latest || new Date()\n      config.title = this.title || 'Activity'\n      config.full_width = true\n      config.height = 200\n      config.x_accessor = 'date'\n      config.format = this.percentage ? 'percentage' : undefined\n      config.compare = this.compare\n      config.byDate = true\n      config.time_series = true\n      config.area = this.rawWeekly\n\n      this.__download_data = {}\n      this.__download_file = config.title.replace(/ /g, '-').replace('/', 'by').toLowerCase()\n\n      var renderChart = () => {\n        window.$(this.$refs.holder).find('.showme').removeClass('invis')\n        this.$refs.chartholder.innerHTML = ''\n        this.$refs.chartholder.appendChild(config.target)\n        this.$refs.chart.className = 'linechart'\n        window.MG.data_graphic(config)\n      }\n\n      if (this.repo) {\n        if (this.$refs.chart) {\n          this.$refs.chart.className = 'linechart loader'\n          window.$(this.$refs.holder).find('.hideme').addClass('invis')\n          window.$(this.$refs.holder).find('.showme').removeClass('invis')\n        }\n        // Create element to hold the chart\n        config.target = document.createElement('div')\n        window.AugurRepos[this.repo][this.source]()\n          .then((baseData) => {\n            this.__download_data.base = baseData\n            this.$refs.chartStatus.innerHTML = ''\n            if (baseData && baseData.length) {\n              config.data = AugurStats.convertDates(baseData, this.earliest, this.latest)\n            } else {\n              config.data = []\n            }\n            if (this.comparedTo) {\n              return window.AugurRepos[this.comparedTo][this.source]()\n            }\n            return new Promise((resolve, reject) => { resolve() })\n          })\n          .then((compareData) => {\n            this.__download_data.compare = compareData\n            this.$refs.downloadJSON.href = 'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(this.__download_data))\n            this.$refs.downloadJSON.setAttribute('download', this.__download_file + '.json')\n            let keys = Object.keys(config.data[0]).splice(1)\n            let key = this.innerKey || keys[0]\n            if (config.data && compareData && compareData.length) {\n            // If there is comparedData, do the necesarry computations for\n            // the comparision\n              if (config.compare === 'each') {\n                compareData = AugurStats.convertDates(compareData, this.earliest, this.latest)\n\n                let compare = AugurStats.rollingAverage(AugurStats.zscores(compareData, key), 'value', this.period)\n                let base = AugurStats.rollingAverage(AugurStats.zscores(config.data, key), 'value', this.period)\n                config.data = [base, compare]\n                config.legend = [window.AugurRepos[this.repo].toString(), window.AugurRepos[this.comparedTo].toString()]\n                config.colors = config.colors || ['#FF3647', '#999']\n              } else {\n                config.format = 'percentage'\n                config.baselines = [{value: 1, label: config.baseline}]\n                config.data = AugurStats.makeRelative(config.data, compareData, {\n                  earliest: config.earliest,\n                  latest: config.latest,\n                  byDate: config.byDate,\n                  period: this.period\n                })\n                config.x_accessor = (config.byDate) ? 'date' : 'x'\n              }\n            } else {\n            // Otherwise, render a normal timeseries chart\n              if (!this.disableRollingAverage) {\n                config.legend = config.legend || [config.title.toLowerCase(), this.period + ' day average']\n                let rolling = AugurStats.rollingAverage(config.data, key, this.period)\n                if (this.rawWeekly) {\n                  config.data = AugurStats.combine(rolling, config.data)\n                } else {\n                  config.data = rolling\n                }\n                config.colors = config.colors || ['#FF3647', '#CCC']\n                config.y_accessor = 'value'\n              } else {\n                config.legend = config.legend || [config.title.toLowerCase()]\n                config.colors = config.colors || ['#FF3647', '#CCC']\n                config.y_accessor = 'value'\n              }\n              config.data = AugurStats.convertKey(config.data, key)\n            }\n\n            config.y_mouseover = '%d'\n\n            config.legend_target = this.$refs.legend\n\n            this.$refs.chart.className = 'linechart intro'\n            window.$(this.$refs.holder).find('.hideme').removeClass('invis')\n\n            window.$(config.target).hover((onEnterEvent) => {\n              window.$(this.$refs.legend).hide()\n            }, (onLeaveEvent) => {\n              window.$(this.$refs.legend).show()\n            })\n            renderChart()\n          }) // end then()\n          .catch((reject) => {\n            config = {\n              error: config.title + 'is missing data',\n              chart_type: 'missing-data',\n              missing_text: config.title + ' is missing data',\n              target: config.target,\n              full_width: true,\n              height: 200\n            }\n            renderChart()\n          })\n        return '<div class=\"loader\">' + this.title + '...</div>'\n      } // end if (this.$store.repo)\n    } // end chart()\n  }, // end computed\n  methods: {\n    downloadSVG (e) {\n      var svgsaver = new window.SvgSaver()\n      var svg = window.$(this.$refs.chartholder).find('svg')[0]\n      svgsaver.asSvg(svg, this.__download_file + '.svg')\n    },\n    downloadPNG (e) {\n      var svgsaver = new window.SvgSaver()\n      var svg = window.$(this.$refs.chartholder).find('svg')[0]\n      svgsaver.asPng(svg, this.__download_file + '.png')\n    }\n  }// end methods\n} // end export default {}\n","/*\n\tKube. CSS & JS Framework\n\tVersion 6.5.2\n\tUpdated: February 2, 2017\n\n\thttp://imperavi.com/kube/\n\n\tCopyright (c) 2009-2017, Imperavi LLC.\n\tLicense: MIT\n*/\nif (typeof jQuery === 'undefined') {throw new Error('Kube\\'s requires jQuery')};\n;(function($) { var version = $.fn.jquery.split('.'); if (version[0] == 1 && version[1] < 8) {throw new Error('Kube\\'s requires at least jQuery v1.8'); }})(jQuery);\n\n;(function()\n{\n    // Inherits\n    Function.prototype.inherits = function(parent)\n    {\n        var F = function () {};\n        F.prototype = parent.prototype;\n        var f = new F();\n\n        for (var prop in this.prototype) f[prop] = this.prototype[prop];\n        this.prototype = f;\n        this.prototype.super = parent.prototype;\n    };\n\n    // Core Class\n    var Kube = function(element, options)\n    {\n        options = (typeof options === 'object') ? options : {};\n\n        this.$element = $(element);\n        this.opts     = $.extend(true, this.defaults, $.fn[this.namespace].options, this.$element.data(), options);\n        this.$target  = (typeof this.opts.target === 'string') ? $(this.opts.target) : null;\n    };\n\n    // Core Functionality\n    Kube.prototype = {\n        getInstance: function()\n        {\n            return this.$element.data('fn.' + this.namespace);\n        },\n        hasTarget: function()\n        {\n           return !(this.$target === null);\n        },\n        callback: function(type)\n        {\n\t\tvar args = [].slice.call(arguments).splice(1);\n\n            // on element callback\n            if (this.$element)\n            {\n                args = this._fireCallback($._data(this.$element[0], 'events'), type, this.namespace, args);\n            }\n\n            // on target callback\n            if (this.$target)\n            {\n                args = this._fireCallback($._data(this.$target[0], 'events'), type, this.namespace, args);\n\t\t}\n\n\t\t// opts callback\n\t\tif (this.opts && this.opts.callbacks && $.isFunction(this.opts.callbacks[type]))\n\t\t{\n                return this.opts.callbacks[type].apply(this, args);\n\t\t}\n\n\t\treturn args;\n        },\n        _fireCallback: function(events, type, eventNamespace, args)\n        {\n            if (events && typeof events[type] !== 'undefined')\n            {\n\t\t\tvar len = events[type].length;\n\t\t\tfor (var i = 0; i < len; i++)\n\t\t\t{\n\t\t\t\tvar namespace = events[type][i].namespace;\n\t\t\t\tif (namespace === eventNamespace)\n\t\t\t\t{\n\t\t\t\t\tvar value = events[type][i].handler.apply(this, args);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n            return (typeof value === 'undefined') ? args : value;\n        }\n    };\n\n    // Scope\n    window.Kube = Kube;\n\n})();\n/**\n * @library Kube Plugin\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Plugin = {\n        create: function(classname, pluginname)\n        {\n            pluginname = (typeof pluginname === 'undefined') ? classname.toLowerCase() : pluginname;\n\n            $.fn[pluginname] = function(method, options)\n            {\n                var args = Array.prototype.slice.call(arguments, 1);\n                var name = 'fn.' + pluginname;\n                var val = [];\n\n                this.each(function()\n                {\n                    var $this = $(this), data = $this.data(name);\n                    options = (typeof method === 'object') ? method : options;\n\n                    if (!data)\n                    {\n                        // Initialization\n                        $this.data(name, {});\n                        $this.data(name, (data = new Kube[classname](this, options)));\n                    }\n\n                    // Call methods\n                    if (typeof method === 'string')\n                    {\n                        if ($.isFunction(data[method]))\n                        {\n                            var methodVal = data[method].apply(data, args);\n                            if (methodVal !== undefined)\n                            {\n                                val.push(methodVal);\n                            }\n                        }\n                        else\n                        {\n                            $.error('No such method \"' + method + '\" for ' + classname);\n                        }\n                    }\n\n                });\n\n                return (val.length === 0 || val.length === 1) ? ((val.length === 0) ? this : val[0]) : val;\n            };\n\n            $.fn[pluginname].options = {};\n\n            return this;\n        },\n        autoload: function(pluginname)\n        {\n            var arr = pluginname.split(',');\n            var len = arr.length;\n\n            for (var i = 0; i < len; i++)\n            {\n                var name = arr[i].toLowerCase().split(',').map(function(s) { return s.trim() }).join(',');\n                this.autoloadQueue.push(name);\n            }\n\n            return this;\n        },\n        autoloadQueue: [],\n        startAutoload: function()\n        {\n            if (!window.MutationObserver || this.autoloadQueue.length === 0)\n            {\n                return;\n            }\n\n            var self = this;\n\t\tvar observer = new MutationObserver(function(mutations)\n\t\t{\n\t\t\tmutations.forEach(function(mutation)\n\t\t\t{\n\t\t\t\tvar newNodes = mutation.addedNodes;\n\t\t\t    if (newNodes.length === 0 || (newNodes.length === 1 && newNodes.nodeType === 3))\n\t\t\t    {\n\t\t\t\t    return;\n\t\t\t\t}\n\n                    self.startAutoloadOnce();\n\t\t\t});\n\t\t});\n\n\t\t// pass in the target node, as well as the observer options\n\t\tobserver.observe(document, {\n\t\t\t subtree: true,\n\t\t\t childList: true\n\t\t});\n        },\n        startAutoloadOnce: function()\n        {\n            var self = this;\n            var $nodes = $('[data-component]').not('[data-loaded]');\n\t\t$nodes.each(function()\n\t\t{\n\t\t\tvar $el = $(this);\n\t\t\tvar pluginname = $el.data('component');\n\n                if (self.autoloadQueue.indexOf(pluginname) !== -1)\n                {\n\t\t\t$el.attr('data-loaded', true);\n                    $el[pluginname]();\n                }\n            });\n\n        },\n        watch: function()\n        {\n            Kube.Plugin.startAutoloadOnce();\n            Kube.Plugin.startAutoload();\n        }\n    };\n\n    $(window).on('load', function()\n    {\n        Kube.Plugin.watch();\n    });\n\n}(Kube));\n/**\n * @library Kube Animation\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Animation = function(element, effect, callback)\n    {\n        this.namespace = 'animation';\n        this.defaults = {};\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Initialization\n        this.effect = effect;\n        this.completeCallback = (typeof callback === 'undefined') ? false : callback;\n        this.prefixes = ['', '-moz-', '-o-animation-', '-webkit-'];\n        this.queue = [];\n\n        this.start();\n    };\n\n    Kube.Animation.prototype = {\n        start: function()\n        {\n\t\tif (this.isSlideEffect()) this.setElementHeight();\n\n\t\t\tthis.addToQueue();\n\t\t\tthis.clean();\n\t\t\tthis.animate();\n        },\n        addToQueue: function()\n        {\n            this.queue.push(this.effect);\n        },\n        setElementHeight: function()\n        {\n            this.$element.height(this.$element.height());\n        },\n        removeElementHeight: function()\n        {\n            this.$element.css('height', '');\n        },\n        isSlideEffect: function()\n        {\n            return (this.effect === 'slideDown' || this.effect === 'slideUp');\n        },\n        isHideableEffect: function()\n        {\n            var effects = ['fadeOut', 'slideUp', 'flipOut', 'zoomOut', 'slideOutUp', 'slideOutRight', 'slideOutLeft'];\n\n\t\t\treturn ($.inArray(this.effect, effects) !== -1);\n        },\n        isToggleEffect: function()\n        {\n            return (this.effect === 'show' || this.effect === 'hide');\n        },\n        storeHideClasses: function()\n        {\n            if (this.$element.hasClass('hide-sm'))      this.$element.data('hide-sm-class', true);\n            else if (this.$element.hasClass('hide-md')) this.$element.data('hide-md-class', true);\n        },\n        revertHideClasses: function()\n        {\n            if (this.$element.data('hide-sm-class'))      this.$element.addClass('hide-sm').removeData('hide-sm-class');\n            else if (this.$element.data('hide-md-class')) this.$element.addClass('hide-md').removeData('hide-md-class');\n            else                                          this.$element.addClass('hide');\n        },\n        removeHideClass: function()\n        {\n            if (this.$element.data('hide-sm-class'))      this.$element.removeClass('hide-sm');\n            else if (this.$element.data('hide-md-class')) this.$element.removeClass('hide-md');\n            else                                          this.$element.removeClass('hide');\n        },\n        animate: function()\n        {\n            this.storeHideClasses();\n            if (this.isToggleEffect())\n\t\t\t{\n\t\t\t\treturn this.makeSimpleEffects();\n            }\n\n            this.$element.addClass('kubeanimated');\n\t\t\tthis.$element.addClass(this.queue[0]);\n            this.removeHideClass();\n\n\t\t\tvar _callback = (this.queue.length > 1) ? null : this.completeCallback;\n\t\t\tthis.complete('AnimationEnd', $.proxy(this.makeComplete, this), _callback);\n        },\n        makeSimpleEffects: function()\n        {\n\t\tif      (this.effect === 'show') this.removeHideClass();\n            else if (this.effect === 'hide') this.revertHideClasses();\n\n            if (typeof this.completeCallback === 'function') this.completeCallback(this);\n        },\n\t\tmakeComplete: function()\n\t\t{\n            if (this.$element.hasClass(this.queue[0]))\n            {\n\t\t\t\tthis.clean();\n\t\t\t\tthis.queue.shift();\n\n\t\t\t\tif (this.queue.length) this.animate();\n\t\t\t}\n\t\t},\n        complete: function(type, make, callback)\n\t\t{\n\t\tvar event = type.toLowerCase() + ' webkit' + type + ' o' + type + ' MS' + type;\n\n\t\t\tthis.$element.one(event, $.proxy(function()\n\t\t\t{\n\t\t\t\tif (typeof make === 'function')     make();\n\t\t\t\tif (this.isHideableEffect())        this.revertHideClasses();\n\t\t\t\tif (this.isSlideEffect())           this.removeElementHeight();\n\t\t\t\tif (typeof callback === 'function') callback(this);\n\n\t\t\t\tthis.$element.off(event);\n\n\t\t\t}, this));\n\t\t},\n\t\tclean: function()\n\t\t{\n\t\t\tthis.$element.removeClass('kubeanimated').removeClass(this.queue[0]);\n\t\t}\n    };\n\n    // Inheritance\n    Kube.Animation.inherits(Kube);\n\n}(Kube));\n\n// Plugin\n(function($)\n{\n    $.fn.animation = function(effect, callback)\n    {\n        var name = 'fn.animation';\n\n        return this.each(function()\n        {\n            var $this = $(this), data = $this.data(name);\n\n            $this.data(name, {});\n            $this.data(name, (data = new Kube.Animation(this, effect, callback)));\n        });\n    };\n\n    $.fn.animation.options = {};\n\n})(jQuery);\n/**\n * @library Kube Detect\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Detect = function() {};\n\n    Kube.Detect.prototype = {\n\tisMobile: function()\n\t{\n\t\treturn /(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent);\n\t},\n\tisDesktop: function()\n\t{\n\t\treturn !/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent);\n\t},\n\tisMobileScreen: function()\n\t{\n\t\treturn ($(window).width() <= 768);\n\t},\n\tisTabletScreen: function()\n\t{\n\t\treturn ($(window).width() >= 768 && $(window).width() <= 1024);\n\t},\n\tisDesktopScreen: function()\n\t{\n\t\treturn ($(window).width() > 1024);\n\t}\n    };\n\n\n}(Kube));\n/**\n * @library Kube FormData\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.FormData = function(app)\n    {\n        this.opts = app.opts;\n    };\n\n    Kube.FormData.prototype = {\n        set: function(data)\n        {\n            this.data = data;\n        },\n        get: function(formdata)\n\t{\n\t\tthis.formdata = formdata;\n\n            if (this.opts.appendForms) this.appendForms();\n            if (this.opts.appendFields) this.appendFields();\n\n            return this.data;\n\t},\n\tappendFields: function()\n\t{\n\t\tvar $fields = $(this.opts.appendFields);\n\t\tif ($fields.length === 0)\n\t\t{\n\t\t\treturn;\n            }\n\n\t\tvar self = this;\n            var str = '';\n\n            if (this.formdata)\n            {\n                $fields.each(function()\n\t\t\t{\n\t\t\t\tself.data.append($(this).attr('name'), $(this).val());\n\t\t\t});\n            }\n            else\n            {\n\t\t\t$fields.each(function()\n\t\t\t{\n\t\t\t\tstr += '&' + $(this).attr('name') + '=' + $(this).val();\n\t\t\t});\n\n\t\t\tthis.data = (this.data === '') ? str.replace(/^&/, '') : this.data + str;\n            }\n\t},\n\tappendForms: function()\n\t{\n\t\tvar $forms = $(this.opts.appendForms);\n\t\tif ($forms.length === 0)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n            if (this.formdata)\n            {\n                var self = this;\n                var formsData = $(this.opts.appendForms).serializeArray();\n                $.each(formsData, function(i,s)\n                {\n\t\t\tself.data.append(s.name, s.value);\n                });\n            }\n            else\n            {\n                var str = $forms.serialize();\n\n                this.data = (this.data === '') ? str : this.data + '&' + str;\n            }\n\t}\n    };\n\n\n}(Kube));\n/**\n * @library Kube Response\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Response = function(app) {};\n\n    Kube.Response.prototype = {\n        parse: function(str)\n\t{\n\t\tif (str === '') return false;\n\n\t\tvar obj = {};\n\n\t\ttry {\n\t\t\tobj = JSON.parse(str);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (obj[0] !== undefined)\n\t\t{\n\t\t\tfor (var item in obj)\n\t\t\t{\n\t\t\t\tthis.parseItem(obj[item]);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.parseItem(obj);\n\t\t}\n\n\t\treturn obj;\n\t},\n\tparseItem: function(item)\n\t{\n\t\tif (item.type === 'value')\n\t\t{\n\t\t\t$.each(item.data, $.proxy(function(key, val)\n\t\t\t{\n\t\t\t\tval = (val === null || val === false) ? 0 : val;\n\t\t\t\tval = (val === true) ? 1 : val;\n\n\t\t\t\t$(key).val(val);\n\n\t\t\t}, this));\n\t\t}\n\t\telse if (item.type === 'html')\n\t\t{\n\t\t\t$.each(item.data, $.proxy(function(key, val)\n\t\t\t{\n\t\t\t\tval = (val === null || val === false) ? '' : val;\n\n\t\t\t\t$(key).html(this.stripslashes(val));\n\n\t\t\t}, this));\n\t\t}\n\t\telse if (item.type === 'addClass')\n\t\t{\n\t\t\t$.each(item.data, function(key, val)\n\t\t\t{\n\t\t\t\t$(key).addClass(val);\n\t\t\t});\n            }\n\t\telse if (item.type === 'removeClass')\n\t\t{\n\t\t\t$.each(item.data, function(key, val)\n\t\t\t{\n\t\t\t\t$(key).removeClass(val);\n\t\t\t});\n            }\n\t\telse if (item.type === 'command')\n\t\t{\n\t\t\t$.each(item.data, function(key, val)\n\t\t\t{\n\t\t\t\t$(val)[key]();\n\t\t\t});\n\t\t}\n\t\telse if (item.type === 'animation')\n\t\t{\n\t\t\t$.each(item.data, function(key, data)\n\t\t\t{\n\t\t\t\tdata.opts = (typeof data.opts === 'undefined') ? {} : data.opts;\n\n\t\t\t\t$(key).animation(data.name, data.opts);\n\t\t\t});\n\t\t}\n\t\telse if (item.type === 'location')\n\t\t{\n\t\t\ttop.location.href = item.data;\n\t\t}\n\t\telse if (item.type === 'notify')\n\t\t{\n\t\t\t$.notify(item.data);\n\t\t}\n\n\t\treturn item;\n\t},\n        stripslashes: function(str)\n\t{\n\t\treturn (str+'').replace(/\\0/g, '0').replace(/\\\\([\\\\'\"])/g, '$1');\n        }\n    };\n\n\n}(Kube));\n/**\n * @library Kube Utils\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Utils = function() {};\n\n    Kube.Utils.prototype = {\n        disableBodyScroll: function()\n\t{\n\t\tvar $body = $('html');\n\t\tvar windowWidth = window.innerWidth;\n\n\t\tif (!windowWidth)\n\t\t{\n\t\t\tvar documentElementRect = document.documentElement.getBoundingClientRect();\n\t\t\twindowWidth = documentElementRect.right - Math.abs(documentElementRect.left);\n\t\t}\n\n\t\tvar isOverflowing = document.body.clientWidth < windowWidth;\n\t\tvar scrollbarWidth = this.measureScrollbar();\n\n\t\t$body.css('overflow', 'hidden');\n\t\tif (isOverflowing) $body.css('padding-right', scrollbarWidth);\n\t},\n\tmeasureScrollbar: function()\n\t{\n\t\tvar $body = $('body');\n\t\tvar scrollDiv = document.createElement('div');\n\t\tscrollDiv.className = 'scrollbar-measure';\n\n\t\t$body.append(scrollDiv);\n\t\tvar scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t$body[0].removeChild(scrollDiv);\n\t\treturn scrollbarWidth;\n\t},\n\tenableBodyScroll: function()\n\t{\n\t\t$('html').css({ 'overflow': '', 'padding-right': '' });\n\t}\n    };\n\n\n}(Kube));\n/**\n * @library Kube Message\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Message = function(element, options)\n    {\n        this.namespace = 'message';\n        this.defaults = {\n            closeSelector: '.close',\n            closeEvent: 'click',\n            animationOpen: 'fadeIn',\n            animationClose: 'fadeOut',\n            callbacks: ['open', 'opened', 'close', 'closed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Message.prototype = {\n        start: function()\n        {\n            this.$close = this.$element.find(this.opts.closeSelector);\n            this.$close.on(this.opts.closeEvent + '.' + this.namespace, $.proxy(this.close, this));\n            this.$element.addClass('open');\n        },\n        stop: function()\n        {\n            this.$close.off('.' + this.namespace);\n            this.$element.removeClass('open');\n        },\n        open: function(e)\n        {\n            if (e) e.preventDefault();\n\n            if (!this.isOpened())\n            {\n                this.callback('open');\n                this.$element.animation(this.opts.animationOpen, $.proxy(this.onOpened, this));\n            }\n        },\n        isOpened: function()\n        {\n            return this.$element.hasClass('open');\n        },\n        onOpened: function()\n        {\n            this.callback('opened');\n            this.$element.addClass('open');\n        },\n        close: function(e)\n        {\n            if (e) e.preventDefault();\n\n            if (this.isOpened())\n            {\n                this.callback('close');\n                this.$element.animation(this.opts.animationClose, $.proxy(this.onClosed, this));\n            }\n        },\n        onClosed: function()\n        {\n            this.callback('closed');\n            this.$element.removeClass('open');\n        }\n    };\n\n    // Inheritance\n    Kube.Message.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Message');\n    Kube.Plugin.autoload('Message');\n\n}(Kube));\n/**\n * @library Kube Sticky\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Sticky = function(element, options)\n    {\n        this.namespace = 'sticky';\n        this.defaults = {\n            classname: 'fixed',\n            offset: 0, // pixels\n            callbacks: ['fixed', 'unfixed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Sticky.prototype = {\n        start: function()\n        {\n\t    this.offsetTop = this.getOffsetTop();\n\n\t    this.load();\n\t    $(window).scroll($.proxy(this.load, this));\n\t},\n\tgetOffsetTop: function()\n\t{\n\t\treturn this.$element.offset().top;\n\t},\n\tload: function()\n\t{\n\t\treturn (this.isFix()) ? this.fixed() : this.unfixed();\n\t},\n\tisFix: function()\n\t{\n            return ($(window).scrollTop() > (this.offsetTop + this.opts.offset));\n\t},\n\tfixed: function()\n\t{\n\t\tthis.$element.addClass(this.opts.classname).css('top', this.opts.offset + 'px');\n\t\tthis.callback('fixed');\n\t},\n\tunfixed: function()\n\t{\n\t\tthis.$element.removeClass(this.opts.classname).css('top', '');\n\t\tthis.callback('unfixed');\n        }\n    };\n\n    // Inheritance\n    Kube.Sticky.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Sticky');\n    Kube.Plugin.autoload('Sticky');\n\n}(Kube));\n/**\n * @library Kube Toggleme\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Toggleme = function(element, options)\n    {\n        this.namespace = 'toggleme';\n        this.defaults = {\n            toggleEvent: 'click',\n            target: null,\n            text: '',\n            animationOpen: 'slideDown',\n            animationClose: 'slideUp',\n            callbacks: ['open', 'opened', 'close', 'closed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Toggleme.prototype = {\n        start: function()\n        {\n            if (!this.hasTarget()) return;\n\n            this.$element.on(this.opts.toggleEvent + '.' + this.namespace, $.proxy(this.toggle, this));\n        },\n        stop: function()\n        {\n            this.$element.off('.' + this.namespace);\n            this.revertText();\n        },\n        toggle: function(e)\n        {\n            if (this.isOpened()) this.close(e);\n            else                 this.open(e);\n        },\n        open: function(e)\n        {\n            if (e) e.preventDefault();\n\n            if (!this.isOpened())\n            {\n                this.storeText();\n                this.callback('open');\n                this.$target.animation('slideDown', $.proxy(this.onOpened, this));\n\n                // changes the text of $element with a less delay to smooth\n                setTimeout($.proxy(this.replaceText, this), 100);\n\t\t}\n        },\n        close: function(e)\n        {\n            if (e) e.preventDefault();\n\n            if (this.isOpened())\n            {\n                this.callback('close');\n                this.$target.animation('slideUp', $.proxy(this.onClosed, this));\n\t\t}\n        },\n\tisOpened: function()\n        {\n            return (this.$target.hasClass('open'));\n        },\n        onOpened: function()\n        {\n            this.$target.addClass('open');\n\t\tthis.callback('opened');\n        },\n        onClosed: function()\n        {\n            this.$target.removeClass('open');\n            this.revertText();\n\t\tthis.callback('closed');\n        },\n        storeText: function()\n        {\n            this.$element.data('replacement-text', this.$element.html());\n        },\n        revertText: function()\n        {\n            var text = this.$element.data('replacement-text');\n            if (text) this.$element.html(text);\n\n            this.$element.removeData('replacement-text');\n        },\n        replaceText: function()\n        {\n            if (this.opts.text !== '')\n            {\n                this.$element.html(this.opts.text);\n            }\n        }\n    };\n\n    // Inheritance\n    Kube.Toggleme.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Toggleme');\n    Kube.Plugin.autoload('Toggleme');\n\n}(Kube));\n/**\n * @library Kube Offcanvas\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Offcanvas = function(element, options)\n    {\n        this.namespace = 'offcanvas';\n        this.defaults = {\n\t\ttarget: null, // selector\n\t\tpush: true, // boolean\n\t\twidth: '250px', // string\n\t\tdirection: 'left', // string: left or right\n\t\ttoggleEvent: 'click',\n\t\tclickOutside: true, // boolean\n\t\tanimationOpen: 'slideInLeft',\n\t\tanimationClose: 'slideOutLeft',\n\t\tcallbacks: ['open', 'opened', 'close', 'closed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Services\n        this.utils = new Kube.Utils();\n        this.detect = new Kube.Detect();\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Offcanvas.prototype = {\n        start: function()\n        {\n            if (!this.hasTarget()) return;\n\n            this.buildTargetWidth();\n            this.buildAnimationDirection();\n\n            this.$close = this.getCloseLink();\n            this.$element.on(this.opts.toggleEvent + '.' + this.namespace, $.proxy(this.toggle, this));\n            this.$target.addClass('offcanvas');\n\t},\n\tstop: function()\n\t{\n\t\tthis.closeAll();\n\n            this.$element.off('.' + this.namespace);\n            this.$close.off('.' + this.namespace);\n            $(document).off('.' + this.namespace);\n\t},\n\ttoggle: function(e)\n\t{\n\t\tif (this.isOpened()) this.close(e);\n\t\telse                 this.open(e);\n        },\n\tbuildTargetWidth: function()\n\t{\n            this.opts.width = ($(window).width() < parseInt(this.opts.width)) ? '100%' : this.opts.width;\n\t},\n\tbuildAnimationDirection: function()\n\t{\n            if (this.opts.direction === 'right')\n            {\n                this.opts.animationOpen = 'slideInRight';\n\t\t\tthis.opts.animationClose = 'slideOutRight';\n            }\n\t},\n\tgetCloseLink: function()\n\t{\n            return this.$target.find('.close');\n\t},\n\topen: function(e)\n\t{\n\t\tif (e) e.preventDefault();\n\n            if (!this.isOpened())\n            {\n                this.closeAll();\n\t\t\tthis.callback('open');\n\n                this.$target.addClass('offcanvas-' + this.opts.direction);\n                this.$target.css('width', this.opts.width);\n\n                this.pushBody();\n\n\t\t\tthis.$target.animation(this.opts.animationOpen, $.proxy(this.onOpened, this));\n\t\t}\n\t},\n\tcloseAll: function()\n\t{\n\t\tvar $elms = $(document).find('.offcanvas');\n\t\tif ($elms.length !== 0)\n\t\t{\n                $elms.each(function()\n                {\n                    var $el = $(this);\n\n                    if ($el.hasClass('open'))\n                    {\n                        $el.css('width', '').animation('hide');\n                        $el.removeClass('open offcanvas-left offcanvas-right');\n                    }\n\n                });\n\n                $(document).off('.' + this.namespace);\n                $('body').css('left', '');\n\t\t}\n\t},\n\tclose: function(e)\n\t{\n\t\tif (e)\n\t\t{\n\t\tvar $el = $(e.target);\n\t\tvar isTag = ($el[0].tagName === 'A' || $el[0].tagName === 'BUTTON');\n\t\tif (isTag && $el.closest('.offcanvas').length !== 0 && !$el.hasClass('close'))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\te.preventDefault();\n            }\n\n            if (this.isOpened())\n\t\t{\n\t\t\tthis.utils.enableBodyScroll();\n\t\t\tthis.callback('close');\n                this.pullBody();\n\t\t\tthis.$target.animation(this.opts.animationClose, $.proxy(this.onClosed, this));\n\t\t}\n\t},\n\tisOpened: function()\n        {\n            return (this.$target.hasClass('open'));\n        },\n\tonOpened: function()\n\t{\n\t\tif (this.opts.clickOutside) $(document).on('click.' + this.namespace, $.proxy(this.close, this));\n\t\tif (this.detect.isMobileScreen()) $('html').addClass('no-scroll');\n\n            $(document).on('keyup.' + this.namespace, $.proxy(this.handleKeyboard, this));\n            this.$close.on('click.' + this.namespace, $.proxy(this.close, this));\n\n\t\tthis.utils.disableBodyScroll();\n            this.$target.addClass('open');\n            this.callback('opened');\n\t},\n\tonClosed: function()\n\t{\n\t\tif (this.detect.isMobileScreen()) $('html').removeClass('no-scroll');\n\n            this.$target.css('width', '').removeClass('offcanvas-' + this.opts.direction);\n\n            this.$close.off('.' + this.namespace);\n\t\t$(document).off('.' + this.namespace);\n\n            this.$target.removeClass('open');\n\t\tthis.callback('closed');\n\t},\n\thandleKeyboard: function(e)\n\t{\n\t\tif (e.which === 27) this.close();\n\t},\n\tpullBody: function()\n\t{\n            if (this.opts.push)\n            {\n                $('body').animate({ left: 0 }, 350, function() { $(this).removeClass('offcanvas-push-body'); });\n            }\n\t},\n\tpushBody: function()\n\t{\n            if (this.opts.push)\n            {\n                var properties = (this.opts.direction === 'left') ? { 'left': this.opts.width } : { 'left': '-' + this.opts.width };\n                $('body').addClass('offcanvas-push-body').animate(properties, 200);\n            }\n\t}\n    };\n\n    // Inheritance\n    Kube.Offcanvas.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Offcanvas');\n    Kube.Plugin.autoload('Offcanvas');\n\n}(Kube));\n/**\n * @library Kube Collapse\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Collapse = function(element, options)\n    {\n        this.namespace = 'collapse';\n        this.defaults = {\n            target: null,\n            toggle: true,\n            active: false, // string (hash = tab id selector)\n            toggleClass: 'collapse-toggle',\n            boxClass: 'collapse-box',\n            callbacks: ['open', 'opened', 'close', 'closed'],\n\n            // private\n            hashes: [],\n\t\tcurrentHash: false,\n\t\tcurrentItem: false\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Collapse.prototype = {\n        start: function()\n        {\n            // items\n            this.$items = this.getItems();\n            this.$items.each($.proxy(this.loadItems, this));\n\n            // boxes\n            this.$boxes = this.getBoxes();\n\n            // active\n            this.setActiveItem();\n        },\n        getItems: function()\n        {\n            return this.$element.find('.' + this.opts.toggleClass);\n        },\n        getBoxes: function()\n        {\n            return this.$element.find('.' + this.opts.boxClass);\n        },\n\tloadItems: function(i, el)\n\t{\n\t\tvar item = this.getItem(el);\n\n\t\t// set item identificator\n\t\titem.$el.attr('rel', item.hash);\n\n            // active\n\t\tif (!$(item.hash).hasClass('hide'))\n\t\t{\n\t\t\tthis.opts.currentItem = item;\n\t\t\tthis.opts.active = item.hash;\n\n                item.$el.addClass('active');\n            }\n\n\t\t// event\n\t\titem.$el.on('click.collapse', $.proxy(this.toggle, this));\n\n\t},\n\tsetActiveItem: function()\n\t{\n\t\tif (this.opts.active !== false)\n\t\t{\n\t\t\tthis.opts.currentItem = this.getItemBy(this.opts.active);\n\t\t\tthis.opts.active = this.opts.currentItem.hash;\n\t\t}\n\n            if (this.opts.currentItem !== false)\n            {\n\t\t    this.addActive(this.opts.currentItem);\n\t\t    this.opts.currentItem.$box.removeClass('hide');\n\t\t}\n\t},\n\taddActive: function(item)\n\t{\n\t\titem.$box.removeClass('hide').addClass('open');\n\t\titem.$el.addClass('active');\n\n\t\tif (item.$caret !== false) item.$caret.removeClass('down').addClass('up');\n\t\tif (item.$parent !== false) item.$parent.addClass('active');\n\n\t\tthis.opts.currentItem = item;\n\t},\n\tremoveActive: function(item)\n\t{\n\t\titem.$box.removeClass('open');\n\t\titem.$el.removeClass('active');\n\n\t\tif (item.$caret !== false) item.$caret.addClass('down').removeClass('up');\n\t\tif (item.$parent !== false) item.$parent.removeClass('active');\n\n\t\tthis.opts.currentItem = false;\n\t},\n        toggle: function(e)\n        {\n            if (e) e.preventDefault();\n\n            var target = $(e.target).closest('.' + this.opts.toggleClass).get(0) || e.target;\n            var item = this.getItem(target);\n\n            if (this.isOpened(item.hash)) this.close(item.hash);\n            else                          this.open(e)\n        },\n        openAll: function()\n        {\n            this.$items.addClass('active');\n            this.$boxes.addClass('open').removeClass('hide');\n        },\n        open: function(e, push)\n        {\n\t\tif (typeof e === 'undefined') return;\n\t\tif (typeof e === 'object') e.preventDefault();\n\n            var target = $(e.target).closest('.' + this.opts.toggleClass).get(0) || e.target;\n\t\tvar item = (typeof e === 'object') ? this.getItem(target) : this.getItemBy(e);\n\n\t\tif (item.$box.hasClass('open'))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.opts.toggle) this.closeAll();\n\n\t\tthis.callback('open', item);\n\t\tthis.addActive(item);\n\n            item.$box.animation('slideDown', $.proxy(this.onOpened, this));\n        },\n        onOpened: function()\n        {\n\t\tthis.callback('opened', this.opts.currentItem);\n        },\n        closeAll: function()\n        {\n            this.$items.removeClass('active').closest('li').removeClass('active');\n            this.$boxes.removeClass('open').addClass('hide');\n        },\n        close: function(num)\n        {\n\t\tvar item = this.getItemBy(num);\n\n\t\tthis.callback('close', item);\n\n\t\tthis.opts.currentItem = item;\n\n\t\titem.$box.animation('slideUp', $.proxy(this.onClosed, this));\n        },\n        onClosed: function()\n        {\n            var item = this.opts.currentItem;\n\n\t\tthis.removeActive(item);\n\t\tthis.callback('closed', item);\n        },\n        isOpened: function(hash)\n        {\n            return $(hash).hasClass('open');\n        },\n\tgetItem: function(element)\n\t{\n\t\tvar item = {};\n\n\t\titem.$el = $(element);\n\t\titem.hash = item.$el.attr('href');\n\t\titem.$box = $(item.hash);\n\n\t\tvar $parent = item.$el.parent();\n\t\titem.$parent = ($parent[0].tagName === 'LI') ? $parent : false;\n\n\t\tvar $caret = item.$el.find('.caret');\n\t\titem.$caret = ($caret.length !== 0) ? $caret : false;\n\n\t\treturn item;\n\t},\n\tgetItemBy: function(num)\n\t{\n\t\tvar element = (typeof num === 'number') ? this.$items.eq(num-1) : this.$element.find('[rel=\"' + num + '\"]');\n\n\t\treturn this.getItem(element);\n        }\n    };\n\n    // Inheritance\n    Kube.Collapse.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Collapse');\n    Kube.Plugin.autoload('Collapse');\n\n}(Kube));\n/**\n * @library Kube Dropdown\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Dropdown = function(element, options)\n    {\n        this.namespace = 'dropdown';\n        this.defaults = {\n\t\ttarget: null,\n\t\ttoggleEvent: 'click',\n\t\theight: false, // integer\n\t\twidth: false, // integer\n\t\tanimationOpen: 'slideDown',\n\t\tanimationClose: 'slideUp',\n\t\tcaretUp: false,\n            callbacks: ['open', 'opened', 'close', 'closed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Services\n        this.utils = new Kube.Utils();\n        this.detect = new Kube.Detect();\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Dropdown.prototype = {\n        start: function()\n        {\n            this.buildClose();\n            this.buildCaret();\n\n            if (this.detect.isMobile()) this.buildMobileAnimation();\n\n            this.$target.addClass('hide');\n            this.$element.on(this.opts.toggleEvent + '.' + this.namespace, $.proxy(this.toggle, this));\n\n\t},\n\tstop: function()\n\t{\n\t\tthis.$element.off('.' + this.namespace);\n            this.$target.removeClass('open').addClass('hide');\n\t\tthis.disableEvents();\n\t},\n\tbuildMobileAnimation: function()\n\t{\n            this.opts.animationOpen = 'fadeIn';\n            this.opts.animationClose = 'fadeOut';\n\t},\n\tbuildClose: function()\n\t{\n            this.$close = this.$target.find('.close');\n\t},\n\tbuildCaret: function()\n\t{\n            this.$caret = this.getCaret();\n\t\tthis.buildCaretPosition();\n\t},\n\tbuildCaretPosition: function()\n\t{\n\t\tvar height = this.$element.offset().top + this.$element.innerHeight() + this.$target.innerHeight();\n\n\t\tif ($(document).height() > height)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n            this.opts.caretUp = true;\n\t\tthis.$caret.addClass('up');\n\t},\n\tgetCaret: function()\n\t{\n\t\treturn this.$element.find('.caret');\n\t},\n\ttoggleCaretOpen: function()\n\t{\n\t\tif (this.opts.caretUp) this.$caret.removeClass('up').addClass('down');\n\t\telse                   this.$caret.removeClass('down').addClass('up');\n\t},\n\ttoggleCaretClose: function()\n\t{\n\t\tif (this.opts.caretUp) this.$caret.removeClass('down').addClass('up');\n\t\telse                   this.$caret.removeClass('up').addClass('down');\n\t},\n\ttoggle: function(e)\n\t{\n\t\tif (this.isOpened()) this.close(e);\n\t\telse                 this.open(e);\n\t},\n\topen: function(e)\n\t{\n\t\tif (e) e.preventDefault();\n\n            this.callback('open');\n\t\t$('.dropdown').removeClass('open').addClass('hide');\n\n\t\tif (this.opts.height) this.$target.css('min-height', this.opts.height + 'px');\n\t\tif (this.opts.width)  this.$target.width(this.opts.width);\n\n\t\tthis.setPosition();\n\t\tthis.toggleCaretOpen();\n\n\t\tthis.$target.animation(this.opts.animationOpen, $.proxy(this.onOpened, this));\n\t},\n\tclose: function(e)\n\t{\n            if (!this.isOpened())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (e)\n\t\t{\n\t\t\tif (this.shouldNotBeClosed(e.target))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tthis.utils.enableBodyScroll();\n\t\tthis.callback('close');\n\t\tthis.toggleCaretClose();\n\n\t\tthis.$target.animation(this.opts.animationClose, $.proxy(this.onClosed, this));\n\t},\n\tonClosed: function()\n\t{\n            this.$target.removeClass('open');\n\t\tthis.disableEvents();\n\t\tthis.callback('closed');\n\t},\n\tonOpened: function()\n\t{\n\t\tthis.$target.addClass('open');\n\t\tthis.enableEvents();\n\t\tthis.callback('opened');\n\t},\n\tisOpened: function()\n\t{\n\t\treturn (this.$target.hasClass('open'));\n\t},\n\tenableEvents: function()\n\t{\n\t\tif (this.detect.isDesktop())\n\t\t{\n\t\t\tthis.$target.on('mouseover.' + this.namespace, $.proxy(this.utils.disableBodyScroll, this.utils))\n\t\t\t            .on('mouseout.' + this.namespace,  $.proxy(this.utils.enableBodyScroll, this.utils));\n\t\t}\n\n\t\t$(document).on('scroll.' + this.namespace, $.proxy(this.setPosition, this));\n\t\t$(window).on('resize.' + this.namespace, $.proxy(this.setPosition, this));\n\t\t$(document).on('click.' + this.namespace + ' touchstart.' + this.namespace, $.proxy(this.close, this));\n\t\t$(document).on('keydown.' + this.namespace, $.proxy(this.handleKeyboard, this));\n\t\tthis.$target.find('[data-action=\"dropdown-close\"]').on('click.' + this.namespace, $.proxy(this.close, this));\n\t},\n\tdisableEvents: function()\n\t{\n\t\tthis.$target.off('.' + this.namespace);\n\t\t$(document).off('.' + this.namespace);\n\t\t$(window).off('.' + this.namespace);\n\t},\n\thandleKeyboard: function(e)\n\t{\n\t\tif (e.which === 27) this.close(e);\n\t},\n\tshouldNotBeClosed: function(el)\n\t{\n            if ($(el).attr('data-action') === 'dropdown-close' || el === this.$close[0])\n            {\n                return false;\n\t\t}\n\t\telse if ($(el).closest('.dropdown').length === 0)\n\t\t{\n\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n        isNavigationFixed: function()\n\t{\n\t\treturn (this.$element.closest('.fixed').length !== 0);\n\t},\n\tgetPlacement: function(height)\n\t{\n\t\treturn ($(document).height() < height) ? 'top' : 'bottom';\n\t},\n\tgetOffset: function(position)\n\t{\n\t\treturn (this.isNavigationFixed()) ? this.$element.position() : this.$element.offset();\n\t},\n\tgetPosition: function()\n\t{\n\t\treturn (this.isNavigationFixed()) ? 'fixed' : 'absolute';\n\t},\n\tsetPosition: function()\n\t{\n\t\tif (this.detect.isMobile())\n\t\t{\n                this.$target.addClass('dropdown-mobile');\n                return;\n\t\t}\n\n\t\tvar position = this.getPosition();\n\t\t\tvar coords = this.getOffset(position);\n\t\t\tvar height = this.$target.innerHeight();\n\t\t\tvar width = this.$target.innerWidth();\n\t\t\tvar placement = this.getPlacement(coords.top + height + this.$element.innerHeight());\n\t\t\tvar leftFix = ($(window).width() < (coords.left + width)) ? (width - this.$element.innerWidth()) : 0;\n\t\t\tvar top, left = coords.left - leftFix;\n\n\t\t\tif (placement === 'bottom')\n\t\t\t{\n\t\t\tif (!this.isOpened()) this.$caret.removeClass('up').addClass('down');\n\n\t\t\t\tthis.opts.caretUp = false;\n\t\t\t\ttop = coords.top + this.$element.outerHeight() + 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.opts.animationOpen = 'show';\n\t\t\t\tthis.opts.animationClose = 'hide';\n\n                if (!this.isOpened()) this.$caret.addClass('up').removeClass('down');\n\n\t\t\t\tthis.opts.caretUp = true;\n\t\t\t\ttop = coords.top - height - 1;\n\t\t\t}\n\n\t\t\tthis.$target.css({ position: position, top: top + 'px', left: left + 'px' });\n\t}\n    };\n\n    // Inheritance\n    Kube.Dropdown.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Dropdown');\n    Kube.Plugin.autoload('Dropdown');\n\n}(Kube));\n/**\n * @library Kube Tabs\n * @author Imperavi LLC\n * @license MIT\n */\n(function(Kube)\n{\n    Kube.Tabs = function(element, options)\n    {\n        this.namespace = 'tabs';\n        this.defaults = {\n\t\tequals: false,\n\t\tactive: false, // string (hash = tab id selector)\n\t\tlive: false, // class selector\n\t\thash: true, //boolean\n\t\tcallbacks: ['init', 'next', 'prev', 'open', 'opened', 'close', 'closed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Tabs.prototype = {\n        start: function()\n        {\n            if (this.opts.live !== false) this.buildLiveTabs();\n\n            this.tabsCollection = [];\n            this.hashesCollection = [];\n            this.currentHash = [];\n            this.currentItem = false;\n\n            // items\n            this.$items = this.getItems();\n            this.$items.each($.proxy(this.loadItems, this));\n\n            // tabs\n\t\tthis.$tabs = this.getTabs();\n\n            // location hash\n\t\tthis.currentHash = this.getLocationHash();\n\n\t\t// close all\n\t\tthis.closeAll();\n\n            // active & height\n\t\tthis.setActiveItem();\n\t\tthis.setItemHeight();\n\n            // callback\n\t\tthis.callback('init');\n\n\t},\n\tgetTabs: function()\n\t{\n\t\treturn $(this.tabsCollection).map(function()\n\t\t{\n\t\treturn this.toArray();\n            });\n\t},\n\tgetItems: function()\n\t{\n\t\treturn this.$element.find('a');\n\t},\n\tloadItems: function(i, el)\n\t{\n\t\tvar item = this.getItem(el);\n\n\t\t// set item identificator\n\t\titem.$el.attr('rel', item.hash);\n\n\t\t// collect item\n            this.collectItem(item);\n\n            // active\n\t\tif (item.$parent.hasClass('active'))\n\t\t{\n\t\t\tthis.currentItem = item;\n\t\t\tthis.opts.active = item.hash;\n\t\t}\n\n\t\t// event\n\t\titem.$el.on('click.tabs', $.proxy(this.open, this));\n\n\t},\n\tcollectItem: function(item)\n\t{\n\t\tthis.tabsCollection.push(item.$tab);\n\t\tthis.hashesCollection.push(item.hash);\n\t},\n\tbuildLiveTabs: function()\n\t{\n\t\tvar $layers = $(this.opts.live);\n\n\t\tif ($layers.length === 0)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$liveTabsList = $('<ul />');\n\t\t$layers.each($.proxy(this.buildLiveItem, this));\n\n\t\tthis.$element.html('').append(this.$liveTabsList);\n\n\t},\n\tbuildLiveItem: function(i, tab)\n\t{\n\t\tvar $tab = $(tab);\n\t\tvar $li = $('<li />');\n\t\tvar $a = $('<a />');\n\t\tvar index = i + 1;\n\n\t\t$tab.attr('id', this.getLiveItemId($tab, index));\n\n\t\tvar hash = '#' + $tab.attr('id');\n\t\tvar title = this.getLiveItemTitle($tab);\n\n\t\t$a.attr('href', hash).attr('rel', hash).text(title);\n\t\t$li.append($a);\n\n\t\tthis.$liveTabsList.append($li);\n\t},\n\tgetLiveItemId: function($tab, index)\n\t{\n\t\treturn (typeof $tab.attr('id') === 'undefined') ? this.opts.live.replace('.', '') + index : $tab.attr('id');\n\t},\n\tgetLiveItemTitle: function($tab)\n\t{\n\t\treturn (typeof $tab.attr('data-title') === 'undefined') ? $tab.attr('id') : $tab.attr('data-title');\n\t},\n\tsetActiveItem: function()\n\t{\n\t\tif (this.currentHash)\n\t\t{\n\t\t\tthis.currentItem = this.getItemBy(this.currentHash);\n\t\t\tthis.opts.active = this.currentHash;\n\t\t}\n\t\telse if (this.opts.active === false)\n\t\t{\n\t\t\tthis.currentItem = this.getItem(this.$items.first());\n\t\t\tthis.opts.active = this.currentItem.hash;\n\t\t}\n\n\t\tthis.addActive(this.currentItem);\n\t},\n\taddActive: function(item)\n\t{\n\t\titem.$parent.addClass('active');\n\t\titem.$tab.removeClass('hide').addClass('open');\n\n\t\tthis.currentItem = item;\n\t},\n\tremoveActive: function(item)\n\t{\n\t\titem.$parent.removeClass('active');\n\t\titem.$tab.addClass('hide').removeClass('open');\n\n\t\tthis.currentItem = false;\n\t},\n\tnext: function(e)\n\t{\n\t\tif (e) e.preventDefault();\n\n\t\tvar item = this.getItem(this.fetchElement('next'));\n\n\t\tthis.open(item.hash);\n\t\tthis.callback('next', item);\n\n\t},\n\tprev: function(e)\n\t{\n\t\tif (e) e.preventDefault();\n\n\t\tvar item = this.getItem(this.fetchElement('prev'));\n\n\t\tthis.open(item.hash);\n\t\tthis.callback('prev', item);\n\t},\n\tfetchElement: function(type)\n\t{\n            var element;\n\t\tif (this.currentItem !== false)\n\t\t{\n\t\t\t// prev or next\n\t\t\telement = this.currentItem.$parent[type]().find('a');\n\n\t\t\tif (element.length === 0)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// first\n\t\t\telement = this.$items[0];\n\t\t}\n\n\t\treturn element;\n\t},\n\topen: function(e, push)\n\t{\n\t\tif (typeof e === 'undefined') return;\n\t\tif (typeof e === 'object') e.preventDefault();\n\n\t\tvar item = (typeof e === 'object') ? this.getItem(e.target) : this.getItemBy(e);\n\t\tthis.closeAll();\n\n\t\tthis.callback('open', item);\n\t\tthis.addActive(item);\n\n\t\t// push state (doesn't need to push at the start)\n            this.pushStateOpen(push, item);\n\t\tthis.callback('opened', item);\n\t},\n\tpushStateOpen: function(push, item)\n\t{\n\t\tif (push !== false && this.opts.hash !== false)\n\t\t{\n\t\t\thistory.pushState(false, false, item.hash);\n\t\t}\n\t},\n\tclose: function(num)\n\t{\n\t\tvar item = this.getItemBy(num);\n\n\t\tif (!item.$parent.hasClass('active'))\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.callback('close', item);\n\t\tthis.removeActive(item);\n\t\tthis.pushStateClose();\n\t\tthis.callback('closed', item);\n\n\t},\n\tpushStateClose: function()\n\t{\n            if (this.opts.hash !== false)\n            {\n\t\t\thistory.pushState(false, false, ' ');\n\t\t}\n\t},\n\tcloseAll: function()\n\t{\n\t\tthis.$tabs.removeClass('open').addClass('hide');\n\t\tthis.$items.parent().removeClass('active');\n\t},\n\tgetItem: function(element)\n\t{\n\t\tvar item = {};\n\n\t\titem.$el = $(element);\n\t\titem.hash = item.$el.attr('href');\n\t\titem.$parent = item.$el.parent();\n\t\titem.$tab = $(item.hash);\n\n\t\treturn item;\n\t},\n\tgetItemBy: function(num)\n\t{\n\t\tvar element = (typeof num === 'number') ? this.$items.eq(num-1) : this.$element.find('[rel=\"' + num + '\"]');\n\n\t\treturn this.getItem(element);\n\t},\n\tgetLocationHash: function()\n\t{\n\t\tif (this.opts.hash === false)\n\t\t{\n\t\t\treturn false;\n\t\t}\n\n\t\treturn (this.isHash()) ? top.location.hash : false;\n\t},\n\tisHash: function()\n\t{\n\t\treturn !(top.location.hash === '' || $.inArray(top.location.hash, this.hashesCollection) === -1);\n\t},\n\tsetItemHeight: function()\n\t{\n\t\tif (this.opts.equals)\n\t\t{\n\t\tvar minHeight = this.getItemMaxHeight() + 'px';\n\t\t\tthis.$tabs.css('min-height', minHeight);\n\t\t}\n\t},\n\tgetItemMaxHeight: function()\n\t{\n\t\tvar max = 0;\n\t\tthis.$tabs.each(function()\n\t\t{\n\t\t\tvar h = $(this).height();\n\t\t\tmax = h > max ? h : max;\n\t\t});\n\n\t\treturn max;\n\t}\n    };\n\n    // Inheritance\n    Kube.Tabs.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Tabs');\n    Kube.Plugin.autoload('Tabs');\n\n}(Kube));\n/**\n * @library Kube Modal\n * @author Imperavi LLC\n * @license MIT\n */\n(function($)\n{\n    $.modalcurrent = null;\n\t$.modalwindow = function(options)\n\t{\n\tvar opts = $.extend({}, options, { show: true });\n\tvar $element = $('<span />');\n\n\t$element.modal(opts);\n\t};\n\n})(jQuery);\n\n(function(Kube)\n{\n    Kube.Modal = function(element, options)\n    {\n        this.namespace = 'modal';\n        this.defaults = {\n            target: null,\n            show: false,\n\t\turl: false,\n\t\theader: false,\n\t\twidth: '600px', // string\n\t\theight: false, // or string\n\t\tmaxHeight: false,\n\t\tposition: 'center', // top or center\n\t\toverlay: true,\n\t\tappendForms: false,\n\t\tappendFields: false,\n\t\tanimationOpen: 'show',\n\t\tanimationClose: 'hide',\n\t\tcallbacks: ['open', 'opened', 'close', 'closed']\n        };\n\n        // Parent Constructor\n        Kube.apply(this, arguments);\n\n        // Services\n        this.utils = new Kube.Utils();\n        this.detect = new Kube.Detect();\n\n        // Initialization\n        this.start();\n    };\n\n    // Functionality\n    Kube.Modal.prototype = {\n        start: function()\n        {\n            if (!this.hasTarget())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n            if (this.opts.show) this.load();\n\t\telse this.$element.on('click.' + this.namespace, $.proxy(this.load, this));\n\t},\n\tbuildModal: function()\n\t{\n\t\tthis.$modal = this.$target.find('.modal');\n\t\tthis.$header = this.$target.find('.modal-header');\n\t\tthis.$close = this.$target.find('.close');\n\t\tthis.$body = this.$target.find('.modal-body');\n\t},\n\tbuildOverlay: function()\n\t{\n\t\tif (this.opts.overlay === false)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif ($('#modal-overlay').length !== 0)\n\t\t{\n\t\t\tthis.$overlay = $('#modal-overlay');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.$overlay = $('<div id=\"modal-overlay\">').addClass('hide');\n\t\t\t$('body').prepend(this.$overlay);\n\t\t}\n\n\t\tthis.$overlay.addClass('overlay');\n\t},\n\tbuildHeader: function()\n\t{\n\t\tif (this.opts.header) this.$header.html(this.opts.header);\n\t},\n\tload: function(e)\n\t{\n\t\tthis.buildModal();\n\t\tthis.buildOverlay();\n\t\tthis.buildHeader();\n\n            if (this.opts.url) this.buildContent();\n            else               this.open(e);\n\t},\n\topen: function(e)\n\t{\n\t\tif (e) e.preventDefault();\n\n            if (this.isOpened())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.detect.isMobile()) this.opts.width = '96%';\n\t\tif (this.opts.overlay)      this.$overlay.removeClass('hide');\n\n\t\tthis.$target.removeClass('hide');\n\t\tthis.$modal.removeClass('hide');\n\n            this.enableEvents();\n\t\tthis.findActions();\n\n\t\tthis.resize();\n\t\t$(window).on('resize.' + this.namespace, $.proxy(this.resize, this));\n\n\t\tif (this.detect.isDesktop()) this.utils.disableBodyScroll();\n\n\t\t// enter\n\t\tthis.$modal.find('input[type=text],input[type=url],input[type=email]').on('keydown.' + this.namespace, $.proxy(this.handleEnter, this));\n\n\t\tthis.callback('open');\n\t\tthis.$modal.animation(this.opts.animationOpen, $.proxy(this.onOpened, this));\n        },\n        close: function(e)\n        {\n            if (!this.$modal || !this.isOpened())\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tif (e)\n\t\t{\n\t\t\tif (this.shouldNotBeClosed(e.target))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tthis.callback('close');\n\t\tthis.disableEvents();\n\n\t\tthis.$modal.animation(this.opts.animationClose, $.proxy(this.onClosed, this));\n\n            if (this.opts.overlay) this.$overlay.animation(this.opts.animationClose);\n        },\n\tonOpened: function()\n\t{\n\t\tthis.$modal.addClass('open');\n            this.callback('opened');\n\n            $.modalcurrent = this;\n\t},\n\tonClosed: function()\n\t{\n\t\tthis.callback('closed');\n\n            this.$target.addClass('hide');\n            this.$modal.removeClass('open');\n\n\t\tif (this.detect.isDesktop()) this.utils.enableBodyScroll();\n\n\t\tthis.$body.css('height', '');\n            $.modalcurrent = null;\n\t},\n\tisOpened: function()\n\t{\n\t\treturn (this.$modal.hasClass('open'));\n\t},\n\tgetData: function()\n\t{\n            var formdata = new Kube.FormData(this);\n            formdata.set('');\n\n            return formdata.get();\n\t},\n\tbuildContent: function()\n\t{\n\t\t$.ajax({\n\t\t\turl: this.opts.url + '?' + new Date().getTime(),\n\t\t\tcache: false,\n\t\t\ttype: 'post',\n\t\t\tdata: this.getData(),\n\t\t\tsuccess: $.proxy(function(data)\n\t\t\t{\n\t\t\t\tthis.$body.html(data);\n\t\t\t\tthis.open();\n\n\t\t\t}, this)\n\t\t});\n\t},\n\tbuildWidth: function()\n\t{\n\t\tvar width = this.opts.width;\n\t\tvar top = '2%';\n\t\tvar bottom = '2%';\n\t\tvar percent = width.match(/%$/);\n\n\t\tif ((parseInt(this.opts.width) > $(window).width()) && !percent)\n\t\t{\n                width = '96%';\n\t\t}\n\t\telse if (!percent)\n\t\t{\n                top = '16px';\n                bottom = '16px';\n\t\t}\n\n\t\tthis.$modal.css({ 'width': width, 'margin-top': top, 'margin-bottom': bottom });\n\n\t},\n\tbuildPosition: function()\n\t{\n\t\tif (this.opts.position !== 'center')\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tvar windowHeight = $(window).height();\n\t\tvar height = this.$modal.outerHeight();\n\t\tvar top = (windowHeight/2 - height/2) + 'px';\n\n\t\tif (this.detect.isMobile())     top = '2%';\n\t\telse if (height > windowHeight) top = '16px';\n\n\t\tthis.$modal.css('margin-top', top);\n\t},\n\tbuildHeight: function()\n\t{\n\t\tvar windowHeight = $(window).height();\n\n\t\tif (this.opts.maxHeight)\n\t\t{\n\t\t\tvar padding = parseInt(this.$body.css('padding-top')) + parseInt(this.$body.css('padding-bottom'));\n\t\t\tvar margin = parseInt(this.$modal.css('margin-top')) + parseInt(this.$modal.css('margin-bottom'));\n\t\t\tvar height = windowHeight - this.$header.innerHeight() - padding - margin;\n\n\t\t\tthis.$body.height(height);\n\t\t}\n\t\telse if (this.opts.height !== false)\n\t\t{\n\t\t\tthis.$body.css('height', this.opts.height);\n\t\t}\n\n\t\tvar modalHeight = this.$modal.outerHeight();\n\t\tif (modalHeight > windowHeight)\n\t\t{\n\t\t\tthis.opts.animationOpen = 'show';\n\t\t\tthis.opts.animationClose = 'hide';\n\t\t}\n\t},\n\tresize: function()\n\t{\n\t\tthis.buildWidth();\n\t\tthis.buildPosition();\n\t\tthis.buildHeight();\n\t},\n\tenableEvents: function()\n\t{\n\t\tthis.$close.on('click.' + this.namespace, $.proxy(this.close, this));\n\t\t$(document).on('keyup.' + this.namespace, $.proxy(this.handleEscape, this));\n\t\tthis.$target.on('click.' + this.namespace, $.proxy(this.close, this));\n\t},\n\tdisableEvents: function()\n\t{\n\t\tthis.$close.off('.' + this.namespace);\n\t\t$(document).off('.' + this.namespace);\n\t\tthis.$target.off('.' + this.namespace);\n\t\t$(window).off('.' + this.namespace);\n\t},\n\tfindActions: function()\n\t{\n\t\tthis.$body.find('[data-action=\"modal-close\"]').on('mousedown.' + this.namespace, $.proxy(this.close, this));\n\t},\n\tsetHeader: function(header)\n\t{\n\t\tthis.$header.html(header);\n\t},\n\tsetContent: function(content)\n\t{\n\t\tthis.$body.html(content);\n\t},\n\tsetWidth: function(width)\n\t{\n\t\tthis.opts.width = width;\n\t\tthis.resize();\n\t},\n\tgetModal: function()\n\t{\n            return this.$modal;\n\t},\n\tgetBody: function()\n\t{\n            return this.$body;\n\t},\n\tgetHeader: function()\n\t{\n            return this.$header;\n\t},\n\thandleEnter: function(e)\n\t{\n\t\tif (e.which === 13)\n\t\t{\n\t\te.preventDefault();\n\t\tthis.close(false);\n            }\n\t},\n\thandleEscape: function(e)\n\t{\n\t\treturn (e.which === 27) ? this.close(false) : true;\n\t},\n\tshouldNotBeClosed: function(el)\n\t{\n            if ($(el).attr('data-action') === 'modal-close' || el === this.$close[0])\n            {\n                return false;\n\t\t}\n\t\telse if ($(el).closest('.modal').length === 0)\n\t\t{\n\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n    };\n\n    // Inheritance\n    Kube.Modal.inherits(Kube);\n\n    // Plugin\n    Kube.Plugin.create('Modal');\n    Kube.Plugin.autoload('Modal');\n\n}(Kube));","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _computedStyles = require('computed-styles');\n\nvar _computedStyles2 = _interopRequireDefault(_computedStyles);\n\nvar _fileSaver = require('file-saver');\n\nvar _fileSaver2 = _interopRequireDefault(_fileSaver);\n\nvar svgStyles = { // Whitelist of CSS styles and default values\n  'alignment-baseline': 'auto',\n  'baseline-shift': 'baseline',\n  'clip': 'auto',\n  'clip-path': 'none',\n  'clip-rule': 'nonzero',\n  'color': 'rgb(51, 51, 51)',\n  'color-interpolation': 'srgb',\n  'color-interpolation-filters': 'linearrgb',\n  'color-profile': 'auto',\n  'color-rendering': 'auto',\n  'cursor': 'auto',\n  'direction': 'ltr',\n  'display': 'inline',\n  'dominant-baseline': 'auto',\n  'enable-background': '',\n  'fill': 'rgb(0, 0, 0)',\n  'fill-opacity': '1',\n  'fill-rule': 'nonzero',\n  'filter': 'none',\n  'flood-color': 'rgb(0, 0, 0)',\n  'flood-opacity': '1',\n  'font': '',\n  'font-family': 'normal',\n  'font-size': 'medium',\n  'font-size-adjust': 'auto',\n  'font-stretch': 'normal',\n  'font-style': 'normal',\n  'font-variant': 'normal',\n  'font-weight': '400',\n  'glyph-orientation-horizontal': '0deg',\n  'glyph-orientation-vertical': 'auto',\n  'image-rendering': 'auto',\n  'kerning': 'auto',\n  'letter-spacing': '0',\n  'lighting-color': 'rgb(255, 255, 255)',\n  'marker': '',\n  'marker-end': 'none',\n  'marker-mid': 'none',\n  'marker-start': 'none',\n  'mask': 'none',\n  'opacity': '1',\n  'overflow': 'visible',\n  'paint-order': 'fill',\n  'pointer-events': 'auto',\n  'shape-rendering': 'auto',\n  'stop-color': 'rgb(0, 0, 0)',\n  'stop-opacity': '1',\n  'stroke': 'none',\n  'stroke-dasharray': 'none',\n  'stroke-dashoffset': '0',\n  'stroke-linecap': 'butt',\n  'stroke-linejoin': 'miter',\n  'stroke-miterlimit': '4',\n  'stroke-opacity': '1',\n  'stroke-width': '1',\n  'text-anchor': 'start',\n  'text-decoration': 'none',\n  'text-rendering': 'auto',\n  'unicode-bidi': 'normal',\n  'visibility': 'visible',\n  'word-spacing': '0px',\n  'writing-mode': 'lr-tb'\n};\n\nvar svgAttrs = [// white list of attributes\n'id', 'xml: base', 'xml: lang', 'xml: space', // Core\n'height', 'result', 'width', 'x', 'y', // Primitive\n'xlink: href', // Xlink attribute\n'href', 'style', 'class', 'd', 'pathLength', // Path\n'x', 'y', 'dx', 'dy', 'glyphRef', 'format', 'x1', 'y1', 'x2', 'y2', 'rotate', 'textLength', 'cx', 'cy', 'r', 'rx', 'ry', 'fx', 'fy', 'width', 'height', 'refX', 'refY', 'orient', 'markerUnits', 'markerWidth', 'markerHeight', 'maskUnits', 'transform', 'viewBox', 'version', // Container\n'preserveAspectRatio', 'xmlns', 'points', // Polygons\n'offset', 'xlink:href'];\n\n// http://www.w3.org/TR/SVG/propidx.html\n// via https://github.com/svg/svgo/blob/master/plugins/_collections.js\nvar inheritableAttrs = ['clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cursor', 'direction', 'fill', 'fill-opacity', 'fill-rule', 'font', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'glyph-orientation-horizontal', 'glyph-orientation-vertical', 'image-rendering', 'kerning', 'letter-spacing', 'marker', 'marker-end', 'marker-mid', 'marker-start', 'pointer-events', 'shape-rendering', 'stroke', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke-width', 'text-anchor', 'text-rendering', 'transform', 'visibility', 'white-space', 'word-spacing', 'writing-mode'];\n\n/* Some simple utilities */\n\nvar isFunction = function isFunction(a) {\n  return typeof a === 'function';\n};\nvar isDefined = function isDefined(a) {\n  return typeof a !== 'undefined';\n};\nvar isUndefined = function isUndefined(a) {\n  return typeof a === 'undefined';\n};\nvar isObject = function isObject(a) {\n  return a !== null && typeof a === 'object';\n};\n\n// from https://github.com/npm-dom/is-dom/blob/master/index.js\nfunction isNode(val) {\n  if (!isObject(val)) {\n    return false;\n  }\n  if (isDefined(window) && isObject(window.Node)) {\n    return val instanceof window.Node;\n  }\n  return typeof val.nodeType === 'number' && typeof val.nodeName === 'string';\n}\n\n/* Some utilities for cloning SVGs with inline styles */\n// Removes attributes that are not valid for SVGs\nfunction cleanAttrs(el, attrs, styles) {\n  // attrs === false - remove all, attrs === true - allow all\n  if (attrs === true) {\n    return;\n  }\n\n  Array.prototype.slice.call(el.attributes).forEach(function (attr) {\n    // remove if it is not style nor on attrs  whitelist\n    // keeping attributes that are also styles because attributes override\n    if (attr.specified) {\n      if (attrs === '' || attrs === false || isUndefined(styles[attr.name]) && attrs.indexOf(attr.name) < 0) {\n        el.removeAttribute(attr.name);\n      }\n    }\n  });\n}\n\nfunction cleanStyle(tgt, parentStyles) {\n  parentStyles = parentStyles || tgt.parentNode.style;\n  inheritableAttrs.forEach(function (key) {\n    if (tgt.style[key] === parentStyles[key]) {\n      tgt.style.removeProperty(key);\n    }\n  });\n}\n\nfunction domWalk(src, tgt, down, up) {\n  down(src, tgt);\n  var children = src.childNodes;\n  for (var i = 0; i < children.length; i++) {\n    domWalk(children[i], tgt.childNodes[i], down, up);\n  }\n  up(src, tgt);\n}\n\n// Clones an SVGElement, copies approprate atttributes and styles.\nfunction cloneSvg(src, attrs, styles) {\n  var clonedSvg = src.cloneNode(true);\n\n  domWalk(src, clonedSvg, function (src, tgt) {\n    if (tgt.style) {\n      (0, _computedStyles2['default'])(src, tgt.style, styles);\n    }\n  }, function (src, tgt) {\n    if (tgt.style && tgt.parentNode) {\n      cleanStyle(tgt);\n    }\n    if (tgt.attributes) {\n      cleanAttrs(tgt, attrs, styles);\n    }\n  });\n\n  return clonedSvg;\n}\n\n/* global Image, MouseEvent */\n\n/* Some simple utilities for saving SVGs, including an alternative to saveAs */\n\n// detection\nvar DownloadAttributeSupport = typeof document !== 'undefined' && 'download' in document.createElement('a') && typeof MouseEvent === 'function';\n\nfunction saveUri(uri, name) {\n  if (DownloadAttributeSupport) {\n    var dl = document.createElement('a');\n    dl.setAttribute('href', uri);\n    dl.setAttribute('download', name);\n    // firefox doesn't support `.click()`...\n    // from https://github.com/sindresorhus/multi-download/blob/gh-pages/index.js\n    dl.dispatchEvent(new MouseEvent('click'));\n    return true;\n  } else if (typeof window !== 'undefined') {\n    window.open(uri, '_blank', '');\n    return true;\n  }\n\n  return false;\n}\n\nfunction createCanvas(uri, name, cb) {\n  var canvas = document.createElement('canvas');\n  var context = canvas.getContext('2d');\n\n  var image = new Image();\n  image.onload = function () {\n    canvas.width = image.width;\n    canvas.height = image.height;\n    context.drawImage(image, 0, 0);\n\n    cb(canvas);\n  };\n  image.src = uri;\n  return true;\n}\n\nfunction savePng(uri, name) {\n  return createCanvas(uri, name, function (canvas) {\n    if (isDefined(canvas.toBlob)) {\n      canvas.toBlob(function (blob) {\n        _fileSaver2['default'].saveAs(blob, name);\n      });\n    } else {\n      saveUri(canvas.toDataURL('image/png'), name);\n    }\n  });\n}\n\n/* global Blob */\n\nvar isIE11 = !!window.MSInputMethodContext && !!document.documentMode;\n\n// inheritable styles may be overridden by parent, always copy for now\ninheritableAttrs.forEach(function (k) {\n  if (k in svgStyles) {\n    svgStyles[k] = true;\n  }\n});\n\nvar SvgSaver = (function () {\n  _createClass(SvgSaver, null, [{\n    key: 'getSvg',\n    value: function getSvg(el) {\n      if (isUndefined(el) || el === '') {\n        el = document.body.querySelector('svg');\n      } else if (typeof el === 'string') {\n        el = document.body.querySelector(el);\n      }\n      if (el && el.tagName !== 'svg') {\n        el = el.querySelector('svg');\n      }\n      if (!isNode(el)) {\n        throw new Error('svgsaver: Can\\'t find an svg element');\n      }\n      return el;\n    }\n  }, {\n    key: 'getFilename',\n    value: function getFilename(el, filename, ext) {\n      if (!filename || filename === '') {\n        filename = (el.getAttribute('title') || 'untitled') + '.' + ext;\n      }\n      return encodeURI(filename);\n    }\n\n    /**\n    * SvgSaver constructor.\n    * @constructs SvgSaver\n    * @api public\n    *\n    * @example\n    * var svgsaver = new SvgSaver();                      // creates a new instance\n    * var svg = document.querySelector('#mysvg');         // find the SVG element\n    * svgsaver.asSvg(svg);                                // save as SVG\n    */\n  }]);\n\n  function SvgSaver() {\n    var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var attrs = _ref.attrs;\n    var styles = _ref.styles;\n\n    _classCallCheck(this, SvgSaver);\n\n    this.attrs = attrs === undefined ? svgAttrs : attrs;\n    this.styles = styles === undefined ? svgStyles : styles;\n  }\n\n  /**\n  * Return the cloned SVG after cleaning\n  *\n  * @param {SVGElement} el The element to copy.\n  * @returns {SVGElement} SVG text after cleaning\n  * @api public\n  */\n\n  _createClass(SvgSaver, [{\n    key: 'cloneSVG',\n    value: function cloneSVG(el) {\n      el = SvgSaver.getSvg(el);\n      var svg = cloneSvg(el, this.attrs, this.styles);\n\n      svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n      svg.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n      svg.setAttribute('version', 1.1);\n\n      // height and width needed to download in FireFox\n      svg.setAttribute('width', svg.getAttribute('width') || '500');\n      svg.setAttribute('height', svg.getAttribute('height') || '900');\n\n      return svg;\n    }\n\n    /**\n    * Return the SVG HTML text after cleaning\n    *\n    * @param {SVGElement} el The element to copy.\n    * @returns {String} SVG text after cleaning\n    * @api public\n    */\n  }, {\n    key: 'getHTML',\n    value: function getHTML(el) {\n      var svg = this.cloneSVG(el);\n\n      var html = svg.outerHTML;\n      if (html) {\n        return html;\n      }\n\n      // see http://stackoverflow.com/questions/19610089/unwanted-namespaces-on-svg-markup-when-using-xmlserializer-in-javascript-with-ie\n      svg.removeAttribute('xmlns');\n      svg.removeAttribute('xmlns:xlink');\n\n      svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns', 'http://www.w3.org/2000/svg');\n      svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n      return new window.XMLSerializer().serializeToString(svg);\n    }\n\n    /**\n    * Return the SVG, after cleaning, as a text/xml Blob\n    *\n    * @param {SVGElement} el The element to copy.\n    * @returns {Blog} SVG as a text/xml Blob\n    * @api public\n    */\n  }, {\n    key: 'getBlob',\n    value: function getBlob(el) {\n      var html = this.getHTML(el);\n      return new Blob([html], { type: 'text/xml' });\n    }\n\n    /**\n    * Return the SVG, after cleaning, as a image/svg+xml;base64 URI encoded string\n    *\n    * @param {SVGElement} el The element to copy.\n    * @returns {String} SVG as image/svg+xml;base64 URI encoded string\n    * @api public\n    */\n  }, {\n    key: 'getUri',\n    value: function getUri(el) {\n      var html = encodeURIComponent(this.getHTML(el));\n      if (isDefined(window.btoa)) {\n        // see http://stackoverflow.com/questions/23223718/failed-to-execute-btoa-on-window-the-string-to-be-encoded-contains-characte\n        return 'data:image/svg+xml;base64,' + window.btoa(unescape(html));\n      }\n      return 'data:image/svg+xml,' + html;\n    }\n\n    /**\n    * Saves the SVG as a SVG file using method compatible with the browser\n    *\n    * @param {SVGElement} el The element to copy.\n    * @param {string} [filename] The filename to save, defaults to the SVG title or 'untitled.svg'\n    * @returns {SvgSaver} The SvgSaver instance\n    * @api public\n    */\n  }, {\n    key: 'asSvg',\n    value: function asSvg(el, filename) {\n      el = SvgSaver.getSvg(el);\n      filename = SvgSaver.getFilename(el, filename, 'svg');\n      if (isFunction(Blob)) {\n        return _fileSaver2['default'].saveAs(this.getBlob(el), filename);\n      }\n      return saveUri(this.getUri(el), filename);\n    }\n\n    /**\n    * Gets the SVG as a PNG data URI.\n    *\n    * @param {SVGElement} el The element to copy.\n    * @param {Function} cb Call back called with the PNG data uri.\n    * @api public\n    */\n  }, {\n    key: 'getPngUri',\n    value: function getPngUri(el, cb) {\n      if (isIE11) {\n        console.error('svgsaver: getPngUri not supported on IE11');\n      }\n      el = SvgSaver.getSvg(el);\n      var filename = SvgSaver.getFilename(el, null, 'png');\n      return createCanvas(this.getUri(el), filename, function (canvas) {\n        cb(canvas.toDataURL('image/png'));\n      });\n    }\n\n    /**\n    * Saves the SVG as a PNG file using method compatible with the browser\n    *\n    * @param {SVGElement} el The element to copy.\n    * @param {string} [filename] The filename to save, defaults to the SVG title or 'untitled.png'\n    * @returns {SvgSaver} The SvgSaver instance\n    * @api public\n    */\n  }, {\n    key: 'asPng',\n    value: function asPng(el, filename) {\n      if (isIE11) {\n        console.error('svgsaver: asPng not supported on IE11');\n      }\n      el = SvgSaver.getSvg(el);\n      filename = SvgSaver.getFilename(el, filename, 'png');\n      return savePng(this.getUri(el), filename);\n    }\n  }]);\n\n  return SvgSaver;\n})();\n\nexports['default'] = SvgSaver;\nmodule.exports = exports['default'];\n"]}
>>>>>>> ac858c3adbb2463be643f625bdd2a6e7bdfc741d
